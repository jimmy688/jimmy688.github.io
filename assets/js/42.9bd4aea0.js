(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1982:function(a,t,s){"use strict";s.r(t);var n=s(17),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h2",{attrs:{id:"hadoop集群规划信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hadoop集群规划信息"}},[a._v("#")]),a._v(" hadoop集群规划信息")]),a._v(" "),n("ul",[n("li",[n("code",[a._v("node01 192.168.52.101")])]),a._v(" "),n("li",[n("code",[a._v("node02 192.168.52.102")])]),a._v(" "),n("li",[n("code",[a._v("node03 192.168.52.103")])])]),a._v(" "),n("p",[a._v("⚠️ 本文使用centos7系统作为演示")]),a._v(" "),n("h2",{attrs:{id:"创建node01虚拟机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建node01虚拟机"}},[a._v("#")]),a._v(" 创建node01虚拟机")]),a._v(" "),n("h4",{attrs:{id:"配置静态ip"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置静态ip"}},[a._v("#")]),a._v(" 配置静态IP：")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/sysconfig/network-scripts/ifcfg-ens33 \n\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("BOOTPROTO")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"static"')]),a._v(" \n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPADDR")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".52.101 （要跟虚拟机编辑器网段一样）\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NETMASK")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("255.255")]),a._v(".255.0 \n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GATEWAY")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".52.2 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("要跟虚拟机编辑器设置一样"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" \n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DNS1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("114.114")]),a._v(".114.114\n")])])]),n("h4",{attrs:{id:"关闭防火墙"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关闭防火墙"}},[a._v("#")]),a._v(" 关闭防火墙")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("systemctl stop firewalld //停止防火墙\nsystemctl disable firewalld //禁止自启动\n")])])]),n("h4",{attrs:{id:"关闭selinux服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关闭selinux服务"}},[a._v("#")]),a._v(" 关闭selinux服务")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/selinux/config \n\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SELINUX")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("disabled\n")])])]),n("h4",{attrs:{id:"更改主机名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#更改主机名"}},[a._v("#")]),a._v(" 更改主机名")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("hostnamectl set-hostname node01   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#此方法不用重启")]),a._v("\n")])])]),n("h4",{attrs:{id:"配置ip映射"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置ip映射"}},[a._v("#")]),a._v(" 配置IP映射")]),a._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[a._v("vim "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("hosts\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//添加以下内容")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".52")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".101")]),a._v(" node01\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".52")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".102")]),a._v(" node02\n"),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".52")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".103")]),a._v(" node03\n")])])]),n("h2",{attrs:{id:"克隆虚拟机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#克隆虚拟机"}},[a._v("#")]),a._v(" 克隆虚拟机")]),a._v(" "),n("p",[a._v("根据"),n("code",[a._v("node01")]),a._v("克隆出"),n("code",[a._v("node02、node03")]),a._v("，克隆方式使用完整克隆，"),n("strong",[a._v("需要node01先关机")]),a._v("。")]),a._v(" "),n("h4",{attrs:{id:"修改node02-03的ip地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改node02-03的ip地址"}},[a._v("#")]),a._v(" 修改node02/03的ip地址")]),a._v(" "),n("div",{staticClass:"language-Java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[a._v("vi "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("sysconfig"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("network"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("scripts"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("ifcfg"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ens33\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//node02修改ip为102")]),a._v("\nIPADDR"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".52")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".102")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//node03修改ip为103")]),a._v("\nIPADDR"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".52")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".103")]),a._v("\n")])])]),n("h4",{attrs:{id:"修改node02-03的主机名"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改node02-03的主机名"}},[a._v("#")]),a._v(" 修改node02/03的主机名")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("hostnamectl set-hostname node02\nhostnamectl set-hostname node03\n")])])]),n("h4",{attrs:{id:"检查node02-03"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#检查node02-03"}},[a._v("#")]),a._v(" 检查node02/03")]),a._v(" "),n("p",[a._v("检查"),n("code",[a._v("node02、node03")]),a._v("是否确实关闭防火墙和"),n("code",[a._v("selinux")]),a._v("服务了")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("systemctl status firewalld\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/selinux/config\n")])])]),n("h2",{attrs:{id:"所有机器同步时间"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#所有机器同步时间"}},[a._v("#")]),a._v(" 所有机器同步时间")]),a._v(" "),n("p",[a._v("同步阿里云时间：")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" ntpdate "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#一定要先安装ntpdate！！！")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#使用crt，同时给三个节点发送下列命令")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("crontab")]),a._v(" -e  （按i进行编辑）\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#每个节点都添加以下内容，然后保存退出。")]),a._v("\n*/1 * * * * /usr/sbin/ntpdate time1.aliyun.com\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#每隔一分钟执行一次命令/usr/sbin/ntpdate time1.aliyun.com来更新同步linux的系统时间")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#定时更新同步linux的系统时间后，在linux每次关机的时候都会将系统时间同步到硬件时间。")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#date命令查看的是硬件时间。将系统时间同步到硬件时间的命令是hwclock --systohc")]),a._v("\n")])])]),n("p",[a._v("时间同步的原理：")]),a._v(" "),n("p",[n("img",{attrs:{src:s(469),alt:"image-20200217182740925"}})]),a._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("linux定时任务的解释：")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),a._v("   *   *   *   mail dmtsai -s "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"at 12:00"')]),a._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" /home/dmtsai/.bashrc\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#分  时   日   月  周  |《==============命令行=======================》|")]),a._v("\n")])])]),n("table",[n("thead",[n("tr",[n("th",[a._v("特殊字符")]),a._v(" "),n("th",[a._v("代表意义")])])]),a._v(" "),n("tbody",[n("tr",[n("td",[n("code",[a._v("*")])]),a._v(" "),n("td",[a._v("代表任何时刻都接受的意思。举例来说，范例一内那个日、月、周都是*，就代表着不论何月、何日的礼拜几的12：00都执行后续命令的意思。")])]),a._v(" "),n("tr",[n("td",[n("code",[a._v(",")])]),a._v(" "),n("td",[a._v("代表分隔时段的意思。举例来说，如果要执行的工作是"),n("code",[a._v("3:00")]),a._v("与"),n("code",[a._v("6:00")]),a._v("时，"),n("br"),a._v("就会是："),n("code",[a._v("0 3,6 * * * command")]),a._v(" 时间还是有五列，不过第二列是 3,6 ，代表3与6都适用")])]),a._v(" "),n("tr",[n("td",[n("code",[a._v("-")])]),a._v(" "),n("td",[a._v("代表一段时间范围内，举例来说，8点到12点之间的每小时的20分都进行一项工作：20 8-12 * * * command仔细看到第二列变成8-12 , 代表 8,9,10,11,12 都适用的意思")])]),a._v(" "),n("tr",[n("td",[n("code",[a._v("/n")])]),a._v(" "),n("td",[a._v("那个n代表数字，即是每隔n单位间隔的意思，例如每五分钟进行一次，"),n("br"),a._v("则："),n("code",[a._v("*/5 * * * * command")]),a._v("用*与/5来搭配，也可以写成 0-59/5，意思相同")])])])])]),a._v(" "),n("h2",{attrs:{id:"所有机器添加普通用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#所有机器添加普通用户"}},[a._v("#")]),a._v(" 所有机器添加普通用户")]),a._v(" "),n("p",[a._v("三台机器添加普通用户"),n("code",[a._v("hadoop")]),a._v("，密码设为"),n("code",[a._v("hadoop")]),a._v(",为普通用户添加"),n("code",[a._v("sudo")]),a._v("权限")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("useradd")]),a._v(" hadoop\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("passwd")]),a._v(" hadoop（密码三台机器都设为hadoop）\n")])])]),n("p",[a._v("为普通用户添加"),n("code",[a._v("sudo")]),a._v("权限：")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("visudo\n \nroot    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ALL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ALL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("       ALL\nhadoop  "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ALL")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ALL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("       ALL \n")])])]),n("h2",{attrs:{id:"所有机器统一目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#所有机器统一目录"}},[a._v("#")]),a._v(" 所有机器统一目录")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/soft   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 软件压缩包存放目录 ")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 软件解压后存放目录 ")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" -R hadoop:hadoop /kkb   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 将文件夹权限更改为hadoop用户")]),a._v("\n")])])]),n("h2",{attrs:{id:"配置免密登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置免密登录"}},[a._v("#")]),a._v(" 配置免密登录")]),a._v(" "),n("p",[a._v("为所有机器之间的hadoop用户配置免密登录，每个机器要相互间都能远程免密连接，则都要产生公钥和私钥，并将自身公钥分发到其它所有的机器。")]),a._v(" "),n("p",[a._v("1、切换到"),n("code",[a._v("hadoop")]),a._v("用户进行操作： "),n("code",[a._v("su - hadoop")])]),a._v(" "),n("p",[a._v("2、所有机器执行 "),n("code",[a._v("ssh-keygen -t rsa")])]),a._v(" "),n("p",[a._v("3、三台机器在"),n("code",[a._v("hadoop")]),a._v("用户下，执行以下命令将公钥拷贝到"),n("code",[a._v("node01")]),a._v("服务器上面去")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("ssh-copy-id node01 \n")])])]),n("p",[a._v("4、"),n("code",[a._v("node01")]),a._v("在"),n("code",[a._v("hadoop")]),a._v("用户下，执行以下命令，将"),n("code",[a._v("authorized_keys")]),a._v("拷贝到"),n("code",[a._v("node02")]),a._v("与"),n("code",[a._v("node03")]),a._v("服务器")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home/hadoop/.ssh/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#cd ~/.ssh/")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" authorized_keys node02:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v(" \n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" authorized_keys node03:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v("\n")])])]),n("p",[a._v("5、三台机器修改hadoop用户的公钥和私钥的权限")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("755")]),a._v(" ~/.ssh/\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/.ssh/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("644")]),a._v(" *\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("600")]),a._v(" id_rsa\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("600")]),a._v(" id_rsa.pub\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" id_rsa.pub "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" authorized_keys  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这步可能不需要了")]),a._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[n("strong",[a._v("A节点免密码远程连接到B节点的原理：")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(470),alt:"image-20200217182942335"}})])]),a._v(" "),n("h2",{attrs:{id:"所有机器配置java环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#所有机器配置java环境"}},[a._v("#")]),a._v(" 所有机器配置java环境")]),a._v(" "),n("h4",{attrs:{id:"三台机器上传安装包jdk"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三台机器上传安装包jdk"}},[a._v("#")]),a._v(" 三台机器上传安装包jdk")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[a._v("yum "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" lrzsz\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/soft\nrz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf /kkb/soft/jdk-8u141-linux-x64.tar.gz -C /kkb/install/\n")])])]),n("h4",{attrs:{id:"三台机器配置java环境变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三台机器配置java环境变量"}},[a._v("#")]),a._v(" 三台机器配置Java环境变量")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /home/hadoop/.bash_profile\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/jdk1.8.0_141 \n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("此处添加 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("/bin\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /home/hadoop/.bash_profile\n")])])]),n("h2",{attrs:{id:"node01安装hadoop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node01安装hadoop"}},[a._v("#")]),a._v(" node01安装hadoop")]),a._v(" "),n("h4",{attrs:{id:"node01上传编译后的安装包hadoop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node01上传编译后的安装包hadoop"}},[a._v("#")]),a._v(" node01上传编译后的安装包hadoop")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/soft\nrz\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf /kkb/soft/ -C /kkb/install/\n")])])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),n("p",[a._v("本文hadoop集群的安装，使用的是"),n("strong",[a._v("CDH的hadoop安装包")]),a._v("，后面会介绍CDH版本与apache版本的区别。")]),a._v(" "),n("p",[n("a",{attrs:{href:"http://archive.cloudera.com/cdh5/cdh/5/hadoop-2.6.0-cdh5.14.2-src.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[a._v("点击此处下载CDH版本的hadoop源码包"),n("OutboundLink")],1)]),a._v(" "),n("p",[a._v("CDH的所有安装包版本都给出了对应的软件版本，一般情况下是不需要自己进行编译的，但是由于cdh给出的hadoop的安装包没有提供带C程序访问的接口，所以我们在使用本地库（本地库可以用来做压缩，以及支持C程序等等）的时候就会出问题。")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_42582592/article/details/83000529",target:"_blank",rel:"noopener noreferrer"}},[a._v("点击此处查看CDH hadoop安装包的编译方法"),n("OutboundLink")],1)])]),a._v(" "),n("h4",{attrs:{id:"node01配置hadoop环境变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node01配置hadoop环境变量"}},[a._v("#")]),a._v(" node01配置Hadoop环境变量")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /home/hadoop/.bash_profile\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HADOOP_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("此处添加 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/bin:"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/sbin\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /home/hadoop/.bash_profile \n")])])]),n("h4",{attrs:{id:"node01查看hadoop支持的压缩方式以及本地库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node01查看hadoop支持的压缩方式以及本地库"}},[a._v("#")]),a._v(" node01查看hadoop支持的压缩方式以及本地库")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/hadoop-2.6.0-cdh5.14.2/bin\n\nhadoop checknative\n")])])]),n("p",[a._v("⚠️如果出现"),n("code",[a._v("openssl")]),a._v("为"),n("code",[a._v("false")]),a._v("，那么所有机器在线安装"),n("code",[a._v("openssl")]),a._v("即可，执行以下命令，虚拟机联网之后就可以在线进行安装了: "),n("code",[a._v("yum -y install openssl-devel")])]),a._v(" "),n("h4",{attrs:{id:"node01配置hadoop配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node01配置hadoop配置文件"}},[a._v("#")]),a._v(" node01配置hadoop配置文件")]),a._v(" "),n("p",[a._v("进入到配置文件目录：")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/hadoop-2.6.0-cdh5.14.2/etc/hadoop/\n")])])]),n("p",[a._v("修改hadoop-env.sh")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" hadoop-env.sh\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/jdk1.8.0_141\n")])])]),n("p",[a._v("修改core-site.xml")]),a._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("fs.defaultFS"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hdfs://node01:8020"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hadoop.tmp.dir"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("/kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/tempDatas"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--  缓冲区大小，实际工作中根据服务器性能动态调整 --\x3e")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("io.file.buffer.size"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("4096"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--  开启hdfs的垃圾桶机制，删除掉的数据可以从垃圾桶中回收，单位分钟 --\x3e")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("fs.trash.interval"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("10080"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("fs.trash.checkpoint.interval"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("0"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),n("p",[a._v("修改hdfs-site.xml")]),a._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[a._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- NameNode存储元数据信息的路径，实际工作中，一般先确定磁盘的挂载目录，然后多个目录用，进行分割   --\x3e")]),a._v(" \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--   集群动态上下线 \n    <property>\n        <name>dfs.hosts</name>\n        <value>/kkb/install/hadoop-2.6.0-cdh5.14.2/etc/hadoop/accept_host</value>\n    </property>\n    <property>\n        <name>dfs.hosts.exclude</name>\n        <value>/kkb/install/hadoop-2.6.0-cdh5.14.2/etc/hadoop/deny_host</value>\n    </property>\n     --\x3e")]),a._v("\n     "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.namenode.secondary.http-address"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("node01:50090"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.namenode.http-address"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("node01:50070"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.namenode.name.dir"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("file:///kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/namenodeDatas"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--  定义dataNode数据存储的节点位置，实际工作中，\n\t一般先确定磁盘的挂载目录，然后多个目录用，进行分割  --\x3e")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.datanode.data.dir"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("file:///kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/datanodeDatas"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.namenode.edits.dir"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("file:///kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/dfs/nn/edits"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.namenode.checkpoint.dir"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("file:///kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/dfs/snn/name"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.namenode.checkpoint.edits.dir"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("file:///kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/dfs/nn/snn/edits"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.replication"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("2"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.permissions"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("false"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.blocksize"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("134217728"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])]),n("p",[a._v("修改mapred-site.xml")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" mapred-site.xml.template mapred-site.xml\n")])])]),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.framework.name"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.job.ubertask.enable"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("true"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.jobhistory.address"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("node01:10020"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.jobhistory.webapp.address"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("node01:19888"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n     \n")])])]),n("p",[a._v("修改yarn-site.xml")]),a._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- Site specific YARN configuration properties --\x3e")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.resourcemanager.hostname"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("node01"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.nodemanager.aux-services"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce_shuffle"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])]),n("p",[a._v("修改node01编辑slaves")]),a._v(" "),n("div",{staticClass:"language-Java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[a._v("cd "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("kkb"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("install"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("hadoop"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2.6")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v(".0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("cdh5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("14.2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("etc"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("hadoop\nvim slaves \n\nnode01 "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//(加入这里不写node01的话，启动集群不会在node01启动datanode，即从节点)")]),a._v("\nnode02 \nnode03\n")])])]),n("p",[a._v("修改node01创建文件存放目录")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/tempDatas \n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/namenodeDatas \n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/datanodeDatas \n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/dfs/nn/edits\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/dfs/snn/name \n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install/hadoop-2.6.0-cdh5.14.2/hadoopDatas/dfs/nn/snn/edits\n")])])]),n("h2",{attrs:{id:"分发hadoop安装包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分发hadoop安装包"}},[a._v("#")]),a._v(" 分发hadoop安装包")]),a._v(" "),n("p",[a._v("分发node01的hadoop安装包到node02、node03：")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" -r hadoop-2.6.0-cdh5.14.2/ node02:/kkb/isntall/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" -r hadoop-2.6.0-cdh5.14.2/ node03:/kkb/install/\n")])])]),n("p",[a._v("配置node02/03的hadoop 环境变量：")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /home/hadoop/.bash_profile\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HADOOP_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/hadoop-2.6.0-cdh5.14.2\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("此处添加 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/bin:"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/sbin\n")])])]),n("p",[a._v("node02/node03安装"),n("code",[a._v("openssl-devel")])]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" openssl-devel\n")])])]),n("h2",{attrs:{id:"格式化hadoop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#格式化hadoop"}},[a._v("#")]),a._v(" 格式化hadoop")]),a._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),n("p",[a._v("只在node01节点格式化,不能重新格式化，只能格式化一次。")]),a._v(" "),n("p",[n("strong",[a._v("首次启动")]),a._v("HDFS时，必须对其进行格式化操作。"),n("strong",[a._v("本质上是一些清理和准备工作")]),a._v("，因为此时的 HDFS 在物理上还是不存在的。")])]),a._v(" "),n("p",[a._v("要启动 Hadoop 集群，需要启动 HDFS 和 YARN 两个集群。")]),a._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/hadoop-2.6.0-cdh5.14.2/bin/\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#执行下面其中一个命令：")]),a._v("\nhdfs namenode -format\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#或者")]),a._v("\nhadoop namenode –format\n")])])])])}),[],!1,null,null,null);t.default=e.exports},469:function(a,t,s){a.exports=s.p+"assets/img/image-20200217182740925.fb1d175a.png"},470:function(a,t,s){a.exports=s.p+"assets/img/image-20200217182942335.a5f4eb0d.png"}}]);