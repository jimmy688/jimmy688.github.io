(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1976:function(a,s,t){"use strict";t.r(s);var e=t(17),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"_1、atlas的基本概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、atlas的基本概述"}},[a._v("#")]),a._v(" 1、Atlas的基本概述")]),a._v(" "),e("p",[a._v("谈到数据治理，自然离不开元数据。元数据(Metadata)，用一句话定义就是："),e("strong",[a._v("描述数据的数据")]),a._v("。元数据打通了数据源、数据仓库、数据应用，记录了数据从产生到消费的全过程。因此，数据治理的核心就是"),e("code",[a._v("元数据管理")]),a._v("。")]),a._v(" "),e("p",[a._v("数据的真正价值在于数据驱动决策，通过数据指导运营。通过数据驱动的方法判断趋势，帮住我们发现问题，继而推动创新或产生新的解决方案。随着企业数据爆发式增长，数据体量越来越难以估量，我们很难说清楚"),e("strong",[a._v("我们到底拥有哪些数据，这些数据从哪里来，到哪里去，发生了什么变化，应该如何使用它们")]),a._v("。因此**元数据管理(数据治理)**成为企业级数据湖不可或缺的重要组成部分。")]),a._v(" "),e("p",[a._v("可惜很长一段时间内，市面都没有成熟的数据治理解决方案。直到2015年，Hortonworks终于坐不住了，约了一众小伙伴公司倡议：咱们开始整个数据治理方案吧。然后，包含"),e("strong",[a._v("数据分类、集中策略引擎、数据血缘、安全和生命周期管理功")]),a._v("能的Atlas应运而生。(PS：另一个应用的较多的元数据开源项目是Linkedin 在2016年新开源的项目："),e("code",[a._v("WhereHows")]),a._v(")Atlas目前最新的版本为2018年9月18日发布的"),e("code",[a._v("1.0.0")]),a._v("版本。")]),a._v(" "),e("p",[a._v("Atlas 是一个可伸缩和可扩展的核心基础治理服务集合 ，使企业能够有效地和高效地满足 Hadoop 中的合规性要求，并允许与整个企业数据生态系统的集成。")]),a._v(" "),e("p",[a._v("Apache Atlas为组织提供开放式元数据管理和治理功能，用以构建其数据资产目录，对这些资产进行分类和管理，并为数据科学家，数据分析师和数据治理团队提供围绕这些数据资产的协作功能。")]),a._v(" "),e("h2",{attrs:{id:"_2、atlas的架构概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、atlas的架构概述"}},[a._v("#")]),a._v(" 2、Atlas的架构概述")]),a._v(" "),e("p",[e("img",{attrs:{src:t(413),alt:"architecture"}})]),a._v(" "),e("h3",{attrs:{id:"core-核心模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core-核心模块"}},[a._v("#")]),a._v(" Core：核心模块")]),a._v(" "),e("p",[a._v("核心模块当中又包含以下几大模块：")]),a._v(" "),e("h4",{attrs:{id:"type-system-类型系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#type-system-类型系统"}},[a._v("#")]),a._v(" Type System：类型系统")]),a._v(" "),e("p",[a._v("Atlas允许用户"),e("strong",[a._v("为要管理的元数据对象定义模型")]),a._v("。 该模型由称为“类型”的定义组成。 称为“实体”的“类型”实例代表所管理的实际元数据对象。 "),e("strong",[a._v("类型系统是允许用户定义和管理类型和实体的组件")]),a._v("。 开箱即用的Atlas管理的所有元数据对象（例如，像Hive表一样）均使用类型进行建模，并表示为实体。 为了在Atlas中存储新类型的元数据，需要了解类型系统组件的概念。")]),a._v(" "),e("h4",{attrs:{id:"graph-engine-图形引擎"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#graph-engine-图形引擎"}},[a._v("#")]),a._v(" Graph Engine：图形引擎")]),a._v(" "),e("p",[a._v("在内部，"),e("strong",[a._v("Atlas保留使用Graph模型管理的元数据对象")]),a._v("。这种方法提供了极大的灵活性，并可以有效处理元数据对象之间的丰富关系。图引擎组件负责在Atlas类型系统的类型和实体以及基础图持久性模型之间进行转换。除了管理图形对象之外，图形引擎还为元数据对象创建适当的索引，以便可以高效地搜索它们。Atlas使用JanusGraph存储元数据对象。")]),a._v(" "),e("h4",{attrs:{id:"ingest-export-提取-导出"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ingest-export-提取-导出"}},[a._v("#")]),a._v(" Ingest / Export：提取/导出")]),a._v(" "),e("p",[e("strong",[a._v("“提取”组件允许将元数据添加到Atlas")]),a._v("。同样，"),e("strong",[a._v("导出组件将Atlas检测到的元数据更改公开为事件")]),a._v("。消费者可以使用这些更改事件来实时响应元数据更改")]),a._v(" "),e("h3",{attrs:{id:"integration-元数据管理集成模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integration-元数据管理集成模块"}},[a._v("#")]),a._v(" Integration：元数据管理集成模块")]),a._v(" "),e("p",[e("strong",[a._v("用户可以使用两种方法在Atlas中管理元数据：")])]),a._v(" "),e("h4",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[a._v("#")]),a._v(" API：")]),a._v(" "),e("p",[a._v("Atlas的所有功能都通过REST API向最终用户公开，该API允许创建，更新和删除类型和实体。它也是查询和发现Atlas管理的类型和实体的主要机制。")]),a._v(" "),e("h4",{attrs:{id:"messaging"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#messaging"}},[a._v("#")]),a._v(" Messaging：")]),a._v(" "),e("p",[a._v("除了API，"),e("strong",[a._v("用户还可以选择使用基于Kafka的消息传递接口与Atlas集成")]),a._v("。这对于将元数据对象传达给Atlas以及从Atlas消耗元数据更改事件（用于构建应用程序）都是很有用的。如果有人希望使用与Atlas的松散耦合集成，以实现更好的可伸缩性，可靠性等，则该消息传递接口特别有用。Atlas使用Apache Kafka作为通知服务器，用于挂钩和元数据通知事件的下游使用者之间的通信。这些事件由钩子和Atlas编写，涉及不同的Kafka主题。")]),a._v(" "),e("h3",{attrs:{id:"metadata-sources元数据源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#metadata-sources元数据源"}},[a._v("#")]),a._v(" Metadata Sources元数据源")]),a._v(" "),e("p",[a._v("Atlas支持与许多现成的元数据源集成。将来还将添加更多集成。当前，Atlas支持从以下来源提取和管理元数据：")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://atlas.apache.org/#/HookHBase",target:"_blank",rel:"noopener noreferrer"}},[a._v("HBase"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://atlas.apache.org/#/HookHive",target:"_blank",rel:"noopener noreferrer"}},[a._v("Hive"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://atlas.apache.org/#/HookSqoop",target:"_blank",rel:"noopener noreferrer"}},[a._v("Sqoop"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://atlas.apache.org/#/HookStorm",target:"_blank",rel:"noopener noreferrer"}},[a._v("Storm"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://atlas.apache.org/#/HookKafka",target:"_blank",rel:"noopener noreferrer"}},[a._v("Kafka"),e("OutboundLink")],1)])]),a._v(" "),e("p",[a._v("集成意味着两件事：**Atlas原生定义了一些元数据模型来表示这些组件的对象。**Atlas提供了一些组件，可以从这些组件（实时或在某些情况下为批处理模式）中提取元数据对象")]),a._v(" "),e("h3",{attrs:{id:"apps-应用领域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apps-应用领域"}},[a._v("#")]),a._v(" APPS 应用领域")]),a._v(" "),e("p",[a._v("Atlas管理的元数据被各种应用程序使用，以满足许多治理用例。")]),a._v(" "),e("p",[e("strong",[a._v("Atlas Admin UI")]),a._v("：此组件是一个基于Web的应用程序，允许数据管理员和科学家发现和注释元数据。这里最重要的是搜索界面和类似SQL的查询语言，可用于查询Atlas管理的元数据类型和对象。管理员界面使用Atlas的REST API来构建其功能。")]),a._v(" "),e("p",[e("strong",[a._v("基于标签的策略")]),a._v("："),e("a",{attrs:{href:"http://ranger.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Apache Ranger"),e("OutboundLink")],1),a._v("是针对Hadoop生态系统的高级安全管理解决方案，与各种Hadoop组件广泛集成。通过与Atlas集成，Ranger使安全管理员可以定义元数据驱动的安全策略以进行有效的管理。Ranger是Atlas通知的元数据更改事件的使用者。")]),a._v(" "),e("h2",{attrs:{id:"_3、atlas的编译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、atlas的编译"}},[a._v("#")]),a._v(" 3、Atlas的编译")]),a._v(" "),e("p",[a._v("Atlas这个软件框架在官网http://atlas.apache.org/#/ 上面没有给我们提供线程的二进制安装包，只提供了源码包，所以需要我们自己去对源码包进行编译，编译源码包的过程比较简单，但是由于网络原因等，会造成我们一直编译不通过。所以我们知道如何编译Atlas即可，不用自己动手去编译（一般由于网络原因，也会编译不通过的）")]),a._v(" "),e("h3",{attrs:{id:"第一步-安装jdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-安装jdk"}},[a._v("#")]),a._v(" 第一步：安装jdk")]),a._v(" "),e("p",[e("strong",[a._v("注意")]),a._v("：Atlas1.x及以上的版本的编译，必须使用jdk版本高于jdk-8u151的版本，我们这里选择使用jdk-8u231这个版本即可，只要版本高于8u151的都行。")]),a._v(" "),e("p",[a._v("linux下面安装jdk的步骤省略")]),a._v(" "),e("h3",{attrs:{id:"第二步-安装maven"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-安装maven"}},[a._v("#")]),a._v(" 第二步：安装maven")]),a._v(" "),e("p",[a._v("maven的版本尽量选择高一点的版本，这里选择使用3.6.x的版本都行，具体我这里使用的是3.6.2的版本来进行编译，没有问题")]),a._v(" "),e("p",[a._v("linux安装maven步骤省略")]),a._v(" "),e("h3",{attrs:{id:"第三步-下载源码准备编译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-下载源码准备编译"}},[a._v("#")]),a._v(" 第三步：下载源码准备编译")]),a._v(" "),e("p",[a._v("我们这里使用1.2.0（如果hbase是1.x版本，则只能使用Atlas-1.x版本）这个版本来进行编译，下载Atlas的源码，然后解压，进行编译即可")]),a._v(" "),e("p",[a._v("统一linux的软件下载以及软件编译目录")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("定义软件下载目录\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v("  -p  /kkb/soft  \n定义软件安装目录\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /kkb/install\n\n下载Atlas的软件安装包\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/soft\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v("  https://www.apache.org/dyn/closer.cgi/atlas/1.2.0/apache-atlas-1.2.0-sources.tar.gz\n\n解压源码安装包\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxf apache-atlas-1.2.0-sources.tar.gz  -C /kkb/install/\n\n准备进行编译\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-sources-1.2.0/\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MAVEN_OPTS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-Xms2g -Xmx2g"')]),a._v("\n使用以下命令进行编译 表示使用外部的hbase与solr\nmvn clean package -DskipTests -Pdist,external-hbase-solr\n\n如果要使用Atlas内嵌的HBase与solr，那么我们可以执行以下命令进行编译\nmvn clean package -DskipTests -Pdist,embedded-hbase-solr\n\n")])])]),e("p",[a._v("编译好的安装包路径位于")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("/kkb/install/apache-atlas-sources-1.2.0/distro/targe\n")])])]),e("p",[a._v("这个路径下，获取到以下这个压缩包即可")]),a._v(" "),e("p",[e("img",{attrs:{src:t(414),alt:"1586062930734"}})]),a._v(" "),e("p",[a._v("编译过程中稍微注意下：需要下载一个包linux-x64-57_binding.node  这个包很难下载下来，我们可以给手动下载下来，然后放到编译linux机器的的/root/.npm/node-sass/4.13.1 这个路径下即可")]),a._v(" "),e("h2",{attrs:{id:"_4、atlas的安装与前置环境准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、atlas的安装与前置环境准备"}},[a._v("#")]),a._v(" 4、Atlas的安装与前置环境准备")]),a._v(" "),e("p",[a._v("Atlas是用于做元数据管理的，可以用于来集成各种框架的元数据管理，例如可以用来集成hbase，集成solr，集成kafka，集成hive等，所以我们需要提前安装好hbase，solr，kafka，hive等框架，我们这里主要用于集成kafka，hbase，hive等这几个框架。所以我们需要提前启动kafka，启动hbase，以及启动hive的hiveserver2以及metastore服务等")]),a._v(" "),e("h3",{attrs:{id:"安装并启动zookeeper服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装并启动zookeeper服务"}},[a._v("#")]),a._v(" 安装并启动zookeeper服务")]),a._v(" "),e("p",[a._v("安装好zookeeper之后并启动zookeeper")]),a._v(" "),e("h3",{attrs:{id:"安装并启动hadoop服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装并启动hadoop服务"}},[a._v("#")]),a._v(" 安装并启动hadoop服务")]),a._v(" "),e("p",[a._v("安装好hadoop，我们这里使用的版本是CDH5.14.2这个版本")]),a._v(" "),e("h3",{attrs:{id:"安装启动hbase服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装启动hbase服务"}},[a._v("#")]),a._v(" 安装启动hbase服务")]),a._v(" "),e("p",[a._v("安装好hbase，并启动hbase的服务，我们这里使用的hbase的版本是CDH5.14.2")]),a._v(" "),e("h3",{attrs:{id:"安装启动hive的服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装启动hive的服务"}},[a._v("#")]),a._v(" 安装启动hive的服务")]),a._v(" "),e("p",[a._v("安装好hive")]),a._v(" "),e("h3",{attrs:{id:"安装并启动好solr集群服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装并启动好solr集群服务"}},[a._v("#")]),a._v(" 安装并启动好solr集群服务")]),a._v(" "),e("p",[a._v("Atlas需要一个搜索引擎服务作为Atlas的数据搜索服务，可以使用solrCloud或者使用Elasticsearch都行，我们这里选择使用SolrCloud作为Atlas的集群搜索服务，所以我们需要安装SolrCloud服务，我们这里选择使用solr5.5.2这个版本")]),a._v(" "),e("h4",{attrs:{id:"第一步-下载solr安装包并解压"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-下载solr安装包并解压"}},[a._v("#")]),a._v(" 第一步：下载solr安装包并解压")]),a._v(" "),e("p",[a._v("下载solr5.5.2安装包，并上传到"),e("strong",[a._v("node01服务器")]),a._v("的/kkb/soft路径下")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v("  /kkb/soft\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxf solr-5.5.2.tgz -C /kkb/install/\n")])])]),e("h4",{attrs:{id:"第二步-修改solr配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-修改solr配置文件"}},[a._v("#")]),a._v(" 第二步：修改solr配置文件")]),a._v(" "),e("p",[a._v("node01执行以下命令修改solr配置文件")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/solr-5.5.2/bin\n \n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" solr.in.sh\n \n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ZK_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node01:2181,node02:2181,node03:2181"')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SOLR_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node01"')]),a._v("\n")])])]),e("h4",{attrs:{id:"第三步-分发安装包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-分发安装包"}},[a._v("#")]),a._v(" 第三步：分发安装包")]),a._v(" "),e("p",[a._v("分发solr安装包到node02与node03服务器")]),a._v(" "),e("p",[a._v("node01执行以下命令分发solr安装包到node02与node03服务器")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd /kkb/install/\nscp -r solr-5.5.2/ node02:/kkb/install\nscp -r solr-5.5.2/ node03:/kkb/install\n")])])]),e("h4",{attrs:{id:"第四步-单独修改node02与node03配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步-单独修改node02与node03配置文件"}},[a._v("#")]),a._v(" 第四步：单独修改node02与node03配置文件")]),a._v(" "),e("p",[a._v("node02执行以下命令修改 SOLR_HOST配置项")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/solr-5.5.2/bin/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" solr.in.sh\n \n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SOLR_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node02"')]),a._v("\n")])])]),e("p",[a._v("node03执行以下命令修改 SOLR_HOST配置项")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/solr-5.5.2/bin/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" solr.in.sh\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SOLR_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node03"')]),a._v("\n")])])]),e("h4",{attrs:{id:"第五步-启动solr服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第五步-启动solr服务"}},[a._v("#")]),a._v(" 第五步：启动solr服务")]),a._v(" "),e("p",[a._v("三台机器启动solr服务")]),a._v(" "),e("p",[a._v("三台机器执行以下命令启动solr服务")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/solr-5.5.2/\nbin/solr start\n")])])]),e("h4",{attrs:{id:"第六步-浏览器页面访问"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第六步-浏览器页面访问"}},[a._v("#")]),a._v(" 第六步：浏览器页面访问")]),a._v(" "),e("p",[a._v("浏览器页面访问")]),a._v(" "),e("p",[a._v("http://node01:8983/solr/#/")]),a._v(" "),e("p",[a._v("出现cloud选项，证明solr集群安装成功")]),a._v(" "),e("p",[e("img",{attrs:{src:t(415),alt:"1586183061746"}})]),a._v(" "),e("h3",{attrs:{id:"安装atlas集成其他框架"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装atlas集成其他框架"}},[a._v("#")]),a._v(" 🥇安装Atlas集成其他框架")]),a._v(" "),e("h4",{attrs:{id:"atlas集成hbase服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atlas集成hbase服务"}},[a._v("#")]),a._v(" Atlas集成HBase服务")]),a._v(" "),e("h5",{attrs:{id:"第一步-上传压缩包并解压"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-上传压缩包并解压"}},[a._v("#")]),a._v(" 第一步：上传压缩包并解压")]),a._v(" "),e("p",[a._v("上传Atlas编译之后的安装包并进行解压")]),a._v(" "),e("p",[a._v("将Atlas的安装包上传到"),e("strong",[a._v("node03服务器")]),a._v("的/kkb/soft路径下，然后进行解压")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd /kkb/soft\ntar -zxf apache-atlas-1.2.0-bin.tar.gz -C /kkb/install/\n")])])]),e("h5",{attrs:{id:"第二步-修改atlas-application-properties-更改atlas存储数据主机名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-修改atlas-application-properties-更改atlas存储数据主机名"}},[a._v("#")]),a._v(" 第二步：修改atlas-application.properties 更改Atlas存储数据主机名")]),a._v(" "),e("p",[a._v("修改Atlas的存储数据主机名")]),a._v(" "),e("p",[a._v("node03执行以下命令修改Atlas连接zk的地址")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" atlas-application.properties \n\natlas.graph.storage.hostname"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("node01:2181,node02:2181,node03:2181\n")])])]),e("h5",{attrs:{id:"第三步-修改atlas与hbase集成文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-修改atlas与hbase集成文件"}},[a._v("#")]),a._v(" 第三步：修改Atlas与HBase集成文件")]),a._v(" "),e("p",[a._v("修改Atlas与HBase的集成配置文件")]),a._v(" "),e("p",[a._v("node03执行以下命令，修改Atlas连接hbase的配置文件夹路径")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("直接通过链接的方式即可，将hbase的配置文件夹conf目录，链接到Atlas对应hbase的配置文件夹下\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -s /kkb/install/hbase-1.2.0-cdh5.14.2/conf /kkb/install/apache-atlas-1.2.0/conf/hbase/conf\n\n在Atlas的conf目录下的hbase文件夹下面创建一个连接文件夹，连接到hbase的conf配置文件\n")])])]),e("h5",{attrs:{id:"第四步-修改atlas-env-sh配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步-修改atlas-env-sh配置文件"}},[a._v("#")]),a._v(" 第四步：修改atlas-env.sh配置文件")]),a._v(" "),e("p",[a._v("修改atlas-env.sh添加hbase配置路径")]),a._v(" "),e("p",[a._v("node03执行以下命令修改JAVA_HOME以及修改HBASE_CONF_DIR路径")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("修改atlas-env.sh 添加hbase的配置文件的路径\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" atlas-env.sh \n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#修改java环境变量")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/jdk1.8.0_141\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#添加这一行配置项")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HBASE_CONF_DIR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/apache-atlas-1.2.0/conf/hbase/conf\n")])])]),e("h4",{attrs:{id:"atlas集成solr服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atlas集成solr服务"}},[a._v("#")]),a._v(" Atlas集成Solr服务")]),a._v(" "),e("h5",{attrs:{id:"第一步-修改atlas配置文件-atlas-application-properties"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改atlas配置文件-atlas-application-properties"}},[a._v("#")]),a._v(" 第一步：修改Atlas配置文件 atlas-application.properties")]),a._v(" "),e("p",[a._v("node03执行以下命令修改Atlas的配置文件 atlas-application.properties")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" atlas-application.properties \n\natlas.graph.index.search.backend"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("solr\natlas.graph.index.search.solr.zookeeper-url"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("node01:2181,node02:2181,node03:2181\natlas.graph.index.search.solr.mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http   "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#打开注释")]),a._v("\natlas.graph.index.search.solr.http-urls"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://node01:8983/solr\n\n")])])]),e("h5",{attrs:{id:"第二步-拷贝atlas配置文件到solr里面去"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-拷贝atlas配置文件到solr里面去"}},[a._v("#")]),a._v(" 第二步：拷贝atlas配置文件到solr里面去")]),a._v(" "),e("p",[a._v("将Atlas自带的solr配置文件拷贝到node03服务器的Solr安装目录下")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" -r /kkb/install/apache-atlas-1.2.0/conf/solr /kkb/install/solr-5.5.2/\n重命名文件夹名称\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/solr-5.5.2/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" solr/ atlas_conf\n")])])]),e("h5",{attrs:{id:"第三步-同步拷贝后的配置文件到node01与node02"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-同步拷贝后的配置文件到node01与node02"}},[a._v("#")]),a._v(" 第三步：同步拷贝后的配置文件到node01与node02")]),a._v(" "),e("p",[a._v("同步node01服务器的配置文件到node01和node02")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("node01执行以下命令进行同步\ncd /kkb/install/solr-5.5.2/\nscp -r atlas_conf/ node01:/kkb/install/solr-5.5.2/\nscp -r atlas_conf/ node02:/kkb/install/solr-5.5.2/\n")])])]),e("h5",{attrs:{id:"第四步-创建solr的collection"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步-创建solr的collection"}},[a._v("#")]),a._v(" 第四步：创建solr的collection")]),a._v(" "),e("p",[a._v("在solrCloud模式下，启动solr，并创建collection")]),a._v(" "),e("p",[a._v("node01执行以下命令来创建collection（确保solr已经开启）")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/solr-5.5.2/\nbin/solr create -c vertex_index -d /kkb/install/solr-5.5.2/atlas_conf/ -shards "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" -replicationFactor "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("       \nbin/solr create -c edge_index -d  /kkb/install/solr-5.5.2/atlas_conf -shards "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" -replicationFactor "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n\nbin/solr create -c fulltext_index -d /kkb/install/solr-5.5.2/atlas_conf -shards "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" -replicationFactor "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n\n")])])]),e("p",[a._v("-shards 3：表示该集合分片数为3")]),a._v(" "),e("p",[a._v("-replicationFactor 2：表示每个分片数都有2个备份")]),a._v(" "),e("p",[a._v("vertex_index、edge_index、fulltext_index：表示集合名称")]),a._v(" "),e("p",[a._v("注意：如果需要删除vertex_index、edge_index、fulltext_index等collection可以执行如下命令。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd /kkb/install/solr-5.5.2/\nbin/solr delete -c ${collection_name}\n")])])]),e("p",[a._v("验证创建collection成功")]),a._v(" "),e("p",[a._v("浏览器页面访问http://node01:8983/solr/#/~cloud看到以下效果证明创建成功")]),a._v(" "),e("p",[e("img",{attrs:{src:t(416),alt:"1586184687785"}})]),a._v(" "),e("h4",{attrs:{id:"atlas集成kafka服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atlas集成kafka服务"}},[a._v("#")]),a._v(" Atlas集成Kafka服务")]),a._v(" "),e("h5",{attrs:{id:"第一步-修改atlas配置文件-atlas-application-properties-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改atlas配置文件-atlas-application-properties-2"}},[a._v("#")]),a._v(" 第一步：修改Atlas配置文件 atlas-application.properties")]),a._v(" "),e("p",[a._v("修改Atlas配置文件atlas-application.properties")]),a._v(" "),e("p",[e("strong",[a._v("node03执行")]),a._v("以下命令修改配置文件内容")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" atlas-application.properties\n\n\natlas.notification.embedded"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("false\natlas.kafka.zookeeper.connect"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("node01:2181,node02:2181,node03:2181\natlas.kafka.bootstrap.servers"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("node01:9092,node02:9092,node03:9092\natlas.kafka.zookeeper.session.timeout.ms"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("4000")]),a._v("\natlas.kafka.zookeeper.connection.timeout.ms"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2000")]),a._v("\natlas.kafka.enable.auto.commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true\n")])])]),e("h5",{attrs:{id:"第二步-创建kafka的topic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-创建kafka的topic"}},[a._v("#")]),a._v(" 第二步：创建kafka的topic")]),a._v(" "),e("p",[a._v("创建kafka的topic")]),a._v(" "),e("p",[a._v("Atlas与kafka集成需要创建两个topic，这两个topic的名字配置在atlas-application.properties这个配置文件里面")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("atlas.notification.topics=ATLAS_HOOK,ATLAS_ENTITIES\n")])])]),e("p",[e("strong",[a._v("node01执行")]),a._v("以下命令创建这两个topic")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("hadoop@node01 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" ./bin/kafkaCluster.sh start\n\nkafka-topics.sh --zookeeper node01:2181,node02:2181,node03:2181 --create --replication-factor "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" --partitions "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" --topic ATLAS_HOOK\n\nkafka-topics.sh --zookeeper node01:2181,node02:2181,node03:2181 --create --replication-factor "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" --partitions "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" --topic ATLAS_ENTITIES\n")])])]),e("h4",{attrs:{id:"atlas集成hive服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atlas集成hive服务"}},[a._v("#")]),a._v(" Atlas集成hive服务")]),a._v(" "),e("h5",{attrs:{id:"第一步-修改atlas配置文件-atlas-application-properties-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改atlas配置文件-atlas-application-properties-3"}},[a._v("#")]),a._v(" 第一步：修改Atlas配置文件 atlas-application.properties")]),a._v(" "),e("p",[a._v("修改Atlas配置文件atlas-application.properties")]),a._v(" "),e("p",[a._v("node03执行以下命令修改配置文件内容")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" atlas-application.properties\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#手动添加以下配置，这些配置在配置文件里面没有，需要我们自己手动添加")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("########## Hive Hook Configs #######")]),a._v("\natlas.hook.hive.synchronous"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("false\natlas.hook.hive.numRetries"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("\natlas.hook.hive.queueSize"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000")]),a._v("\natlas.cluster.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("primary\n\n")])])]),e("h5",{attrs:{id:"第二步-添加配置文件放到jar包里面去"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-添加配置文件放到jar包里面去"}},[a._v("#")]),a._v(" 第二步：添加配置文件放到jar包里面去")]),a._v(" "),e("p",[a._v("将atlas-application.properties配置文件添加到atlas-plugin-classloader-1.2.0.jar包")]),a._v(" "),e("p",[e("strong",[a._v("node03执行")]),a._v("以下命令，将atlas-application.properties这个配置文件添加到atlas-plugin-classloader-1.2.0.jar这个jar包")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("zip")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf\n "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("zip")]),a._v(" -u  /kkb/install/apache-atlas-1.2.0/hook/hive/atlas-plugin-classloader-1.2.0.jar  atlas-application.properties\n")])])]),e("h5",{attrs:{id:"第三步-拷贝配置文件到hive的conf目录下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-拷贝配置文件到hive的conf目录下"}},[a._v("#")]),a._v(" 第三步：拷贝配置文件到hive的conf目录下")]),a._v(" "),e("p",[a._v("node03执行以下命令，将atlas-application.properties配置文件，拷贝到hive的conf目录下")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" atlas-application.properties /kkb/install/hive-1.1.0-cdh5.14.2/conf/  \n")])])]),e("h5",{attrs:{id:"第四步-修改hive-env-sh配置外部jar包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步-修改hive-env-sh配置外部jar包"}},[a._v("#")]),a._v(" 第四步：修改hive-env.sh配置外部jar包")]),a._v(" "),e("p",[a._v("node03执行以下命令修改hive-env.sh添加外部jar包")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/hive-1.1.0-cdh5.14.2/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" hive-env.sh \n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HIVE_AUX_JARS_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/apache-atlas-1.2.0/hook/hive\n")])])]),e("h5",{attrs:{id:"第五步-修改hive-site-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第五步-修改hive-site-xml"}},[a._v("#")]),a._v(" 第五步：修改hive-site.xml")]),a._v(" "),e("p",[a._v("修改hive-site.xml配置文件")]),a._v(" "),e("p",[a._v("node03执行以下命令修改hive的配置文件hive-site.xml")]),a._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[a._v("cd /kkb/install/hive-1.1.0-cdh5.14.2/conf\nvim hive-site.xml \n\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hive.exec.post.hooks"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" \t\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.apache.atlas.hive.hook.HiveHook,org.apache.hadoop.hive.ql.hooks.LineageLogger"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),e("h4",{attrs:{id:"atlas其他配置选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#atlas其他配置选项"}},[a._v("#")]),a._v(" Atlas其他配置选项")]),a._v(" "),e("h5",{attrs:{id:"第一步-修改atlas的主机名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改atlas的主机名"}},[a._v("#")]),a._v(" 第一步：修改Atlas的主机名")]),a._v(" "),e("p",[a._v("node03执行以下命令，修改配置文件atlas-application.properties")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" atlas-application.properties\n\natlas.rest.address"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://node03:21000\natlas.audit.hbase.zookeeper.quorum"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("node01:2181,node02:2181,node03:2181\n")])])]),e("h5",{attrs:{id:"第二步-修改atlas的日志配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-修改atlas的日志配置文件"}},[a._v("#")]),a._v(" 第二步：修改Atlas的日志配置文件")]),a._v(" "),e("p",[a._v("node03执行以下命令修改atlas的日志服务配置文件atlas-log4j.xml")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/conf\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" atlas-log4j.xml\n\n以下配置在文件当中已经存在，只不过被注释掉了，直接打开即可\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("appender "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"perf_appender"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("class")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"org.apache.log4j.DailyRollingFileAppender"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("param "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"file"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${atlas.log.dir}")]),a._v('/atlas_perf.log"')]),a._v(" /"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("param "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"datePattern"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"'.'yyyy-MM-dd\"")]),a._v(" /"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("param "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"append"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"true"')]),a._v(" /"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("layout "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("class")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"org.apache.log4j.PatternLayout"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("param "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ConversionPattern"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"%d|%t|%m%n"')]),a._v(" /"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("/layout"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("/appender"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("logger "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"org.apache.atlas.perf"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("additivity")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"false"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("level "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"debug"')]),a._v(" /"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("appender-ref "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ref")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"perf_appender"')]),a._v(" /"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("/logger"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),e("h2",{attrs:{id:"_5、atlas启动服务并访问页面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、atlas启动服务并访问页面"}},[a._v("#")]),a._v(" 5、Atlas启动服务并访问页面")]),a._v(" "),e("p",[a._v("node03执行以下命令启动Atlas的服务（确保hive/hbase/zk/hadoop/solr都开启了）")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0\nbin/atlas_start.py\n")])])]),e("p",[a._v("浏览器页面访问：")]),a._v(" "),e("p",[a._v("http://node03:21000/#!/search   注意：访问web页面后，不能立刻登录，要等一会")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("用户名：admin\n\n密码：admin\n")])])]),e("img",{staticStyle:{zoom:"50%"},attrs:{src:"atlas元数据管理.assets/image-20200521185752050.png",alt:"image-20200521185752050"}}),a._v(" "),e("h2",{attrs:{id:"_6、导入hive元数据到atlas当中来"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、导入hive元数据到atlas当中来"}},[a._v("#")]),a._v(" 6、导入hive元数据到Atlas当中来")]),a._v(" "),e("p",[a._v("将hive元数据导入到Atlas当中来进行管理")]),a._v(" "),e("h3",{attrs:{id:"第一步-node03配置hive环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-node03配置hive环境变量"}},[a._v("#")]),a._v(" 第一步：node03配置hive环境变量")]),a._v(" "),e("p",[a._v("node03执行以下命令，配置hive的环境变量")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/profile\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HIVE_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/kkb/install/hive-1.1.0-cdh5.14.2\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(":"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HIVE_HOME")]),a._v("/bin:"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n")])])]),e("h3",{attrs:{id:"第二步-验证hive功能正常"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-验证hive功能正常"}},[a._v("#")]),a._v(" 第二步：验证hive功能正常")]),a._v(" "),e("p",[a._v("node03执行以下命令进入hive客户端，如果hive功能正常即可")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("hadoop@node03 hive"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/hive-1.1.0-cdh5.14.2/\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("hadoop@node03 hive-1.1.0-cdh5.14.2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("$ hive\nhive "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" show databases"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("h3",{attrs:{id:"第三步-导入hive元数据到atlas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-导入hive元数据到atlas"}},[a._v("#")]),a._v(" 第三步：导入hive元数据到atlas")]),a._v(" "),e("p",[a._v("node03执行以下命令导入hive元数据")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd /kkb/install/apache-atlas-1.2.0/\nbin/import-hive.sh \n")])])]),e("p",[a._v("导入过程中会报以下错误")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('Exception in thread "main" java.lang.NoClassDefFoundError: com/fasterxml/jackson/jaxrs/json/JacksonJaxbJsonProvider\n        at org.apache.atlas.AtlasBaseClient.getClient(AtlasBaseClient.java:270)\n        at org.apache.atlas.AtlasBaseClient.initializeState(AtlasBaseClient.java:453)\n        at org.apache.atlas.AtlasBaseClient.initializeState(AtlasBaseClient.java:448)\n        at org.apache.atlas.AtlasBaseClient.<init>(AtlasBaseClient.java:132)\n        at org.apache.atlas.AtlasClientV2.<init>(AtlasClientV2.java:82)\n        at org.apache.atlas.hive.bridge.HiveMetaStoreBridge.main(HiveMetaStoreBridge.java:131)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 6 more\n')])])]),e("h3",{attrs:{id:"第四步-拷贝jar包解决以上错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步-拷贝jar包解决以上错误"}},[a._v("#")]),a._v(" 第四步：拷贝jar包解决以上错误")]),a._v(" "),e("p",[a._v("缺少jar包，导致以上错误，需要我们手动拷贝几个jar包到atlas的hook目录下即可")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /kkb/install/apache-atlas-1.2.0/server/webapp/atlas/WEB-INF/lib\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" jackson-jaxrs-base-2.9.9.jar jackson-jaxrs-json-provider-2.9.9.jar jackson-module-jaxb-annotations-2.9.9.jar  /kkb/install/apache-atlas-1.2.0/hook/hive/atlas-hive-plugin-impl/\n")])])]),e("h3",{attrs:{id:"第五步-重新导入元数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第五步-重新导入元数据"}},[a._v("#")]),a._v(" 第五步：重新导入元数据")]),a._v(" "),e("p",[a._v("重新导入hive元数据信息到atlas当中来")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd /kkb/install/apache-atlas-1.2.0/\nbin/import-hive.sh \n\n出现以下信息，证明导入成功\nUsing Hive configuration directory [/kkb/install/hive-1.1.0-cdh5.14.2/conf]\nLog file for import is /kkb/install/apache-atlas-1.2.0/logs/import-hive.log\nlog4j:WARN No such property [maxFileSize] in org.apache.log4j.PatternLayout.\nlog4j:WARN No such property [maxBackupIndex] in org.apache.log4j.PatternLayout.\nEnter username for atlas :- admin\nEnter password for atlas :- \nHive Meta Data imported successfully!!!\n")])])]),e("p",[e("img",{attrs:{src:t(417),alt:"1587518503593"}})]),a._v(" "),e("h3",{attrs:{id:"第六步-浏览器页面访问浏览元数据信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第六步-浏览器页面访问浏览元数据信息"}},[a._v("#")]),a._v(" 第六步：浏览器页面访问浏览元数据信息")]),a._v(" "),e("p",[a._v("直接浏览器页面访问")]),a._v(" "),e("p",[a._v("http://node03:21000/#!/search/searchResult?type=hive_db&searchType=basic")]),a._v(" "),e("p",[e("img",{attrs:{src:t(418),alt:"image-20200521190752884"}})]),a._v(" "),e("p",[a._v("就可以看到我们的元数据信息了")]),a._v(" "),e("h2",{attrs:{id:"_7、使用azkaban来实现我们的任务调度并查看血缘管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7、使用azkaban来实现我们的任务调度并查看血缘管理"}},[a._v("#")]),a._v(" 7、使用azkaban来实现我们的任务调度并查看血缘管理")]),a._v(" "),e("h3",{attrs:{id:"第一步-在node03服务器上面创建mysql数据库表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-在node03服务器上面创建mysql数据库表"}},[a._v("#")]),a._v(" 第一步：在node03服务器上面创建mysql数据库表")]),a._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/*!32312 IF NOT EXISTS*/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("game_center2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/*!40100 DEFAULT CHARACTER SET utf8 */")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("USE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("game_center2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/*Table structure for table `res_active_users` */")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXISTS")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("res_active_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("res_active_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("NOT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("AUTO_INCREMENT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("plat_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("channel_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("event_date"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("new_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("old_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("all_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("PRIMARY")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("KEY")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ENGINE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INNODB")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("AUTO_INCREMENT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CHARSET")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/*Table structure for table `res_channel_num` */")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXISTS")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("res_channel_num"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("res_channel_num"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("login_date"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("channel_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("device_num"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("reg_user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("active_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("play_once_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("pay_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("pay_user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("pay_money"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ENGINE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INNODB")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CHARSET")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/*Table structure for table `res_channel_num_temp` */")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DROP")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("IF")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXISTS")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("res_channel_num_temp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("res_channel_num_temp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("login_date"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("channel_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("device_num"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("reg_user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("active_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("play_once_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("pay_users"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("pay_user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v("pay_money"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("`")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("NULL")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ENGINE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INNODB")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DEFAULT")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CHARSET")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("h3",{attrs:{id:"第二步-将我们的数据上传"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-将我们的数据上传"}},[a._v("#")]),a._v(" 第二步：将我们的数据上传")]),a._v(" "),e("p",[a._v("将我们需要执行的数据上传到node03服务器的/kkb/datas/gamecenter 这个路径下")]),a._v(" "),e("h3",{attrs:{id:"第三步-使用azkaban执行调度任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-使用azkaban执行调度任务"}},[a._v("#")]),a._v(" 第三步：使用azkaban执行调度任务")]),a._v(" "),e("p",[a._v("使用azkaban来调度执行我们的任务")]),a._v(" "),e("p",[e("img",{attrs:{src:t(419),alt:"1587565757231"}})]),a._v(" "),e("h3",{attrs:{id:"第四步-atlas当中查看血缘关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步-atlas当中查看血缘关系"}},[a._v("#")]),a._v(" 第四步：atlas当中查看血缘关系")]),a._v(" "),e("p",[a._v("查看表之间的血缘关系")]),a._v(" "),e("p",[e("img",{attrs:{src:t(420),alt:"1587565884322"}})]),a._v(" "),e("p",[a._v("查看字段之间的血缘关系")]),a._v(" "),e("p",[e("img",{attrs:{src:t(421),alt:"1587565940545"}})])])}),[],!1,null,null,null);s.default=n.exports},413:function(a,s,t){a.exports=t.p+"assets/img/architecture.a15da8e4.png"},414:function(a,s,t){a.exports=t.p+"assets/img/1586062930734.5762ef3d.png"},415:function(a,s,t){a.exports=t.p+"assets/img/1586183061746.cbb4ac8d.png"},416:function(a,s,t){a.exports=t.p+"assets/img/1586184687785.5fd36145.png"},417:function(a,s,t){a.exports=t.p+"assets/img/1587518503593.91f40e86.png"},418:function(a,s,t){a.exports=t.p+"assets/img/image-20200521190752884.402692b7.png"},419:function(a,s,t){a.exports=t.p+"assets/img/1587565757231.c754e4ec.png"},420:function(a,s,t){a.exports=t.p+"assets/img/1587565884322.c95d0346.png"},421:function(a,s,t){a.exports=t.p+"assets/img/1587565940545.aaad994f.png"}}]);