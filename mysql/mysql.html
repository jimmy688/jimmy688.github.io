<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql练习题 | 个人博客 | JiiiiG</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="自是年少，韶华倾负">
    
    <link rel="preload" href="/assets/css/0.styles.420b7c1f.css" as="style"><link rel="preload" href="/assets/js/app.fdd7a502.js" as="script"><link rel="preload" href="/assets/js/16.375b747e.js" as="script"><link rel="preload" href="/assets/js/19.038919a3.js" as="script"><link rel="prefetch" href="/assets/js/10.bbd38b9e.js"><link rel="prefetch" href="/assets/js/11.f49fc7d3.js"><link rel="prefetch" href="/assets/js/12.c5d97aa1.js"><link rel="prefetch" href="/assets/js/13.426d0224.js"><link rel="prefetch" href="/assets/js/14.1f257a58.js"><link rel="prefetch" href="/assets/js/15.be29bb6a.js"><link rel="prefetch" href="/assets/js/17.d02cdd8b.js"><link rel="prefetch" href="/assets/js/18.5d2371a4.js"><link rel="prefetch" href="/assets/js/2.d6257727.js"><link rel="prefetch" href="/assets/js/20.b3582e09.js"><link rel="prefetch" href="/assets/js/21.0c1e826b.js"><link rel="prefetch" href="/assets/js/22.91bff1a5.js"><link rel="prefetch" href="/assets/js/23.faacea60.js"><link rel="prefetch" href="/assets/js/24.69816497.js"><link rel="prefetch" href="/assets/js/25.c9fcaa62.js"><link rel="prefetch" href="/assets/js/26.d28c3abe.js"><link rel="prefetch" href="/assets/js/27.1518da7d.js"><link rel="prefetch" href="/assets/js/28.748a5581.js"><link rel="prefetch" href="/assets/js/29.775019f1.js"><link rel="prefetch" href="/assets/js/3.141002a4.js"><link rel="prefetch" href="/assets/js/30.74e7c570.js"><link rel="prefetch" href="/assets/js/31.190b11f2.js"><link rel="prefetch" href="/assets/js/32.d8f4f116.js"><link rel="prefetch" href="/assets/js/33.c489bc81.js"><link rel="prefetch" href="/assets/js/34.db609d51.js"><link rel="prefetch" href="/assets/js/35.ad3402e6.js"><link rel="prefetch" href="/assets/js/36.45f11923.js"><link rel="prefetch" href="/assets/js/37.b47e0576.js"><link rel="prefetch" href="/assets/js/38.58b934a2.js"><link rel="prefetch" href="/assets/js/39.e4d6bcdf.js"><link rel="prefetch" href="/assets/js/4.e9b44388.js"><link rel="prefetch" href="/assets/js/40.555106bc.js"><link rel="prefetch" href="/assets/js/41.4387ceb1.js"><link rel="prefetch" href="/assets/js/42.9bd4aea0.js"><link rel="prefetch" href="/assets/js/43.587e7966.js"><link rel="prefetch" href="/assets/js/44.80285763.js"><link rel="prefetch" href="/assets/js/45.f978da77.js"><link rel="prefetch" href="/assets/js/46.d93e3f2e.js"><link rel="prefetch" href="/assets/js/47.c15bd2aa.js"><link rel="prefetch" href="/assets/js/48.cb55fa72.js"><link rel="prefetch" href="/assets/js/49.d0f4e454.js"><link rel="prefetch" href="/assets/js/5.b90b80cb.js"><link rel="prefetch" href="/assets/js/50.112e8260.js"><link rel="prefetch" href="/assets/js/51.a66bcd03.js"><link rel="prefetch" href="/assets/js/52.0c7cbfb1.js"><link rel="prefetch" href="/assets/js/53.67ef240b.js"><link rel="prefetch" href="/assets/js/54.2c2d082d.js"><link rel="prefetch" href="/assets/js/55.88f19a20.js"><link rel="prefetch" href="/assets/js/56.c726e920.js"><link rel="prefetch" href="/assets/js/57.eaee47c5.js"><link rel="prefetch" href="/assets/js/58.ac15a3ac.js"><link rel="prefetch" href="/assets/js/59.64bdc849.js"><link rel="prefetch" href="/assets/js/6.7eea74ff.js"><link rel="prefetch" href="/assets/js/7.a1370e98.js"><link rel="prefetch" href="/assets/js/8.2e898240.js"><link rel="prefetch" href="/assets/js/9.a2439994.js">
    <link rel="stylesheet" href="/assets/css/0.styles.420b7c1f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人博客 | JiiiiG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/linux/linux常用命令/01linux常用命令01.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hadoop/01hadoop环境搭建/01搭建hadoop集群.html" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/hbase/hbase.html" class="nav-link">
  hbase
</a></li><li class="dropdown-item"><!----> <a href="/flink/flink.html" class="nav-link">
  flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql/.html" class="nav-link">
  java
</a></li></ul></div></div> <a href="https://github.com/MaLunan/press" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/linux/linux常用命令/01linux常用命令01.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hadoop/01hadoop环境搭建/01搭建hadoop集群.html" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/hbase/hbase.html" class="nav-link">
  hbase
</a></li><li class="dropdown-item"><!----> <a href="/flink/flink.html" class="nav-link">
  flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql/.html" class="nav-link">
  java
</a></li></ul></div></div> <a href="https://github.com/MaLunan/press" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="mysql练习题"><a href="#mysql练习题" class="header-anchor">#</a> mysql练习题</h2> <p>数据：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">--建表</span>
<span class="token comment">--学生表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>Student<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>s_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_birth<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_sex<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>s_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--课程表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>Course<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>c_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>c_name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>t_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>c_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--教师表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>Teacher<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>t_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>t_name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>t_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--成绩表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>Score<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>s_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>c_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_score<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>s_id<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>c_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--插入学生表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'赵雷'</span> <span class="token punctuation">,</span> <span class="token string">'1990-01-01'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'钱电'</span> <span class="token punctuation">,</span> <span class="token string">'1990-12-21'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'孙风'</span> <span class="token punctuation">,</span> <span class="token string">'1990-05-20'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'李云'</span> <span class="token punctuation">,</span> <span class="token string">'1990-08-06'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'周梅'</span> <span class="token punctuation">,</span> <span class="token string">'1991-12-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'吴兰'</span> <span class="token punctuation">,</span> <span class="token string">'1992-03-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'郑竹'</span> <span class="token punctuation">,</span> <span class="token string">'1989-07-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'08'</span> <span class="token punctuation">,</span> <span class="token string">'王菊'</span> <span class="token punctuation">,</span> <span class="token string">'1990-01-20'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">--课程表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'语文'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'数学'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'英语'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--教师表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">--成绩表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> course<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------+</span>
<span class="token operator">|</span> c_id <span class="token operator">|</span> c_name <span class="token operator">|</span> t_id <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 数学   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 英语   <span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------+</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>                                         
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>    
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> 郑竹   <span class="token operator">|</span> <span class="token number">1989</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">08</span>   <span class="token operator">|</span> 王菊   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> score<span class="token punctuation">;</span>        mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> teacher<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+---------+			+------+--------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> c_id <span class="token operator">|</span> s_score <span class="token operator">|</span>			<span class="token operator">|</span> t_id <span class="token operator">|</span> t_name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+---------+			+------+--------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>			<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 张三   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span>      <span class="token number">90</span> <span class="token operator">|</span>			<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 李四   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span>      <span class="token number">99</span> <span class="token operator">|</span>			<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 王五   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span>      <span class="token number">70</span> <span class="token operator">|</span>			<span class="token operator">+</span><span class="token comment">------+--------+</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span>      <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span>      <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span>      <span class="token number">76</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span>      <span class="token number">87</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span>      <span class="token number">31</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span>      <span class="token number">34</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span>      <span class="token number">89</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span>      <span class="token number">98</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+---------+</span>
</code></pre></div><p>题目：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 1、查询&quot;01&quot;课程比&quot;02&quot;课程成绩高的学生的信息及课程分数</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>s1<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span>s2<span class="token punctuation">.</span>s_score <span class="token keyword">from</span> student st
<span class="token keyword">left</span> <span class="token keyword">join</span> score s1 <span class="token keyword">on</span> s1<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> s1<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'01'</span>
<span class="token keyword">left</span> <span class="token keyword">join</span> score s2 <span class="token keyword">on</span> s2<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> s2<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'02'</span>
<span class="token keyword">where</span> s1<span class="token punctuation">.</span>s_score<span class="token operator">&gt;</span>s2<span class="token punctuation">.</span>s_score<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+---------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span> s_score <span class="token operator">|</span> s_score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+---------+</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>      <span class="token number">70</span> <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>      <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+---------+</span>

<span class="token comment">-- 2、查询&quot;01&quot;课程比&quot;02&quot;课程成绩低的学生的信息及课程分数</span>

<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>s2<span class="token punctuation">.</span>s_score <span class="token keyword">from</span> student st
<span class="token keyword">left</span> <span class="token keyword">join</span> score s1 <span class="token keyword">on</span> s1<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> s1<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'01'</span>
<span class="token keyword">left</span> <span class="token keyword">join</span> score s2 <span class="token keyword">on</span> s2<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> s2<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'02'</span>
<span class="token keyword">where</span> s1<span class="token punctuation">.</span>s_score<span class="token operator">&lt;</span>s2<span class="token punctuation">.</span>s_score<span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span> s_score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>      <span class="token number">90</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>      <span class="token number">87</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+</span>

<span class="token comment">-- 3、查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token function">avg</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> avgScore <span class="token keyword">from</span> student st
<span class="token keyword">left</span> <span class="token keyword">join</span>  score s1 <span class="token keyword">on</span> s1<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id 
<span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">having</span> avgScore<span class="token operator">&gt;=</span><span class="token number">60</span><span class="token punctuation">;</span>


<span class="token comment">-- 4、查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩</span>
 <span class="token comment">-- (包括有成绩的和无成绩的)</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> <span class="token function">avg</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token keyword">then</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token function">avg</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">)</span> avgScore  <span class="token keyword">from</span> student st
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> st<span class="token punctuation">.</span>s_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>s_id
<span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">having</span> avgScore <span class="token operator">&lt;</span><span class="token number">60</span> <span class="token operator">or</span> avgScore<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+--------+----------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> avgScore <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span>  <span class="token number">33.3333</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span>  <span class="token number">32.5000</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">08</span>   <span class="token operator">|</span> 王菊   <span class="token operator">|</span>        <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+</span>

<span class="token comment">-- 5、查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>c_id<span class="token punctuation">)</span><span class="token punctuation">)</span> classNum <span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> <span class="token function">sum</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token keyword">then</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token function">sum</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> <span class="token keyword">end</span><span class="token punctuation">)</span> totalScore <span class="token keyword">from</span> student st 
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> st<span class="token punctuation">.</span>s_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>s_id 
<span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+------------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> classNum <span class="token operator">|</span> totalScore <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+------------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>        <span class="token number">269</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>        <span class="token number">210</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>        <span class="token number">240</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>        <span class="token number">100</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>        <span class="token number">163</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>         <span class="token number">65</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> 郑竹   <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>        <span class="token number">187</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">08</span>   <span class="token operator">|</span> 王菊   <span class="token operator">|</span>        <span class="token number">0</span> <span class="token operator">|</span>          <span class="token number">0</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+------------+</span>

<span class="token comment">-- 6、查询&quot;李&quot;姓老师的数量 </span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> teacher t <span class="token keyword">where</span> t<span class="token punctuation">.</span>t_name <span class="token operator">like</span> <span class="token string">'李%'</span><span class="token punctuation">;</span>  <span class="token comment">--不是很准确，老师的数量应该以不同的id为标准</span>
<span class="token comment">--第二种写法:</span>
<span class="token keyword">select</span> t<span class="token punctuation">.</span>t_name<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>t_id<span class="token punctuation">)</span> <span class="token keyword">from</span> teacher t <span class="token keyword">group</span> <span class="token keyword">by</span> t<span class="token punctuation">.</span>t_id <span class="token keyword">having</span> t<span class="token punctuation">.</span>t_name <span class="token operator">like</span> <span class="token string">'李%'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------------+</span>
<span class="token operator">|</span> t_name <span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>t_id<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------------+</span>
<span class="token operator">|</span> 李四   <span class="token operator">|</span>             <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------------+</span>

<span class="token comment">-- 7、查询学过&quot;张三&quot;老师授课的同学的信息 </span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student st 
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> st<span class="token punctuation">.</span>s_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>s_id
<span class="token keyword">left</span> <span class="token keyword">join</span> course co <span class="token keyword">on</span> sc<span class="token punctuation">.</span>c_id<span class="token operator">=</span>co<span class="token punctuation">.</span>c_id 
<span class="token keyword">left</span> <span class="token keyword">join</span> teacher t <span class="token keyword">on</span> co<span class="token punctuation">.</span>t_id<span class="token operator">=</span>t<span class="token punctuation">.</span>t_id
<span class="token keyword">where</span> t<span class="token punctuation">.</span>t_name<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> 郑竹   <span class="token operator">|</span> <span class="token number">1989</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>

<span class="token comment">-- 8、查询没学过&quot;张三&quot;老师授课的同学的信息 </span>

 
 <span class="token comment">-- 9、查询学过编号为&quot;01&quot;并且也学过编号为&quot;02&quot;的课程的同学的信息</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student st
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
<span class="token keyword">inner</span> <span class="token keyword">join</span> course co <span class="token keyword">on</span> co<span class="token punctuation">.</span>c_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>c_id <span class="token operator">and</span> co<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">&quot;01&quot;</span>
<span class="token keyword">where</span> st<span class="token punctuation">.</span>s_id <span class="token operator">in</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">from</span> student st
	<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
	<span class="token keyword">inner</span> <span class="token keyword">join</span> course co <span class="token keyword">on</span> co<span class="token punctuation">.</span>c_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>c_id <span class="token operator">and</span> co<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">&quot;02&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token comment">--第二种方法：</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 
	student a<span class="token punctuation">,</span>score b<span class="token punctuation">,</span>score c
<span class="token keyword">where</span>
	a<span class="token punctuation">.</span>s_id<span class="token operator">=</span>b<span class="token punctuation">.</span>s_id
	<span class="token operator">and</span> a<span class="token punctuation">.</span>s_id<span class="token operator">=</span>c<span class="token punctuation">.</span>s_id
	<span class="token operator">and</span> c<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'01'</span>
	<span class="token operator">and</span> b<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'02'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>


<span class="token comment">-- 10、查询学过编号为&quot;01&quot;但是没有学过编号为&quot;02&quot;的课程的同学的信息</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student st
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> sc<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'01'</span>
<span class="token keyword">where</span> st<span class="token punctuation">.</span>s_id <span class="token operator">not</span> <span class="token operator">in</span>
<span class="token punctuation">(</span>
	<span class="token keyword">select</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">from</span> student st
	<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> sc<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'02'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>

<span class="token comment">-- 11、查询没有学全所有课程的同学的信息</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student st 
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
<span class="token keyword">inner</span> <span class="token keyword">join</span> course co <span class="token keyword">on</span> co<span class="token punctuation">.</span>c_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>c_id
<span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>co<span class="token punctuation">.</span>c_id<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> 郑竹   <span class="token operator">|</span> <span class="token number">1989</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>


<span class="token comment">-- 12、查询至少有一门课与学号为&quot;01&quot;的同学所学相同的同学的信息</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student st
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
<span class="token keyword">where</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">in</span><span class="token punctuation">(</span>
<span class="token keyword">select</span> sc<span class="token punctuation">.</span>c_id <span class="token keyword">from</span> student st
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
<span class="token keyword">where</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span><span class="token string">'01'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> 郑竹   <span class="token operator">|</span> <span class="token number">1989</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>

<span class="token comment">-- 13、查询和&quot;01&quot;号的同学学习的课程完全相同的其他同学的信息</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student st
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
<span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">having</span> group_concat<span class="token punctuation">(</span>sc<span class="token punctuation">.</span>c_id<span class="token punctuation">)</span><span class="token operator">=</span>
<span class="token punctuation">(</span>
	<span class="token keyword">select</span> group_concat<span class="token punctuation">(</span>sc<span class="token punctuation">.</span>c_id<span class="token punctuation">)</span> <span class="token keyword">from</span> student st 
	<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
	<span class="token keyword">where</span> st<span class="token punctuation">.</span>s_id<span class="token operator">=</span><span class="token string">'01'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>

<span class="token comment">-- 14、查询没学过&quot;张三&quot;老师讲授的任一门课程的学生姓名</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span>s_name <span class="token keyword">from</span> student st
<span class="token keyword">where</span> st<span class="token punctuation">.</span>s_id <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span>
	<span class="token keyword">select</span> sc<span class="token punctuation">.</span>s_id <span class="token keyword">from</span> score sc 
	<span class="token keyword">inner</span> <span class="token keyword">join</span> course co <span class="token keyword">on</span> co<span class="token punctuation">.</span>c_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>c_id
	<span class="token keyword">inner</span> <span class="token keyword">join</span> teacher t <span class="token keyword">on</span> t<span class="token punctuation">.</span>t_id<span class="token operator">=</span>co<span class="token punctuation">.</span>t_id <span class="token operator">and</span> t<span class="token punctuation">.</span>t_name<span class="token operator">=</span><span class="token string">'张三'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> s_name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> 吴兰   <span class="token operator">|</span>
<span class="token operator">|</span> 王菊   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>

<span class="token comment">-- 15、查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> avgScore <span class="token keyword">from</span> student st 
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span>st<span class="token punctuation">.</span>s_id
<span class="token keyword">where</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span><span class="token number">60</span> 
<span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> avgScore <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span>  <span class="token number">33.3333</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span>  <span class="token number">32.5000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+----------+</span>

<span class="token comment">-- 16、检索&quot;01&quot;课程分数小于60，按分数降序排列的学生信息</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student st
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span><span class="token number">60</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'01'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sc<span class="token punctuation">.</span>s_score <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+</span>

<span class="token comment">-- 17、按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩</span>
<span class="token keyword">select</span> st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>sc2<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span>sc3<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span>sc4<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> avgScore <span class="token keyword">from</span> student st 
<span class="token keyword">inner</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id 
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc2 <span class="token keyword">on</span> sc2<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> sc2<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'01'</span>
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc3 <span class="token keyword">on</span> sc3<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> sc3<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'02'</span>
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc4 <span class="token keyword">on</span> sc4<span class="token punctuation">.</span>s_id<span class="token operator">=</span>st<span class="token punctuation">.</span>s_id <span class="token operator">and</span> sc4<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'03'</span>
<span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_id <span class="token keyword">order</span> <span class="token keyword">by</span> avgScore<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+---------+---------+----------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> s_name <span class="token operator">|</span> s_birth    <span class="token operator">|</span> s_sex <span class="token operator">|</span> s_score <span class="token operator">|</span> s_score <span class="token operator">|</span> s_score <span class="token operator">|</span> avgScore <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+---------+---------+----------+</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> 吴兰   <span class="token operator">|</span> <span class="token number">1992</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>      <span class="token number">31</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">34</span> <span class="token operator">|</span>  <span class="token number">32.5000</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> 李云   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">06</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>      <span class="token number">50</span> <span class="token operator">|</span>      <span class="token number">30</span> <span class="token operator">|</span>      <span class="token number">20</span> <span class="token operator">|</span>  <span class="token number">33.3333</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 钱电   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">21</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>      <span class="token number">70</span> <span class="token operator">|</span>      <span class="token number">60</span> <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>  <span class="token number">70.0000</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 孙风   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>  <span class="token number">80.0000</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> 周梅   <span class="token operator">|</span> <span class="token number">1991</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>      <span class="token number">76</span> <span class="token operator">|</span>      <span class="token number">87</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token number">81.5000</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 赵雷   <span class="token operator">|</span> <span class="token number">1990</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 男    <span class="token operator">|</span>      <span class="token number">80</span> <span class="token operator">|</span>      <span class="token number">90</span> <span class="token operator">|</span>      <span class="token number">99</span> <span class="token operator">|</span>  <span class="token number">89.6667</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">07</span>   <span class="token operator">|</span> 郑竹   <span class="token operator">|</span> <span class="token number">1989</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> 女    <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>      <span class="token number">89</span> <span class="token operator">|</span>      <span class="token number">98</span> <span class="token operator">|</span>  <span class="token number">93.5000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+------------+-------+---------+---------+---------+----------+</span>

<span class="token comment">-- 18.查询各科成绩最高分、最低分和平均分：</span>
<span class="token comment">--以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率</span>
<span class="token comment">-- 及格为&gt;=60，中等为：70-80，优良为：80-90，优秀为：&gt;=90</span>
<span class="token keyword">select</span> sc<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>co<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> <span class="token string">'最高分'</span><span class="token punctuation">,</span><span class="token function">MIN</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> <span class="token string">'最低分'</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">)</span> <span class="token string">'平均分'</span> <span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'及格率'</span><span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;=</span><span class="token number">70</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>s_score<span class="token operator">&lt;</span><span class="token number">80</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'中等率'</span><span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;=</span><span class="token number">80</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>s_score<span class="token operator">&lt;</span><span class="token number">90</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'优良率'</span><span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;=</span><span class="token number">90</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">'优秀率'</span>
<span class="token keyword">from</span> score sc
<span class="token keyword">inner</span> <span class="token keyword">join</span> course co <span class="token keyword">on</span> co<span class="token punctuation">.</span>c_id<span class="token operator">=</span>sc<span class="token punctuation">.</span>c_id
<span class="token keyword">group</span> <span class="token keyword">by</span> sc<span class="token punctuation">.</span>c_id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+--------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+</span>
<span class="token operator">|</span> c_id <span class="token operator">|</span> c_name <span class="token operator">|</span> 最高分    <span class="token operator">|</span> 最低分    <span class="token operator">|</span> 平均分    <span class="token operator">|</span> 及格率    <span class="token operator">|</span> 中等率    <span class="token operator">|</span> 优良率    <span class="token operator">|</span> 优秀率    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span>        <span class="token number">80</span> <span class="token operator">|</span>        <span class="token number">31</span> <span class="token operator">|</span>   <span class="token number">64.5000</span> <span class="token operator">|</span>    <span class="token number">0.6667</span> <span class="token operator">|</span>    <span class="token number">0.3333</span> <span class="token operator">|</span>    <span class="token number">0.3333</span> <span class="token operator">|</span>    <span class="token number">0.0000</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> 数学   <span class="token operator">|</span>        <span class="token number">90</span> <span class="token operator">|</span>        <span class="token number">30</span> <span class="token operator">|</span>   <span class="token number">72.6667</span> <span class="token operator">|</span>    <span class="token number">0.8333</span> <span class="token operator">|</span>    <span class="token number">0.0000</span> <span class="token operator">|</span>    <span class="token number">0.5000</span> <span class="token operator">|</span>    <span class="token number">0.1667</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> 英语   <span class="token operator">|</span>        <span class="token number">99</span> <span class="token operator">|</span>        <span class="token number">20</span> <span class="token operator">|</span>   <span class="token number">68.5000</span> <span class="token operator">|</span>    <span class="token number">0.6667</span> <span class="token operator">|</span>    <span class="token number">0.0000</span> <span class="token operator">|</span>    <span class="token number">0.3333</span> <span class="token operator">|</span>    <span class="token number">0.3333</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+</span>

<span class="token comment">-- 19、按各科成绩进行排序，并显示排名</span>
<span class="token keyword">select</span> sc<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>co<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>co<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span><span class="token variable">@score</span>:<span class="token operator">=</span>sc<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span><span class="token variable">@i</span>:<span class="token operator">=</span><span class="token variable">@i</span><span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">as</span> i保留排名  <span class="token keyword">from</span> course co
<span class="token keyword">left</span> <span class="token keyword">join</span> score sc <span class="token keyword">on</span> sc<span class="token punctuation">.</span>c_id<span class="token operator">=</span>co<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@i</span>:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> i
<span class="token keyword">where</span> sc<span class="token punctuation">.</span>c_id<span class="token operator">=</span><span class="token string">'01'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sc<span class="token punctuation">.</span>s_score<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+--------+--------------------+---------------+</span>
<span class="token operator">|</span> s_id <span class="token operator">|</span> c_id <span class="token operator">|</span> c_name <span class="token operator">|</span> <span class="token variable">@score</span>:<span class="token operator">=</span>sc<span class="token punctuation">.</span>s_score <span class="token operator">|</span> i保留排名     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+--------+--------------------+---------------+</span>
<span class="token operator">|</span> <span class="token number">06</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span>                 <span class="token number">31</span> <span class="token operator">|</span>             <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">04</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span>                 <span class="token number">50</span> <span class="token operator">|</span>             <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">02</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span>                 <span class="token number">70</span> <span class="token operator">|</span>             <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">05</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span>                 <span class="token number">76</span> <span class="token operator">|</span>             <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span>                 <span class="token number">80</span> <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">03</span>   <span class="token operator">|</span> <span class="token number">01</span>   <span class="token operator">|</span> 语文   <span class="token operator">|</span>                 <span class="token number">80</span> <span class="token operator">|</span>             <span class="token number">6</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+--------+--------------------+---------------+</span>













</code></pre></div><h2 id="windows-上安装-mysql"><a href="#windows-上安装-mysql" class="header-anchor">#</a> Windows 上安装 MySQL</h2> <h4 id="下载安装包"><a href="#下载安装包" class="header-anchor">#</a> 下载安装包</h4> <p><img src="/assets/img/image-20200220032424812.e0ddbd3f.png" alt="image-20200220032424812"></p> <p>点击 <strong>Download</strong> 按钮进入下载页面，点击下图中的 <strong>No thanks, just start my download.</strong> 就可立即下载：</p> <p><img src="/assets/img/330405-20160709174941374-1821908969.9d6f7f5f.png" alt="img"></p> <p>下载完后，我们将 <code>zip</code> 包解压到相应的目录，这里我将解压后的文件夹放在 D盘一级目录下。</p> <h4 id="配置mysql-的文件"><a href="#配置mysql-的文件" class="header-anchor">#</a> 配置MySQL 的文件</h4> <p>打开刚刚解压的文件夹 <strong>D:\mysql-8.0.19-winx64</strong> ，在该文件夹下创建 <strong>my.ini</strong> 配置文件，编辑 <strong>my.ini</strong> 配置以下基本信息：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token punctuation">[</span>client<span class="token punctuation">]</span>
<span class="token comment">## 设置mysql客户端默认字符集</span>
<span class="token keyword">default</span><span class="token operator">-</span><span class="token keyword">character</span><span class="token operator">-</span><span class="token keyword">set</span><span class="token operator">=</span>utf8
 
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
<span class="token comment">## 设置3306端口</span>
port <span class="token operator">=</span> <span class="token number">3306</span>
<span class="token comment">## 设置mysql的安装目录</span>
basedir<span class="token operator">=</span>D:\mysql<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.19</span><span class="token operator">-</span>winx64
<span class="token comment">## 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错</span>
<span class="token comment">## datadir=D:\\mysql-8.0.19-winx64\\sqldata</span>
<span class="token comment">## 允许最大连接数</span>
max_connections<span class="token operator">=</span><span class="token number">20</span>
<span class="token comment">## 服务端使用的字符集默认为8比特编码的latin1字符集</span>
<span class="token keyword">character</span><span class="token operator">-</span><span class="token keyword">set</span><span class="token operator">-</span>server<span class="token operator">=</span>utf8
<span class="token comment">## 创建新表时将使用的默认存储引擎</span>
<span class="token keyword">default</span><span class="token operator">-</span>storage<span class="token operator">-</span><span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">INNODB</span>
</code></pre></div><h4 id="配置mysql环境变量"><a href="#配置mysql环境变量" class="header-anchor">#</a> 配置mysql环境变量</h4> <p><img src="/assets/img/image-20200220034144352.fa299f6c.png" alt="image-20200220034144352"></p> <h4 id="启动-mysql-数据库"><a href="#启动-mysql-数据库" class="header-anchor">#</a> 启动 MySQL 数据库</h4> <p>以管理员身份打开 <code>cmd</code> 命令行工具，切换目录：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> D:
<span class="token builtin class-name">cd</span> mysql-8.0.18-winx64<span class="token punctuation">\</span>bin
</code></pre></div><p>初始化数据库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>.<span class="token punctuation">\</span>mysqld --initialize --console
</code></pre></div><p>执行完成后，会输出 <code>root</code> 用户的初始默认密码，如：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">2018</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">20</span>T02:<span class="token number">35</span>:<span class="token number">05.464644</span>Z <span class="token number">5</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> <span class="token punctuation">[</span>MY<span class="token operator">-</span><span class="token number">010454</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>Server<span class="token punctuation">]</span> A <span class="token keyword">temporary</span> password <span class="token operator">is</span> generated <span class="token keyword">for</span> root<span class="token variable">@localhost</span>: fG<span class="token punctuation">;</span>ow2<span class="token operator">=</span>bAaEk
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p><strong>fG;ow2=bAaEk</strong> 就是初始密码，后续登录需要用到，你也可以在登陆后修改密码。</p> <p>输入以下安装命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>.<span class="token punctuation">\</span>mysqld <span class="token function">install</span>
</code></pre></div><p>启动输入以下命令即可：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>net <span class="token keyword">start</span> mysql
</code></pre></div><blockquote><p>注意: 在 5.7 需要初始化 data 目录：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>cd C:\web\mysql<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.11</span>\bin 
mysqld <span class="token comment">--initialize-insecure </span>
</code></pre></div><p>初始化后再运行 <code>net start mysql</code> 即可启动 <code>mysql</code>。</p></blockquote> <hr> <h4 id="登录-mysql"><a href="#登录-mysql" class="header-anchor">#</a> 登录 MySQL</h4> <p>当 <code>MySQL</code> 服务已经运行时, 我们可以通过 <code>MySQL</code> 自带的客户端工具登录到 <code>MySQL</code> 数据库中, 首先打开命令提示符, 输入以下格式的命名:</p> <div class="language- extra-class"><pre class="language-text"><code>mysql -h 主机名 -u 用户名 -p
</code></pre></div><p>参数说明：</p> <ul><li><strong>-h</strong> : 指定客户端所要登录的 <code>MySQL</code> 主机名, 登录本机(<code>localhost</code> 或 <code>127.0.0.1</code>)该参数可以省略;</li> <li><strong>-u</strong> : 登录的用户名;</li> <li><strong>-p</strong> : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。</li></ul> <p>如果我们要登录本机的 MySQL 数据库，只需要输入以下命令即可：</p> <div class="language- extra-class"><pre class="language-text"><code>mysql -u root -p
</code></pre></div><p>按回车确认, 如果安装正确且 MySQL 正在运行, 会得到以下响应:</p> <div class="language- extra-class"><pre class="language-text"><code>Enter password:
</code></pre></div><p>若密码存在, 输入密码登录, 不存在则直接按回车登录。登录成功后你将会看到 <code>Welcome to the MySQL monitor...</code> 的提示语。</p> <p>然后命令提示符会一直以 <strong>mysq&gt;</strong> 加一个闪烁的光标等待命令的输入, 输入 <strong>exit</strong> 或 <strong>quit</strong> 退出登录。</p> <h4 id="更改密码"><a href="#更改密码" class="header-anchor">#</a> 更改密码</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'krystal'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="安装视频"><a href="#安装视频" class="header-anchor">#</a> 安装视频</h4> <video src="E:\LearningAll\8-HadoopEcosystem-Video\md视频\Lesson1-mysql安装.mp4" style="border:3px solid black;"></video>
## mysql介绍
<h4 id="sql概述"><a href="#sql概述" class="header-anchor">#</a> 1️⃣Sql概述</h4> <p><code>SQL</code>，结构化查询语言，是一种用来操作<code>RDBMS</code>的数据库语言，当前关系型数据库都⽀持使⽤<code>SQL</code>语⾔进⾏操作,也就是说可以通过<code>SQL</code>操作<code>oracle,sql server,mysql,sqlite</code>等等所 有的关系型的数据库。</p> <p><code>SQL</code>的全称<code>Structured Query Language</code>，<code>SQL</code>用来和数据库打交道，完成和数据库的通信，<code>SQL</code>是一套标准。但是每一个数据库都有自己的特性，别的数据库没有,当使用这个数据库特性相关的功能,这时<code>SQL</code>语句可能就不是标准了。(绝大多数情况下<code>SQL</code>都是通用的)</p> <p><img src="/assets/img/image-20200220045521258.f63b5f26.png" alt="image-20200220045521258"></p> <h4 id="数据库概述"><a href="#数据库概述" class="header-anchor">#</a> 2️⃣数据库概述</h4> <p>数据库，通常是一个或一组文件，保存了一些符合特定规格的数据,数据库对应的英语单词是<code>DataBase</code>,简称:<code>DB</code>。</p> <p>数据库<strong>软件</strong>称为数据库管理系统（<code>DBMS</code>），全称为<code>DataBase Management System</code>，如：<code>Oracle、SQL Server、MySql、Sybase、informix、DB2、interbase、PostgreSql</code> 。</p> <p>主要有两种类型的数据库：关系型数据库、⾮关系型数据库</p> <p>查看数据库排名:https://db-engines.com/en/ranking</p> <p>关系型数据库的主要产品：</p> <ul><li><code>oracle</code>：在以前的⼤型项⽬中使⽤,银⾏,电信等项⽬</li> <li><code>mysql</code>：web时代使⽤最⼴泛的关系型数据库</li> <li><code>ms	sql	server</code>：在微软的项⽬中使⽤</li> <li><code>sqlite</code>：轻量级数据库，主要应⽤在移动平台（比如手机上）。</li></ul> <h4 id="mysql概述"><a href="#mysql概述" class="header-anchor">#</a> 3️⃣MySql概述</h4> <p><code>MySQL</code>最初是由“<code>MySQL AB</code>”公司开发的一套关系型数据库管理系统（<code>RDBMS</code> -<code>Relational Database Mangerment System</code>）。</p> <p><code>MySQL</code>不仅是最流行的开源数据库，而且是业界成长最快的数据库，每天有超过7万次的下载量，其应用范围从大型企业到专有的嵌入应用系统。</p> <p><code>MySQL AB</code>是由两个瑞典人和一个芬兰人：<code>David Axmark、Allan Larsson</code>和<code>Michael “Monty” Widenius</code>在瑞典创办的。</p> <p>在2008年初，<code>Sun Microsystems</code>收购了<code>MySQL AB</code>公司。在2009年，<code>Oracle</code>收购了<code>Sun</code>公司，使<code>MySQL</code>并入<code>Oracle</code>的数据库产品线。</p> <h4 id="rdbms和数据库的关系"><a href="#rdbms和数据库的关系" class="header-anchor">#</a> 4️⃣RDBMS和数据库的关系</h4> <p><img src="/assets/img/image-20200220044548289.b75a742a.png" alt="image-20200220044548289"></p> <h2 id="sql语句分类"><a href="#sql语句分类" class="header-anchor">#</a> sql语句分类</h2> <p><code>SQL</code>语句主要分为：</p> <p><code>DQL</code>：数据查询语⾔，⽤于对数据进⾏查询，如<code>select</code></p> <p><code>DML</code>：数据操作语⾔，对数据进⾏增加、修改、删除，如<code>insert</code>、<code>udpate</code>、<code>delete</code></p> <p><code>TPL</code>：事务处理语⾔，对事务进⾏处理，包括<code>begin</code> <code>transaction</code>、<code>commit</code>、 <code>rollback</code></p> <p><code>DCL</code>：数据控制语⾔，进⾏授权与权限回收，如<code>grant</code>、<code>revoke</code></p> <p><code>DDL</code>：数据定义语⾔，进⾏数据库、表的管理等，如<code>create</code>、<code>drop</code></p> <p><code>CCL</code>：指针控制语⾔，通过控制指针完成表的操作，如<code>declare	cursor</code></p> <p>对于web程序员来讲，重点是数据的<code>crud</code>（增删改查），必须熟练编写<code>DQL、DML</code>， 能够编写<code>DDL</code>完成数据库、表的操作，其它语⾔如<code>TPL、DCL、CCL</code>了解即可 。</p> <p><code>sql</code>语句不区分大小写。</p> <h2 id="常用sql语句操作数据库"><a href="#常用sql语句操作数据库" class="header-anchor">#</a> 常用sql语句操作数据库</h2> <h5 id="连接mysql"><a href="#连接mysql" class="header-anchor">#</a> 连接mysql</h5> <div class="language-shell extra-class"><pre class="language-shell"><code>mysql -u root -p
</code></pre></div><h5 id="退出mysql"><a href="#退出mysql" class="header-anchor">#</a> 退出mysql</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">exit</span>
quit
</code></pre></div><h5 id="修改提示符"><a href="#修改提示符" class="header-anchor">#</a> 修改提示符</h5> <p><code>\U</code>表示当前用户</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span>prompt \U mysql<span class="token operator">&gt;</span>
PROMPT <span class="token keyword">set</span> <span class="token keyword">to</span> <span class="token string">'\U mysql&gt;'</span>
root<span class="token variable">@localhost</span> mysql<span class="token operator">&gt;</span>
</code></pre></div><h5 id="创建数据库"><a href="#创建数据库" class="header-anchor">#</a> 创建数据库</h5> <p>语法：<code>create database</code> 数据库名称;</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> db1<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> db1 <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span> <span class="token comment">#指定字符集编码格式</span>
</code></pre></div><h5 id="选择数据库"><a href="#选择数据库" class="header-anchor">#</a> 选择数据库</h5> <p>语法：<code>use</code> 数据库名称</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">use</span> db1<span class="token punctuation">;</span>
</code></pre></div><p>在数据库中建立表，因此创建表的时候必须要先选择数据库。</p> <h5 id="查看存在的数据库"><a href="#查看存在的数据库" class="header-anchor">#</a> 查看存在的数据库</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> <span class="token keyword">Database</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token operator">|</span> db1                <span class="token operator">|</span>
<span class="token operator">|</span> information_schema <span class="token operator">|</span>
<span class="token operator">|</span> mysql              <span class="token operator">|</span>  <span class="token comment">#mysql是属于系统的数据库</span>
<span class="token operator">|</span> performance_schema <span class="token operator">|</span>
<span class="token operator">|</span> sys                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h5 id="查询当前使用的数据库"><a href="#查询当前使用的数据库" class="header-anchor">#</a> 查询当前使用的数据库</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="查询数据库版本"><a href="#查询数据库版本" class="header-anchor">#</a> 查询数据库版本</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span>  version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="删除数据库"><a href="#删除数据库" class="header-anchor">#</a> 删除数据库</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> db1<span class="token punctuation">;</span>
</code></pre></div><h2 id="导入sql脚本"><a href="#导入sql脚本" class="header-anchor">#</a> 导入sql脚本</h2> <p>导入<code>sql</code>脚本，获得演示数据，辅助学习。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>source F:\bjpowernode<span class="token punctuation">.</span><span class="token keyword">sql</span>
</code></pre></div><p>导入的脚本内容如下，实际上就是通过在<code>txt</code>上编写<code>sql</code>语句，然后保存为<code>.sql</code>格式。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> dept<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> salgrade<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> emp<span class="token punctuation">;</span>
 
<span class="token keyword">create</span> <span class="token keyword">table</span> dept<span class="token punctuation">(</span>
		deptno <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
		dname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		loc <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
<span class="token keyword">create</span> <span class="token keyword">table</span> salgrade<span class="token punctuation">(</span>
		grade <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		losal <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		hisal <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
<span class="token keyword">create</span> <span class="token keyword">table</span> emp<span class="token punctuation">(</span>
		empno <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
		ename <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		job <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		mgr <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		hiredate <span class="token keyword">date</span><span class="token punctuation">,</span>
		sal <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		comm <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		deptno <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span>dname<span class="token punctuation">,</span>loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'ACCOUNTING'</span><span class="token punctuation">,</span><span class="token string">'NEW YORK'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span>dname<span class="token punctuation">,</span>loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'RESEARCHING'</span><span class="token punctuation">,</span><span class="token string">'DALLAS'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span>dname<span class="token punctuation">,</span>loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">'SALES'</span><span class="token punctuation">,</span><span class="token string">'CHICAGO'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span>dname<span class="token punctuation">,</span>loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token string">'OPERATIONS'</span><span class="token punctuation">,</span><span class="token string">'BOSTON'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>losal<span class="token punctuation">,</span>hisal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">700</span><span class="token punctuation">,</span><span class="token number">1200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>losal<span class="token punctuation">,</span>hisal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1201</span><span class="token punctuation">,</span><span class="token number">1400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>losal<span class="token punctuation">,</span>hisal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1401</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>losal<span class="token punctuation">,</span>hisal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2001</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade<span class="token punctuation">(</span>grade<span class="token punctuation">,</span>losal<span class="token punctuation">,</span>hisal<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3001</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7369</span><span class="token punctuation">,</span><span class="token string">'SIMITH'</span><span class="token punctuation">,</span><span class="token string">'CLERK'</span><span class="token punctuation">,</span><span class="token number">7902</span><span class="token punctuation">,</span><span class="token string">'1980-12-17'</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7499</span><span class="token punctuation">,</span><span class="token string">'ALLEN'</span><span class="token punctuation">,</span><span class="token string">'SALESMAN'</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">'1981-02-20'</span><span class="token punctuation">,</span><span class="token number">1600</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7521</span><span class="token punctuation">,</span><span class="token string">'WARD'</span><span class="token punctuation">,</span><span class="token string">'SALESMAN'</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">'1981-02-22'</span><span class="token punctuation">,</span><span class="token number">1250</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7566</span><span class="token punctuation">,</span><span class="token string">'JONES'</span><span class="token punctuation">,</span><span class="token string">'MANAGER'</span><span class="token punctuation">,</span><span class="token number">7839</span><span class="token punctuation">,</span><span class="token string">'1981-04-02'</span><span class="token punctuation">,</span><span class="token number">2975</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7654</span><span class="token punctuation">,</span><span class="token string">'MARTIN'</span><span class="token punctuation">,</span><span class="token string">'SALESMAN'</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">'1981-09-28'</span><span class="token punctuation">,</span><span class="token number">1250</span><span class="token punctuation">,</span><span class="token number">1400</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">'BLAKE'</span><span class="token punctuation">,</span><span class="token string">'MANAGER'</span><span class="token punctuation">,</span><span class="token number">7839</span><span class="token punctuation">,</span><span class="token string">'1981-05-01'</span><span class="token punctuation">,</span><span class="token number">2850</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7782</span><span class="token punctuation">,</span><span class="token string">'CLARK'</span><span class="token punctuation">,</span><span class="token string">'MANAGER'</span><span class="token punctuation">,</span><span class="token number">7839</span><span class="token punctuation">,</span><span class="token string">'1981-06-09'</span><span class="token punctuation">,</span><span class="token number">2450</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7788</span><span class="token punctuation">,</span><span class="token string">'SCOTT'</span><span class="token punctuation">,</span><span class="token string">'ANALYST'</span><span class="token punctuation">,</span><span class="token number">7566</span><span class="token punctuation">,</span><span class="token string">'1987-04-19'</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7839</span><span class="token punctuation">,</span><span class="token string">'KING'</span><span class="token punctuation">,</span><span class="token string">'PRESIDENT'</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'1981-11-17'</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7844</span><span class="token punctuation">,</span><span class="token string">'TURNER'</span><span class="token punctuation">,</span><span class="token string">'SALESMAN'</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">'1981-09-08'</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7876</span><span class="token punctuation">,</span><span class="token string">'ADAMS'</span><span class="token punctuation">,</span><span class="token string">'CLERK'</span><span class="token punctuation">,</span><span class="token number">7788</span><span class="token punctuation">,</span><span class="token string">'1987-05-23'</span><span class="token punctuation">,</span><span class="token number">1100</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7900</span><span class="token punctuation">,</span><span class="token string">'JAMES'</span><span class="token punctuation">,</span><span class="token string">'CLERK'</span><span class="token punctuation">,</span><span class="token number">7698</span><span class="token punctuation">,</span><span class="token string">'1981-12-03'</span><span class="token punctuation">,</span><span class="token number">950</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7902</span><span class="token punctuation">,</span><span class="token string">'FORD'</span><span class="token punctuation">,</span><span class="token string">'ANALYST'</span><span class="token punctuation">,</span><span class="token number">7566</span><span class="token punctuation">,</span><span class="token string">'1981-12-03'</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>mgr<span class="token punctuation">,</span>hiredate<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm<span class="token punctuation">,</span>deptno<span class="token punctuation">)</span>
	<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">7934</span><span class="token punctuation">,</span><span class="token string">'MILLER'</span><span class="token punctuation">,</span><span class="token string">'CLERK'</span><span class="token punctuation">,</span><span class="token number">7782</span><span class="token punctuation">,</span><span class="token string">'1982-01-23'</span><span class="token punctuation">,</span><span class="token number">1300</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dept<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> salgrade<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre></div><h2 id="表概述"><a href="#表概述" class="header-anchor">#</a> 表概述</h2> <p>表(<code>table</code>)是一种<strong>结构化的文件</strong>，可以用来存储特定类型的数据，如：学生信息，课程信息，都可以放到表中。</p> <p>表都有特定的名称，而且不能重复。表中具有几个概念：</p> <ul><li>列叫做字段(<code>Column</code>), 每一个字段都有:名称、数据类型、约束、长度</li> <li>行叫做表中的记录</li> <li>主键</li></ul> <p><strong>学生信息表</strong></p> <table><thead><tr><th>学号（主键）</th> <th>姓名</th> <th>性别</th> <th>年龄</th></tr></thead> <tbody><tr><td>00001</td> <td>张三</td> <td>男</td> <td>20</td></tr> <tr><td>00002</td> <td>李四</td> <td>女</td> <td>20</td></tr></tbody></table> <p><img src="/assets/img/image-20200220053630323.51891097.png" alt="image-20200220053630323"></p> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <p>可以通过查看帮助⽂档查阅所有⽀持的数据类型</p> <p>使⽤数据类型的原则是：<strong>够⽤就⾏，尽量使⽤取值范围⼩的，⽽不⽤⼤的，这样 可以更多的节省存储空间</strong>。</p> <p>常⽤数据类型如下：</p> <ul><li>整数：<code>int</code>，<code>bit</code></li> <li>⼩数：<code>decimal</code></li> <li>字符串：<code>varchar,char</code> varchar使用时一定要指定最大长度，如varchar(12)</li> <li>⽇期时间:	<code>date,	time,	datetime</code></li> <li>枚举类型：<code>enum</code></li> <li>非负数<code>unsigned</code>: 没有负数（与数据类型结合使用，如<code>int unsigned</code>，不能单独使用）。</li></ul> <p>特别说明的类型如下：</p> <ul><li><code>decimal</code>表⽰浮点数，如<code>decimal(5,2)</code>表⽰共存<code>5</code>位数，⼩数占<code>2</code>位</li> <li><code>char</code>表⽰固定长度的字符串，如<code>char(3)</code>，如果填充<code>'ab'</code>时会补⼀个空格为<code>'ab	'</code></li> <li><code>varchar</code>表⽰可变长度的字符串，如<code>varchar(3)</code>，填充<code>'ab'</code>时就会存储<code>a</code>b</li> <li><code>text</code> 表⽰存储⼤⽂本，当字符⼤于<code>4000</code>时推荐使⽤</li> <li>对于图⽚、⾳频、视频等⽂件，不存储在数据库中，⽽是上传到某个服务器 上，然后在表中存储这个⽂件的保存路径</li></ul> <p>更全的数据类型可以参考http://blog.csdn.net/anxpp/article/details/51284106</p> <p><img src="/assets/img/image-20200220060246638.acaaecc8.png" alt="image-20200220060246638"></p> <p><img src="/assets/img/image-20200220060320241.06f97c4a.png" alt="image-20200220060320241"></p> <h2 id="约束"><a href="#约束" class="header-anchor">#</a> 约束</h2> <p>主键<code>primary	key</code>：物理上存储的顺序。------》不支持<code>varchar</code>数据类型</p> <p>⾮空<code>not	null</code>：此字段不允许填写空值</p> <p>惟⼀<code>unique</code>：此字段的值不允许重复</p> <p>默认<code>default</code>：字段的默认值，当不填写此值时会使⽤默认值，如果填写时以填写为准</p> <p>自动增长：<code>auto_increment</code></p> <p>外键<code>foreign	key</code>：对关系字段进⾏约束，当为关系字段填写值时，会到关联的表中查询此值是否存在，如果存在则填写成功，如果不存在则填写失败并抛出异常。</p> <p>说明：虽然外键约束可以保证数据的有效性，但是在进⾏数据的<code>crud</code>（增加、修改、 删除、查询）时，都会降低数据库的性能，所以不推荐使⽤，那么数据的有效性怎 么保证呢？</p> <p>答：<strong>可以在逻辑层进⾏控制</strong></p> <p>主键和唯一约束都要求字段值唯一，除此外，它们还有如下区别：</p> <ul><li>同一张表只能有一个主键，但能有多个唯一约束；</li> <li>主键字段值不能为NULL，唯一约束字段值可以为NULL；</li> <li>主键字段可以做为其他表的外键，唯一约束字段不可以做为其他表的外键；</li></ul> <h2 id="常用sql语句操作表"><a href="#常用sql语句操作表" class="header-anchor">#</a> 常用sql语句操作表</h2> <h5 id="创建表语法"><a href="#创建表语法" class="header-anchor">#</a> 创建表语法：</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#语法:create tabel t_student(字段名 字段类型 字段约束);</span>
</code></pre></div><h5 id="案例1-创建表"><a href="#案例1-创建表" class="header-anchor">#</a> 案例1：创建表</h5> <p>如果表已经存在的时候，创建同名表会报错。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t_students<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span> <span class="token comment">#非负自动递增整数类型的主键</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token comment">## 最大长度为15的非空的字符串类型</span>
    age <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">#默认值为0</span>
    high <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    gender <span class="token keyword">enum</span><span class="token punctuation">(</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token string">'中性'</span><span class="token punctuation">,</span><span class="token string">'保密'</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">'保密'</span><span class="token punctuation">,</span> <span class="token comment">## 枚举类型字段</span>
    cls_id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#最后一个字段末尾不要加逗号</span>
<span class="token comment">#创建表至少有一个字段</span>
<span class="token comment">#直接将上列代码复制粘贴到cmd窗口运行就行</span>
</code></pre></div><h5 id="查看表结构"><a href="#查看表结构" class="header-anchor">#</a> 查看表结构</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span><span class="token keyword">desc</span> t_students<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------------------------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>                                <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------------------------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span>                    <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>                         <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age    <span class="token operator">|</span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span>                 <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>       <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> high   <span class="token operator">|</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>                        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0.00</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> gender <span class="token operator">|</span> <span class="token keyword">enum</span><span class="token punctuation">(</span><span class="token string">'男'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">,</span><span class="token string">'中性'</span><span class="token punctuation">,</span><span class="token string">'保密'</span><span class="token punctuation">)</span>       <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> 保密    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> cls_id <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span>                    <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------------------------------+------+-----+---------+----------------+</span>
<span class="token number">6</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h5 id="查看表的创建语句"><a href="#查看表的创建语句" class="header-anchor">#</a> 查看表的创建语句</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> t_students<span class="token punctuation">;</span>
</code></pre></div><h5 id="修改表的结构"><a href="#修改表的结构" class="header-anchor">#</a> 修改表的结构</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#添加字段 alter+add</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> t_students <span class="token keyword">add</span> birthday <span class="token keyword">datetime</span> <span class="token keyword">default</span> <span class="token string">&quot;2000-1-1 10:10:10&quot;</span><span class="token punctuation">;</span>
<span class="token comment">#修改字段的数据类型和默认值 alter+modify</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> t_students <span class="token keyword">modify</span> birthday <span class="token keyword">date</span> <span class="token keyword">default</span> <span class="token string">&quot;2000-1-1&quot;</span><span class="token punctuation">;</span>
<span class="token comment">#重命名字段和更改数据类型 alter+change</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> t_students change birthday birth <span class="token keyword">date</span> <span class="token keyword">default</span> <span class="token string">&quot;2000-1-1&quot;</span><span class="token punctuation">;</span>
<span class="token comment">#删除表的字段 alter+drop</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> t_students <span class="token keyword">drop</span> gender<span class="token punctuation">;</span>


mysql<span class="token operator">&gt;</span><span class="token keyword">desc</span> t_students<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-----------------------------+------+-----+------------+----------------+</span>
<span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>                        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span>    <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------------------------+------+-----+------------+----------------+</span>
<span class="token operator">|</span> id     <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span>            <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span><span class="token keyword">auto_increment</span>  <span class="token operator">|</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>                 <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> age    <span class="token operator">|</span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span>         <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0</span>          <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> high   <span class="token operator">|</span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>                <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">0.00</span>       <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> cls_id <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span>            <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> birth  <span class="token operator">|</span> <span class="token keyword">date</span>                        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">2000</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------------------------+------+-----+------------+------------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h5 id="查看当前使用的数据库中存在的表"><a href="#查看当前使用的数据库中存在的表" class="header-anchor">#</a> 查看当前使用的数据库中存在的表</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> Tables_in_db1 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> t_student     <span class="token operator">|</span>
<span class="token operator">|</span> t_students    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h5 id="查看其它数据库中存在的表"><a href="#查看其它数据库中存在的表" class="header-anchor">#</a> 查看其它数据库中存在的表</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span><span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token keyword">from</span> db2<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> Tables_in_db2 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> familyinfo    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="常用sql语句-数据的增删改查"><a href="#常用sql语句-数据的增删改查" class="header-anchor">#</a> 常用sql语句--数据的增删改查</h2> <h5 id="增加数据语法"><a href="#增加数据语法" class="header-anchor">#</a> 增加数据语法</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">insert</span> 表名 <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#给所有的列（字段）添加数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token punctuation">(</span>列<span class="token number">1</span><span class="token punctuation">,</span>列<span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">#给指定列（字段）添加数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token punctuation">(</span>列<span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>  <span class="token comment">#多行插入，批量插入</span>
</code></pre></div><h5 id="案例1-增加数据"><a href="#案例1-增加数据" class="header-anchor">#</a> 案例1：增加数据</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> familyInfo<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span> 
	motherName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">'mother'</span><span class="token punctuation">,</span>
	fatherName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">'father'</span><span class="token punctuation">,</span>
    kidName <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">'kid'</span> <span class="token comment">#这里一定不要有逗号</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span><span class="token keyword">desc</span> familyInfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------+------------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> Field      <span class="token operator">|</span> <span class="token keyword">Type</span>             <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+------------------+------+-----+---------+----------------+</span>
<span class="token operator">|</span> id         <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span> <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> <span class="token keyword">auto_increment</span> <span class="token operator">|</span>
<span class="token operator">|</span> motherName <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> mother  <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> fatherName <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> father  <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> kidName    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span>     <span class="token operator">|</span> kid     <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+------------------+------+-----+---------+----------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


<span class="token comment">#================给所有的列（字段）添加数据===============</span>
<span class="token keyword">insert</span> familyInfo <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'Michelle'</span><span class="token punctuation">,</span><span class="token string">'Jordan'</span><span class="token punctuation">,</span><span class="token string">'kid1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">#值和表的字段顺序必须一一对应</span>
<span class="token keyword">insert</span> familyInfo <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'krystal'</span><span class="token punctuation">,</span><span class="token string">'jimmy'</span><span class="token punctuation">,</span><span class="token string">'kid2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">insert</span> familyInfo <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">,</span><span class="token string">'velyn'</span><span class="token punctuation">,</span><span class="token string">'dan'</span><span class="token punctuation">,</span><span class="token string">'kid3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">insert</span> familyInfo <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'Jsom'</span><span class="token punctuation">,</span><span class="token string">'virginia'</span><span class="token punctuation">,</span><span class="token string">'kid4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#==================给指定列（字段）添加数据=================</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> familyInfo <span class="token punctuation">(</span>motherName<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'rose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#==================多行插入，批量插入======================</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> familyInfo <span class="token punctuation">(</span>fatherName<span class="token punctuation">,</span>kidName<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'Johnson'</span><span class="token punctuation">,</span><span class="token string">'eric'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'Mike'</span><span class="token punctuation">,</span><span class="token string">'susan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>补充：</p> <ul><li>除了主键，其它字段如果没有<code>default</code>默认值，那么添加数据的时候一定要为该字段添加数据。如果某字段有<code>default</code>默认值，就可以不亲自给它加数据，使用默认值即可。</li> <li><code>unsigned</code>必须跟在数据类型的后面，如<code>int unsigned</code>。</li> <li>主键有占位符的概念，<code>0、default、null</code>都可以作为它的占位符，只是占个位置，实际的值有递增等结果决定。使用**insert 表 values(...)**方式添加数据的时候，记得带上占位符。</li></ul> <h5 id="查询表数据内容"><a href="#查询表数据内容" class="header-anchor">#</a> 查询表数据内容</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> familyInfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+------------+------------+---------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> motherName <span class="token operator">|</span> fatherName <span class="token operator">|</span> kidName <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+------------+------------+---------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Michelle   <span class="token operator">|</span> Jordan     <span class="token operator">|</span> kid1    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> krystal    <span class="token operator">|</span> jimmy      <span class="token operator">|</span> kid2    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> velyn      <span class="token operator">|</span> dan        <span class="token operator">|</span> kid3    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> Jsom       <span class="token operator">|</span> virginia   <span class="token operator">|</span> kid4    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> rose       <span class="token operator">|</span> father     <span class="token operator">|</span> kid     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> mother     <span class="token operator">|</span> Johnson    <span class="token operator">|</span> eric    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> mother     <span class="token operator">|</span> Mike       <span class="token operator">|</span> susan   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+------------+------------+---------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h5 id="更改数据"><a href="#更改数据" class="header-anchor">#</a> 更改数据</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t_update<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> <span class="token string">'jimmy'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_update <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_update <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;krystal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_update<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> krystal <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> jimmy   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+---------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#================第一种更改===========================</span>
<span class="token keyword">update</span> t_update <span class="token keyword">set</span> name<span class="token operator">=</span><span class="token string">'who'</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_update<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> who  <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> who  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span class="token comment">#================第二种更改===========================</span>
<span class="token keyword">update</span> t_update <span class="token keyword">set</span> name<span class="token operator">=</span><span class="token string">'James'</span> <span class="token keyword">where</span> id <span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_update<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> who   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> James <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h5 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据</h5> <p><strong>物理删除</strong>，如下，但是逻辑上仍然没有删除，查看存在的表时依然可以查到，而且还可以进行插入数据操作，因此，<code>delete</code>物理删除可以理解为删除表的所有内容，但是表的结构还在，表还在。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">## 物理删除表</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> t_update<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_update<span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> Tables_in_db2 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> familyinfo    <span class="token operator">|</span>
<span class="token operator">|</span> familyinfo2   <span class="token operator">|</span>
<span class="token operator">|</span> familyinfo3   <span class="token operator">|</span>
<span class="token operator">|</span> t_update      <span class="token operator">|</span>
<span class="token operator">|</span> test          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> t_update <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&quot;beta&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">## 删除表的某些记录</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> name<span class="token operator">=</span><span class="token string">&quot;jimmy&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="sql查询"><a href="#sql查询" class="header-anchor">#</a> sql查询</h2> <h3 id="sql查询-基本操作"><a href="#sql查询-基本操作" class="header-anchor">#</a> sql查询--基本操作</h3> <h4 id="查询一个字段"><a href="#查询一个字段" class="header-anchor">#</a> 查询一个字段</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> motherName <span class="token keyword">from</span> familyInfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------+</span>
<span class="token operator">|</span> motherName <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+</span>
<span class="token operator">|</span> Michelle   <span class="token operator">|</span>
<span class="token operator">|</span> krystal    <span class="token operator">|</span>
<span class="token operator">|</span> velyn      <span class="token operator">|</span>
<span class="token operator">|</span> Jsom       <span class="token operator">|</span>
<span class="token operator">|</span> rose       <span class="token operator">|</span>
<span class="token operator">|</span> mother     <span class="token operator">|</span>
<span class="token operator">|</span> mother     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="查询多个字段"><a href="#查询多个字段" class="header-anchor">#</a> 查询多个字段</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> mothername<span class="token punctuation">,</span>fathername <span class="token keyword">from</span> familyInfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------------+------------+</span>
<span class="token operator">|</span> mothername <span class="token operator">|</span> fathername <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+------------+</span>
<span class="token operator">|</span> Michelle   <span class="token operator">|</span> Jordan     <span class="token operator">|</span>
<span class="token operator">|</span> krystal    <span class="token operator">|</span> jimmy      <span class="token operator">|</span>
<span class="token operator">|</span> velyn      <span class="token operator">|</span> dan        <span class="token operator">|</span>
<span class="token operator">|</span> Jsom       <span class="token operator">|</span> virginia   <span class="token operator">|</span>
<span class="token operator">|</span> rose       <span class="token operator">|</span> father     <span class="token operator">|</span>
<span class="token operator">|</span> mother     <span class="token operator">|</span> Johnson    <span class="token operator">|</span>
<span class="token operator">|</span> mother     <span class="token operator">|</span> Mike       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------------+------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="查询全部字段"><a href="#查询全部字段" class="header-anchor">#</a> 查询全部字段</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> familyInfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+------------+------------+---------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> motherName <span class="token operator">|</span> fatherName <span class="token operator">|</span> kidName <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+------------+------------+---------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> Michelle   <span class="token operator">|</span> Jordan     <span class="token operator">|</span> kid1    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> krystal    <span class="token operator">|</span> jimmy      <span class="token operator">|</span> kid2    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> velyn      <span class="token operator">|</span> dan        <span class="token operator">|</span> kid3    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> Jsom       <span class="token operator">|</span> virginia   <span class="token operator">|</span> kid4    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> rose       <span class="token operator">|</span> father     <span class="token operator">|</span> kid     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> mother     <span class="token operator">|</span> Johnson    <span class="token operator">|</span> eric    <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> mother     <span class="token operator">|</span> Mike       <span class="token operator">|</span> susan   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+------------+------------+---------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="更改查询的字段显示"><a href="#更改查询的字段显示" class="header-anchor">#</a> 更改查询的字段显示</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> motherName <span class="token keyword">as</span> <span class="token string">&quot;妈妈名字&quot;</span><span class="token punctuation">,</span>fathername <span class="token keyword">as</span> <span class="token string">&quot;爸爸名字&quot;</span> <span class="token keyword">from</span> familyinfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+</span>
<span class="token operator">|</span> 妈妈名字     <span class="token operator">|</span> 爸爸名字     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+</span>
<span class="token operator">|</span> Michelle     <span class="token operator">|</span> Jordan       <span class="token operator">|</span>
<span class="token operator">|</span> krystal      <span class="token operator">|</span> jimmy        <span class="token operator">|</span>
<span class="token operator">|</span> velyn        <span class="token operator">|</span> dan          <span class="token operator">|</span>
<span class="token operator">|</span> Jsom         <span class="token operator">|</span> virginia     <span class="token operator">|</span>
<span class="token operator">|</span> rose         <span class="token operator">|</span> father       <span class="token operator">|</span>
<span class="token operator">|</span> mother       <span class="token operator">|</span> Johnson      <span class="token operator">|</span>
<span class="token operator">|</span> mother       <span class="token operator">|</span> Mike         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="对查询出来的字段进行运算"><a href="#对查询出来的字段进行运算" class="header-anchor">#</a> 对查询出来的字段进行运算</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> count_t<span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">unsigned</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    salary_month <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> count_t <span class="token punctuation">(</span>salary_month<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> salary_month<span class="token operator">*</span><span class="token number">3</span> <span class="token keyword">from</span> count_t<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span> salary_month<span class="token operator">*</span><span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span>           <span class="token number">9000</span> <span class="token operator">|</span>
<span class="token operator">|</span>          <span class="token number">30000</span> <span class="token operator">|</span>
<span class="token operator">|</span>          <span class="token number">60000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-条件查询where"><a href="#sql查询-条件查询where" class="header-anchor">#</a> sql查询--条件查询where</h3> <h4 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> 条件查询 =</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">&quot;CLERK&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> sal<span class="token punctuation">,</span>hiredate <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">&quot;CLERK&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+------------+</span>
<span class="token operator">|</span> sal     <span class="token operator">|</span> hiredate   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+------------+</span>
<span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+------------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="条件查询-2"><a href="#条件查询-2" class="header-anchor">#</a> 条件查询 <code>&lt;&gt;</code></h4> <p><code>&lt;&gt;</code>为不等于号</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">&lt;&gt;</span><span class="token string">&quot;clerk&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="条件查询-between-and"><a href="#条件查询-between-and" class="header-anchor">#</a> 条件查询 between...and...</h4> <p><code>between … and …</code>，意思是大于...小于...，它是包含最大值和最小值的。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">between</span> <span class="token number">1500</span> <span class="token operator">and</span> <span class="token number">2000</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+----------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+----------+---------+</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+----------+---------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

</code></pre></div><h4 id="条件查询-is-null"><a href="#条件查询-is-null" class="header-anchor">#</a> 条件查询 is null</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> comm <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+------+--------+</span>
<span class="token number">11</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="条件查询-and"><a href="#条件查询-and" class="header-anchor">#</a> 条件查询 and</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">&quot;clerk&quot;</span> <span class="token operator">and</span> sal <span class="token operator">&gt;</span><span class="token number">900</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job   <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------+---------+</span>
<span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------+---------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="条件查询-or"><a href="#条件查询-or" class="header-anchor">#</a> 条件查询 or</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">&gt;</span><span class="token number">3000</span>  <span class="token operator">or</span> sal <span class="token operator">&lt;</span><span class="token number">900</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="条件查询-3"><a href="#条件查询-3" class="header-anchor">#</a> 条件查询 ()</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span><span class="token number">1800</span> <span class="token operator">and</span> <span class="token punctuation">(</span>deptno<span class="token operator">=</span><span class="token number">20</span> <span class="token operator">or</span> deptno<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+---------+--------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> job     <span class="token operator">|</span> sal     <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+---------+--------+</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> MANAGER <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> MANAGER <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> ANALYST <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> ANALYST <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+---------+--------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="条件查询-in"><a href="#条件查询-in" class="header-anchor">#</a> 条件查询 in</h4> <div class="language- extra-class"><pre class="language-text"><code>mysql&gt; select * from emp;
+-------+--------+-----------+------+------------+---------+---------+--------+
| empno | ename  | job       | mgr  | hiredate   | sal     | comm    | deptno |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SIMITH | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    NULL |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |
+-------+--------+-----------+------+------------+---------+---------+--------+
14 rows in set (0.00 sec)

mysql&gt; select ename,job from emp where job in (&quot;clerk&quot;,&quot;manager&quot;);
+--------+---------+
| ename  | job     |
+--------+---------+
| SIMITH | CLERK   |
| JONES  | MANAGER |
| BLAKE  | MANAGER |
| CLARK  | MANAGER |
| ADAMS  | CLERK   |
| JAMES  | CLERK   |
| MILLER | CLERK   |
+--------+---------+
7 rows in set (0.00 sec)
</code></pre></div><h4 id="条件查询-not"><a href="#条件查询-not" class="header-anchor">#</a> 条件查询 not</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&quot;clerk&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="条件查询-like"><a href="#条件查询-like" class="header-anchor">#</a> 条件查询 like</h4> <p><code>like</code>可看成是利用正则表达式来查询字段。符号意思：</p> <ul><li><p><code>Like</code>中<code>%</code>和下划线<code>_</code>的差别？</p></li> <li><p><code>%</code>匹配任意字符出现的个数</p></li> <li><p><code>_</code>下划线只匹配一个字符</p></li> <li><p><code>Like</code> 中的表达式必须放到单引号中<code>|</code>双引号中，以下写法是错误的：</p></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span>  <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> _A<span class="token operator">%</span>  
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#查询以A开头的</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'A%'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ALLEN <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#查询以K结尾的</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'%K'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


<span class="token comment">#查询包含i的</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'%i%'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#查询第二个字母是A的</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'_A%'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+---------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-排序"><a href="#sql查询-排序" class="header-anchor">#</a> sql查询--排序</h3> <p>使用<code>order by</code>来指定按照某字段排序，默认使用升序<code>asc</code>（从小到大），使用<code>desc</code>可将升序改为降序，如果有<code>where</code>条件语句，<code>order by</code>要放在<code>where</code>后面，如下：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


<span class="token comment">#按照单个字段排序</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span><span class="token number">1500</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sal<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ALLEN <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#降序排序（从大到小）</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span><span class="token number">1500</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#按照多个字段排序，字段间使用逗号隔开</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span><span class="token number">1500</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sal<span class="token punctuation">,</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+--------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+--------+</span>
<span class="token operator">|</span> ALLEN <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+--------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-数据处理函数"><a href="#sql查询-数据处理函数" class="header-anchor">#</a> sql查询--数据处理函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="lower-大写-小写"><a href="#lower-大写-小写" class="header-anchor">#</a> lower 大写--&gt;小写</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> lower<span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> lower<span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token operator">|</span> simith       <span class="token operator">|</span>
<span class="token operator">|</span> allen        <span class="token operator">|</span>
<span class="token operator">|</span> ward         <span class="token operator">|</span>
<span class="token operator">|</span> jones        <span class="token operator">|</span>
<span class="token operator">|</span> martin       <span class="token operator">|</span>
<span class="token operator">|</span> blake        <span class="token operator">|</span>
<span class="token operator">|</span> clark        <span class="token operator">|</span>
<span class="token operator">|</span> scott        <span class="token operator">|</span>
<span class="token operator">|</span> king         <span class="token operator">|</span>
<span class="token operator">|</span> turner       <span class="token operator">|</span>
<span class="token operator">|</span> adams        <span class="token operator">|</span>
<span class="token operator">|</span> james        <span class="token operator">|</span>
<span class="token operator">|</span> ford         <span class="token operator">|</span>
<span class="token operator">|</span> miller       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="upper-小写-大写"><a href="#upper-小写-大写" class="header-anchor">#</a> upper 小写--&gt;大写</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">## 变大写</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> upper<span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;MANAGER&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> job     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="substr-子字符串"><a href="#substr-子字符串" class="header-anchor">#</a> substr 子字符串</h4> <p>子字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">#查询以S开头的ename</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename <span class="token keyword">from</span> emp <span class="token keyword">where</span> substr<span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;S&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="length-长度"><a href="#length-长度" class="header-anchor">#</a> length 长度</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>length<span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> length<span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> length<span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------------+</span>
<span class="token operator">|</span> ALLEN <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES <span class="token operator">|</span>             <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="trim-去掉首尾空格"><a href="#trim-去掉首尾空格" class="header-anchor">#</a> trim 去掉首尾空格</h4> <p><code>trim</code>会去<strong>首尾空格</strong>，不会去除中间的空格</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">=</span>trim<span class="token punctuation">(</span><span class="token string">&quot;   MANAGER  &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> job     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+---------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="date-format-日期-特定字符串"><a href="#date-format-日期-特定字符串" class="header-anchor">#</a> date_format 日期--&gt;特定字符串</h4> <p>该函数的作用是：将日期类型数据转换成具有特定格式的日期字符串<code>varchar</code>，客户需要特殊格式展示的时候可能用到。</p> <p>语法格式大致如：<code>date_format(hiredate, '%Y-%m-%d %H:%i:%s')</code></p> <ul><li><code>%Y</code>：代表<code>4</code>位的年份</li> <li><code>%y</code>：代表<code>2</code>位的年份</li> <li><code>%m</code>：代表月, 格式为<code>(01……12)</code></li> <li><code>%c</code>：代表月, 格式为<code>(1……12)</code></li> <li><code>%H</code>：代表小时,格式为<code>(00……23)</code></li> <li><code>%h</code>： 代表小时,格式为<code>(01……12)</code></li> <li><code>%i</code>： 代表分钟, 格式为<code>(00……59)</code></li> <li><code>%r</code>：代表 时间,格式为<code>12</code> 小时<code>(hh:mm:ss [AP]M)</code></li> <li><code>%T</code>：代表 时间,格式为<code>24</code> 小时<code>(hh:mm:ss)</code></li> <li><code>%S</code>：代表 秒,格式为<code>(00……59)</code></li> <li><code>%s</code>：代表 秒,格式为<code>(00……59)</code></li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>date_format<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">'%Y-%m'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">&gt;</span><span class="token number">2800</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> date_format<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">'%Y-%m'</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------+</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span>                       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>date_format<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%i:%s'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">&gt;</span><span class="token number">2800</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------------------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> date_format<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%i:%s'</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------------------+</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span>                       <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span>                       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------------------------------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="str-to-date-字符串-日期"><a href="#str-to-date-字符串-日期" class="header-anchor">#</a> str_to_date 字符串--&gt;日期</h4> <p><strong>将字符串转换成日期</strong>，具体语法格式：<code>str_to_date</code> (字符串，匹配格式)</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>hiredate <span class="token keyword">from</span> emp <span class="token keyword">where</span> hiredate<span class="token operator">=</span>str_to_date<span class="token punctuation">(</span><span class="token string">'1981-02-20'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+------------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> hiredate   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+</span>
<span class="token operator">|</span> ALLEN <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="foramt-千分位"><a href="#foramt-千分位" class="header-anchor">#</a> foramt 千分位</h4> <p>加入千分位，指定小数位数</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#加入千分位</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">format</span><span class="token punctuation">(</span>sal<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> <span class="token function">format</span><span class="token punctuation">(</span>sal<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> <span class="token number">800</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">600</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">250</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">975</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">250</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">850</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">450</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">000</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">000</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">500</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">950</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">000</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">300</span>         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#加入千分位，并指定一位小数</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">format</span><span class="token punctuation">(</span>sal<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> <span class="token function">format</span><span class="token punctuation">(</span>sal<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token operator">|</span> <span class="token number">800.0</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">600.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">250.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">975.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">250.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">850.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">450.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">000.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">000.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">500.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">950.0</span>         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">000.0</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">300.0</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="round-四舍五入"><a href="#round-四舍五入" class="header-anchor">#</a> round 四舍五入</h4> <p><strong>四舍五入</strong></p> <div class="language- extra-class"><pre class="language-text"><code>mysql&gt; select * from emp;
+-------+--------+-----------+------+------------+---------+---------+--------+
| empno | ename  | job       | mgr  | hiredate   | sal     | comm    | deptno |
+-------+--------+-----------+------+------------+---------+---------+--------+
|  7369 | SIMITH | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |
|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |
|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |
|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |
|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |
|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |
|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |
|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |
|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |
|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    NULL |     30 |
|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |
|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |
|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |
|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |
+-------+--------+-----------+------+------------+---------+---------+--------+
14 rows in set (0.00 sec)

mysql&gt; select round(*) from emp where sal &gt;3000;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*) from emp where sal &gt;3000' at line 1
mysql&gt; select round(sal) from emp where sal &gt;3000;
+------------+
| round(sal) |
+------------+
|       5000 |
+------------+
1 row in set (0.00 sec)
</code></pre></div><h4 id="rand随机数"><a href="#rand随机数" class="header-anchor">#</a> rand随机数</h4> <p><code>rand</code>生成<code>0-1</code>的随机数，可应用于随机抽取行数（<strong>记录</strong>），<code>limit</code>用来限制抽取的个数。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#根据rand()生成的数字进行排序，并抽取前两个记录</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+--------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job      <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm   <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+--------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span> <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>   <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+--------+--------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="case-when-then-else-end-as"><a href="#case-when-then-else-end-as" class="header-anchor">#</a> case … when … then …..else …end as...</h4> <p><code>case...when … then …..else …end...as...</code>用来输出一个新字段的，这个字段是通过判断得出来的。意思是，如果某个字段的值为..则..否则...，作为...输出。</p> <p>语法大致格式：<code>select case … when … then …..else …end...as... from ...</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#给工作为clerk的员工加工资，给其它工作岗位的员工减工资</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal<span class="token punctuation">,</span><span class="token keyword">case</span> job <span class="token keyword">when</span> <span class="token string">&quot;clerk&quot;</span> <span class="token keyword">then</span> sal<span class="token operator">*</span><span class="token number">1.1</span> <span class="token keyword">else</span> sal<span class="token operator">*</span><span class="token number">0.9</span> <span class="token keyword">end</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+-----------------------------------------------------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> sal     <span class="token operator">|</span> <span class="token keyword">case</span> job <span class="token keyword">when</span> <span class="token string">&quot;clerk&quot;</span> <span class="token keyword">then</span> sal<span class="token operator">*</span><span class="token number">1.1</span> <span class="token keyword">else</span> sal<span class="token operator">*</span><span class="token number">0.9</span> <span class="token keyword">end</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+-----------------------------------------------------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>                                              <span class="token number">880.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>                                             <span class="token number">1440.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>                                             <span class="token number">1125.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>                                             <span class="token number">2677.50</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>                                             <span class="token number">1125.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>                                             <span class="token number">2565.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>                                             <span class="token number">2205.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>                                             <span class="token number">2700.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>                                             <span class="token number">4500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>                                             <span class="token number">1350.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>                                             <span class="token number">1210.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>                                             <span class="token number">1045.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>                                             <span class="token number">2700.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>                                             <span class="token number">1430.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+-----------------------------------------------------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">## 使用as给新字段命名</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal<span class="token punctuation">,</span><span class="token keyword">case</span> job <span class="token keyword">when</span> <span class="token string">&quot;clerk&quot;</span> <span class="token keyword">then</span> sal<span class="token operator">*</span><span class="token number">1.1</span> <span class="token keyword">else</span> sal<span class="token operator">*</span><span class="token number">0.9</span> <span class="token keyword">end</span> <span class="token keyword">as</span> new_sal <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> sal     <span class="token operator">|</span> new_sal <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+---------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>  <span class="token number">880.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span> <span class="token number">1440.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1125.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span> <span class="token number">2677.50</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1125.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span> <span class="token number">2565.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span> <span class="token number">2205.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token number">2700.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span> <span class="token number">4500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span> <span class="token number">1350.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span> <span class="token number">1210.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span> <span class="token number">1045.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token number">2700.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span> <span class="token number">1430.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+---------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#给工作为clerk和salesman的员工加工资，给其它工作岗位的员工减工资</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal<span class="token punctuation">,</span><span class="token keyword">case</span> job <span class="token keyword">when</span> <span class="token string">&quot;clerk&quot;</span> <span class="token keyword">then</span> sal<span class="token operator">*</span><span class="token number">1.1</span> <span class="token keyword">when</span> <span class="token string">&quot;salesman&quot;</span> <span class="token keyword">then</span> sal<span class="token operator">*</span><span class="token number">1.2</span> <span class="token keyword">else</span> sal<span class="token operator">*</span><span class="token number">0.9</span> <span class="token keyword">end</span> <span class="token keyword">as</span> new_sal <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> sal     <span class="token operator">|</span> new_sal <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+---------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>  <span class="token number">880.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span> <span class="token number">1920.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span> <span class="token number">2677.50</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span> <span class="token number">2565.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span> <span class="token number">2205.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token number">2700.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span> <span class="token number">4500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span> <span class="token number">1800.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span> <span class="token number">1210.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span> <span class="token number">1045.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token number">2700.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span> <span class="token number">1430.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-----------+---------+---------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="ifnull-如果为空则"><a href="#ifnull-如果为空则" class="header-anchor">#</a> ifnull 如果为空则...</h4> <p>示例：<code>ifnulll(comm,0)</code> ----&gt;如果<code>comm</code>为空，则变为<code>0</code>。</p> <p>当运算涉及到<code>null</code>的时候，运算结果都会是<code>null</code>，有时候为了避免这种情况，我们可以使用<code>ifnull</code>，</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> comm <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> comm    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ifnull<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span> ifnull<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>         <span class="token number">300.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>         <span class="token number">500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>        <span class="token number">1400.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">|</span>           <span class="token number">0.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-分组-聚合-多行处理函数"><a href="#sql查询-分组-聚合-多行处理函数" class="header-anchor">#</a> sql查询--分组/聚合/多行处理函数</h3> <h4 id="distinct取得某字段不重复记录"><a href="#distinct取得某字段不重复记录" class="header-anchor">#</a> distinct取得某字段不重复记录</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


<span class="token comment">#查询工作岗位类型有多少个</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">distinct</span> job <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span> job       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span> CLERK     <span class="token operator">|</span>
<span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER   <span class="token operator">|</span>
<span class="token operator">|</span> ANALYST   <span class="token operator">|</span>
<span class="token operator">|</span> PRESIDENT <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="count取得记录数-行数"><a href="#count取得记录数-行数" class="header-anchor">#</a> count取得记录数(行数)</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#取得记录数</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+</span>
<span class="token operator">|</span>       <span class="token number">14</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.10</span> sec<span class="token punctuation">)</span>

<span class="token comment">#取得comm不为空的记录数</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token operator">|</span>           <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.10</span> sec<span class="token punctuation">)</span>

<span class="token comment">## 统计job字段不重复的记录数</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> job<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> job<span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span>                   <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="sum求和"><a href="#sum求和" class="header-anchor">#</a> sum求和</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token operator">+</span>ifnull<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token operator">|</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token operator">+</span>ifnull<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token operator">|</span>                <span class="token number">31225.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="avg-求平均值-todo"><a href="#avg-求平均值-todo" class="header-anchor">#</a> avg 求平均值（TODO）</h4> <h4 id="max求最大值"><a href="#max求最大值" class="header-anchor">#</a> max求最大值</h4> <h4 id="min求最小值"><a href="#min求最小值" class="header-anchor">#</a> min求最小值</h4> <h3 id="sql查询-分组查询-group-by"><a href="#sql查询-分组查询-group-by" class="header-anchor">#</a> sql查询--分组查询 group by</h3> <p><code>group by</code>的作用是，根据某个字段或者某些字段来进行分组查询。</p> <p>如果有排序<code>order by</code>的时候，<code>order by</code>要跟在<code>group by</code>的后面。</p> <h4 id="案例1-根据单个字段来分组查询"><a href="#案例1-根据单个字段来分组查询" class="header-anchor">#</a> 案例1：根据单个字段来分组查询</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#根据job进行分组，求不同岗位的平均工资</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> job<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> job       <span class="token operator">|</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1037.500000</span> <span class="token operator">|</span>
<span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1400.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2758.333333</span> <span class="token operator">|</span>
<span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.000000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#根据job进行分组，求不同岗位的平均工资，新列名称改为avg_sal</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> avg_sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> job<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> job       <span class="token operator">|</span> avg_sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1037.500000</span> <span class="token operator">|</span>
<span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1400.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2758.333333</span> <span class="token operator">|</span>
<span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.000000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#根据job进行分组，求不同岗位的平均工资，并进行降序排序。</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> avg_sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> job <span class="token keyword">order</span> <span class="token keyword">by</span> avg_sal <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> job       <span class="token operator">|</span> avg_sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2758.333333</span> <span class="token operator">|</span>
<span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">1400.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">1037.500000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="案例2-根据多个字段来分组查询"><a href="#案例2-根据多个字段来分组查询" class="header-anchor">#</a> 案例2：根据多个字段来分组查询</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job<span class="token punctuation">,</span>deptno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> avg_sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> job<span class="token punctuation">,</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+-------------+</span>
<span class="token operator">|</span> job       <span class="token operator">|</span> deptno <span class="token operator">|</span> avg_sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+-------------+</span>
<span class="token operator">|</span> CLERK     <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>  <span class="token number">950.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> <span class="token number">1400.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER   <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> <span class="token number">2975.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER   <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> <span class="token number">2850.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER   <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">2450.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> ANALYST   <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> <span class="token number">3000.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> PRESIDENT <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">5000.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLERK     <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>  <span class="token number">950.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLERK     <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">1300.000000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+--------+-------------+</span>
<span class="token number">9</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-分组后过滤-having"><a href="#sql查询-分组后过滤-having" class="header-anchor">#</a> sql查询--分组后过滤 having</h3> <p>使用<code>group by</code>分组后，如果过滤数据，可以使用<code>having</code>。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> avg_sal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> job <span class="token keyword">having</span> avg_sal<span class="token operator">&gt;=</span><span class="token number">3000</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> job       <span class="token operator">|</span> avg_sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.000000</span> <span class="token operator">|</span>
<span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.000000</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+-------------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-跨表查询-连接查询"><a href="#sql查询-跨表查询-连接查询" class="header-anchor">#</a> sql查询--跨表查询(连接查询)</h3> <p>分两种语法：<code>sql92</code>和<code>sql99</code>，推荐使用<code>sql99</code>语法。</p> <p><code>sql99</code>语法可以做到表的连接条件和查询条件分离，特别是多个表进行连接的时候，会比<code>sql92</code>更清晰。</p> <h4 id="案例1-内连接-连接条件相等的数据-sql92"><a href="#案例1-内连接-连接条件相等的数据-sql92" class="header-anchor">#</a> 案例1：内连接--连接条件相等的数据 sql92</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dept<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+----------+</span>
<span class="token operator">|</span> deptno <span class="token operator">|</span> dname       <span class="token operator">|</span> loc      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+----------+</span>
<span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span> NEW YORK <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> DALLAS   <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES       <span class="token operator">|</span> CHICAGO  <span class="token operator">|</span>
<span class="token operator">|</span>     <span class="token number">40</span> <span class="token operator">|</span> OPERATIONS  <span class="token operator">|</span> BOSTON   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+----------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">## 以deptno相同作为连接条件，进行跨表查询</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>emp<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span>dept<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span>dept<span class="token punctuation">.</span>dname <span class="token keyword">from</span> emp<span class="token punctuation">,</span>dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>deptno<span class="token operator">=</span>dept<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+--------+-------------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> deptno <span class="token operator">|</span> deptno <span class="token operator">|</span> dname       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+--------+-------------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+--------+-------------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


<span class="token comment">## 以deptno相同作为连接条件，进行跨表查询</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>dept<span class="token punctuation">.</span>dname <span class="token keyword">from</span> emp<span class="token punctuation">,</span>dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>deptno<span class="token operator">=</span>dept<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> dname       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS  <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span> SALES       <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="案例1-内连接-连接条件相等的数据-sql99"><a href="#案例1-内连接-连接条件相等的数据-sql99" class="header-anchor">#</a> 案例1：内连接--连接条件相等的数据 sql99</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> emp<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>dept<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>emp<span class="token punctuation">.</span>sal <span class="token keyword">from</span> emp <span class="token keyword">join</span> dept <span class="token keyword">on</span> emp<span class="token punctuation">.</span>deptno<span class="token operator">=</span>dept<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+---------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span> dname       <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+---------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALES       <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span> SALES       <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALES       <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span> SALES       <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT  <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING   <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER <span class="token operator">|</span> SALES       <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS  <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES  <span class="token operator">|</span> SALES       <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD   <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+-------------+---------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>e<span class="token punctuation">.</span>sal <span class="token keyword">from</span> emp e <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno <span class="token keyword">where</span> e<span class="token punctuation">.</span>sal<span class="token operator">&gt;</span><span class="token number">1500</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> dname       <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+---------+</span>
<span class="token operator">|</span> ALLEN <span class="token operator">|</span> SALES       <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> SALES       <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> KING  <span class="token operator">|</span> ACCOUNTING  <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> RESEARCHING <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-------------+---------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="案例3-自连接-内连接的一种特殊情况"><a href="#案例3-自连接-内连接的一种特殊情况" class="header-anchor">#</a> 案例3：自连接（内连接的一种特殊情况）</h4> <p>自连接是把一张表当成两张表进行连接。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span class="token comment">#empno是员工编号</span>
<span class="token comment">#mgr是员工对应的上级领导的员工编号。（领导也是公司里的员工）</span>
<span class="token comment">#ename是员工名称</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token keyword">as</span> <span class="token string">&quot;员工名称&quot;</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>ename <span class="token keyword">as</span> <span class="token string">&quot;员工上级领导名称&quot;</span><span class="token punctuation">,</span>m<span class="token punctuation">.</span>empno <span class="token keyword">as</span> <span class="token string">&quot;领导的员工编号&quot;</span> <span class="token keyword">from</span> emp e <span class="token keyword">join</span> emp m <span class="token keyword">on</span> e<span class="token punctuation">.</span>mgr<span class="token operator">=</span>m<span class="token punctuation">.</span>empno<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------------------+-----------------------+</span>
<span class="token operator">|</span> 员工名称      <span class="token operator">|</span> 员工上级领导名称            <span class="token operator">|</span> 领导的员工编号          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------------------+-----------------------+</span>
<span class="token operator">|</span> SIMITH       <span class="token operator">|</span> FORD                     <span class="token operator">|</span>                  <span class="token number">7902</span> <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN        <span class="token operator">|</span> BLAKE                    <span class="token operator">|</span>                  <span class="token number">7698</span> <span class="token operator">|</span>
<span class="token operator">|</span> WARD         <span class="token operator">|</span> BLAKE                    <span class="token operator">|</span>                  <span class="token number">7698</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES        <span class="token operator">|</span> KING                     <span class="token operator">|</span>                  <span class="token number">7839</span> <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN       <span class="token operator">|</span> BLAKE                    <span class="token operator">|</span>                  <span class="token number">7698</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE        <span class="token operator">|</span> KING                     <span class="token operator">|</span>                  <span class="token number">7839</span> <span class="token operator">|</span>
<span class="token operator">|</span> CLARK        <span class="token operator">|</span> KING                     <span class="token operator">|</span>                  <span class="token number">7839</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT        <span class="token operator">|</span> JONES                    <span class="token operator">|</span>                  <span class="token number">7566</span> <span class="token operator">|</span>
<span class="token operator">|</span> TURNER       <span class="token operator">|</span> BLAKE                    <span class="token operator">|</span>                  <span class="token number">7698</span> <span class="token operator">|</span>
<span class="token operator">|</span> ADAMS        <span class="token operator">|</span> SCOTT                    <span class="token operator">|</span>                  <span class="token number">7788</span> <span class="token operator">|</span>
<span class="token operator">|</span> JAMES        <span class="token operator">|</span> BLAKE                    <span class="token operator">|</span>                  <span class="token number">7698</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD         <span class="token operator">|</span> JONES                    <span class="token operator">|</span>                  <span class="token number">7566</span> <span class="token operator">|</span>
<span class="token operator">|</span> MILLER       <span class="token operator">|</span> CLARK                    <span class="token operator">|</span>                  <span class="token number">7782</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------------+--------------------------+-----------------------+</span>
<span class="token number">13</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="案例4-外连接"><a href="#案例4-外连接" class="header-anchor">#</a> 案例4：外连接</h4> <p>左外连接<code>left join</code>：以左表作为比较标准，左表的字段所有记录都会显示，但是右表的不一定。</p> <p>右外连接<code>right join</code>：以左表作为比较标准，右表的字段所有记录都会显示，但是左表的不一定。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> t1<span class="token punctuation">(</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>id1 <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t2<span class="token punctuation">(</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>id2 <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> t1 <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&quot;krystal&quot;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;jimmy&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;love&quot;</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> t2 <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&quot;jimmy&quot;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;krystal&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;love&quot;</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t1<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+-----+</span>
<span class="token operator">|</span> name    <span class="token operator">|</span> id1 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+-----+</span>
<span class="token operator">|</span> krystal <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> jimmy   <span class="token operator">|</span>  <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> love    <span class="token operator">|</span>  <span class="token number">40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+-----+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t2<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+-----+</span>
<span class="token operator">|</span> name    <span class="token operator">|</span> id2 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+-----+</span>
<span class="token operator">|</span> jimmy   <span class="token operator">|</span>  <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> krystal <span class="token operator">|</span>  <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span> love    <span class="token operator">|</span>  <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+-----+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


<span class="token comment">#左外连接</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> t1<span class="token punctuation">.</span>name<span class="token punctuation">,</span>t2<span class="token punctuation">.</span>name <span class="token keyword">from</span> t1 <span class="token keyword">left</span> <span class="token keyword">join</span> t2 <span class="token keyword">on</span> t1<span class="token punctuation">.</span>id1<span class="token operator">=</span>t2<span class="token punctuation">.</span>id2<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+---------+</span>
<span class="token operator">|</span> name    <span class="token operator">|</span> name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+---------+</span>
<span class="token operator">|</span> krystal <span class="token operator">|</span> jimmy   <span class="token operator">|</span>
<span class="token operator">|</span> jimmy   <span class="token operator">|</span> krystal <span class="token operator">|</span>
<span class="token operator">|</span> love    <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+---------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#左右连接</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> t1<span class="token punctuation">.</span>name<span class="token punctuation">,</span>t2<span class="token punctuation">.</span>name <span class="token keyword">from</span> t1 <span class="token keyword">right</span> <span class="token keyword">join</span> t2 <span class="token keyword">on</span> t1<span class="token punctuation">.</span>id1<span class="token operator">=</span>t2<span class="token punctuation">.</span>id2<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+---------+</span>
<span class="token operator">|</span> name    <span class="token operator">|</span> name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+---------+</span>
<span class="token operator">|</span> krystal <span class="token operator">|</span> jimmy   <span class="token operator">|</span>
<span class="token operator">|</span> jimmy   <span class="token operator">|</span> krystal <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span> love    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+---------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-子查询"><a href="#sql查询-子查询" class="header-anchor">#</a> sql查询--子查询</h3> <p>第二个<code>select</code>查询语句一定要用括号括起来。</p> <h4 id="where中使用子查询"><a href="#where中使用子查询" class="header-anchor">#</a> where中使用子查询</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>


<span class="token comment">## 查看salesman岗位拿到的最高工资</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job<span class="token punctuation">,</span>sal <span class="token keyword">as</span> <span class="token string">&quot;最高工资&quot;</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">&quot;salesman&quot;</span> <span class="token operator">and</span> sal <span class="token operator">&gt;=</span> <span class="token keyword">ALL</span><span class="token punctuation">(</span><span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">&quot;salesman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----------+--------------+</span>
<span class="token operator">|</span> job      <span class="token operator">|</span> 最高工资      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------+</span>
<span class="token operator">|</span> SALESMAN <span class="token operator">|</span>      <span class="token number">1600.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------+--------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="from中使用子查询"><a href="#from中使用子查询" class="header-anchor">#</a> from中使用子查询</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">## 查询工资大于3000的工作</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> m<span class="token punctuation">.</span>job <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span><span class="token number">3000</span><span class="token punctuation">)</span> m<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span> job       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token operator">|</span> PRESIDENT <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="select中使用子查询-todo"><a href="#select中使用子查询-todo" class="header-anchor">#</a> select中使用子查询（TODO）</h4> <h3 id="sql查询-union合并"><a href="#sql查询-union合并" class="header-anchor">#</a> sql查询--union合并</h3> <p><code>UNION</code> 操作符用于合并两个或多个 <code>SELECT</code> 语句的结果集。</p> <p>请注意，<code>UNION</code> 内部的 <code>SELECT</code> 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 <code>SELECT</code> 语句中的列的顺序必须相同。</p> <p>默认地，<code>UNION</code> 操作符选取不同的值。如果允许重复的值，请使用 <code>UNION ALL</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&quot;manager&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;clerk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> job     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#使用union all</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job <span class="token keyword">from</span> emp  <span class="token keyword">where</span> job <span class="token operator">=</span><span class="token string">&quot;manager&quot;</span> <span class="token keyword">union</span> <span class="token keyword">all</span> <span class="token keyword">select</span> job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job <span class="token operator">=</span><span class="token string">&quot;clerk&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> job     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#使用union</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> job <span class="token keyword">from</span> emp  <span class="token keyword">where</span> job <span class="token operator">=</span><span class="token string">&quot;manager&quot;</span> <span class="token keyword">union</span> <span class="token keyword">select</span> job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job <span class="token operator">=</span><span class="token string">&quot;clerk&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> job     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token operator">|</span> MANAGER <span class="token operator">|</span>
<span class="token operator">|</span> CLERK   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h3 id="sql查询-limit提取某几行数据"><a href="#sql查询-limit提取某几行数据" class="header-anchor">#</a> sql查询--limit提取某几行数据</h3> <p><code>limit</code>是<code>mysql</code>的特色语句，主要用于提取前几条或者中间某几行数据</p> <p>语法格式：<code>select * from table limit m,n</code></p> <p>其中<code>m</code>是指记录开始的<code>index</code>，从<code>0</code>开始，表示第一条记录</p> <p><code>n</code>是指从第<code>m+1</code>条开始，取<code>n</code>条。</p> <p><code>select * from tablename limit 2,4</code></p> <p>即取出第<code>3</code>条至第<code>6</code>条，<code>4</code>条记录。</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job       <span class="token operator">|</span> mgr  <span class="token operator">|</span> hiredate   <span class="token operator">|</span> sal     <span class="token operator">|</span> comm    <span class="token operator">|</span> deptno <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SIMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>
<span class="token number">14</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> SIMITH <span class="token operator">|</span>
<span class="token operator">|</span> ALLEN  <span class="token operator">|</span>
<span class="token operator">|</span> WARD   <span class="token operator">|</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> ename  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token operator">|</span> JONES  <span class="token operator">|</span>
<span class="token operator">|</span> MARTIN <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE  <span class="token operator">|</span>
<span class="token operator">|</span> CLARK  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

<span class="token comment">#配合排序使用，可以查询排名前几的工资，查询Top5工资信息</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------+-----------+---------+</span>
<span class="token operator">|</span> ename <span class="token operator">|</span> job       <span class="token operator">|</span> sal     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-----------+---------+</span>
<span class="token operator">|</span> KING  <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> FORD  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> SCOTT <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> JONES <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>
<span class="token operator">|</span> BLAKE <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------+-----------+---------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h2 id="视图"><a href="#视图" class="header-anchor">#</a> 视图</h2> <h4 id="为什么需要视图"><a href="#为什么需要视图" class="header-anchor">#</a> 1️⃣为什么需要视图？</h4> <p>观看下图，要为不同的人设置不同的查询权限和范围，所以，视图就是用来满足不同用户的不同需求的。</p> <img src="mysql.assets/image-20200610155720937.png" alt="image-20200610155720937" style="zoom:33%;"> <h4 id="视图的介绍"><a href="#视图的介绍" class="header-anchor">#</a> 2️⃣视图的介绍</h4> <p>视图是一张虚拟表</p> <ul><li>表示一张表的部分数据或多张表的综合数据</li> <li>其结构和数据是建立在对表查询基础上的</li></ul> <p>视图不存放数据</p> <ul><li>数据存放在视图所引用的原始表中</li></ul> <p>一个原始表，根据不同用户的不同需求，可以创建多个不同的视图</p> <p>视图的用途</p> <ul><li>筛选表中的行</li> <li>防止未经许可的用户访问敏感数据</li> <li>降低数据库的复杂程度</li> <li>将多个物理数据库抽象为一个逻辑数据库</li></ul> <h4 id="视图的相关操作"><a href="#视图的相关操作" class="header-anchor">#</a> 3️⃣视图的相关操作</h4> <p>使用sql语句删除、创建和查看视图：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span>  <span class="token keyword">VIEW</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> <span class="token punctuation">`</span>student_result<span class="token punctuation">`</span><span class="token punctuation">;</span>   删除视图
<span class="token keyword">create</span> <span class="token keyword">view</span> <span class="token punctuation">`</span>student_result<span class="token punctuation">`</span> <span class="token keyword">as</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 创建视图
<span class="token keyword">select</span> <span class="token operator">*</span>  <span class="token keyword">from</span> <span class="token punctuation">`</span>student_result<span class="token punctuation">`</span><span class="token punctuation">;</span>   查看视图
</code></pre></div><h4 id="使用视图的注意事项"><a href="#使用视图的注意事项" class="header-anchor">#</a> 4️⃣使用视图的注意事项</h4> <p>注意事项</p> <ul><li>视图中可以使用多个表</li> <li>一个视图可以嵌套另一个视图</li> <li>对视图数据进行添加、删除和更新等操作直接影响所有引用表中的数据</li> <li>当视图数据来自多个表时，不允许添加和删除数据</li></ul> <p>提示</p> <ul><li>查看存在的所有视图
<ul><li><code>use information_schema;</code></li> <li><code>select * from view;</code></li></ul></li></ul> <p>经验</p> <ul><li>使用视图修改数据会有很多限制，一般实际开发中<strong>视图仅用作查询</strong>。</li></ul> <h2 id="timestamp"><a href="#timestamp" class="header-anchor">#</a> TIMESTAMP</h2> <p>sql的TIMESTAMP有两个属性：CURRENT_TIMESTAMP 和ON UPDATE CURRENT_TIMESTAMP，这两个属性分别是用来记录insert插入数据的时间，而ON UPDATE CURRENT_TIMESTAMP用来记录update更新数据的时间。</p> <p>example:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>emp<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>deg<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>salary<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>dept<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>create_time<span class="token punctuation">`</span> <span class="token keyword">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>update_time<span class="token punctuation">`</span> <span class="token keyword">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1<span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">insert</span> <span class="token keyword">into</span> emp <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&quot;jimmy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-------+------+--------+------+---------------------+---------------------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name  <span class="token operator">|</span> deg  <span class="token operator">|</span> salary <span class="token operator">|</span> dept <span class="token operator">|</span> create_time         <span class="token operator">|</span> update_time         <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">------+-------+------+--------+------+---------------------+---------------------+</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> jimmy <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>   <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">14</span> <span class="token number">17</span>:<span class="token number">10</span>:<span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">14</span> <span class="token number">17</span>:<span class="token number">10</span>:<span class="token number">01</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-------+------+--------+------+---------------------+---------------------+</span>
</code></pre></div><h2 id="mysql密码-用户-权限管理"><a href="#mysql密码-用户-权限管理" class="header-anchor">#</a> mysql密码+用户+权限管理</h2> <h4 id="mysql密码等级-长度"><a href="#mysql密码等级-长度" class="header-anchor">#</a> 1️⃣mysql密码等级/长度</h4> <h6 id="设定mysql密码等级"><a href="#设定mysql密码等级" class="header-anchor">#</a> 设定mysql密码等级</h6> <p>通过设置 validate_password_policy 的全局参数来设定密码等级：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token keyword">global</span> validate_password_policy<span class="token operator">=</span>LOW<span class="token punctuation">;</span> 
</code></pre></div><p>设定密码等级为LOW后，就只会验证密码的长度了。</p> <h6 id="设定密码长度-默认长度是8"><a href="#设定密码长度-默认长度是8" class="header-anchor">#</a> 设定密码长度：(默认长度是8)</h6> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> <span class="token keyword">global</span> validate_password_length<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="查看-新建-删除mysql用户"><a href="#查看-新建-删除mysql用户" class="header-anchor">#</a> 2️⃣查看/新建/删除mysql用户</h4> <h5 id="查看现有用户"><a href="#查看现有用户" class="header-anchor">#</a> 查看现有用户：</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span><span class="token keyword">user</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+</span>
<span class="token operator">|</span> host      <span class="token operator">|</span> <span class="token keyword">user</span>             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>infoschema <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span><span class="token keyword">session</span>    <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>sys        <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> root             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+</span>
</code></pre></div><h5 id="新建用户"><a href="#新建用户" class="header-anchor">#</a> 新建用户：</h5> <p>语法格式：<strong>create user &quot;username&quot;@&quot;host&quot; identified by &quot;password&quot;;</strong></p> <p>host=&quot;localhost&quot;为本地登录用户，host=&quot;ip&quot;为ip地址登录，host=&quot;%&quot;，为外网ip登录</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&quot;krystal&quot;</span><span class="token variable">@&quot;%&quot;</span> identified <span class="token keyword">by</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host<span class="token punctuation">,</span><span class="token keyword">user</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+</span>
<span class="token operator">|</span> host      <span class="token operator">|</span> <span class="token keyword">user</span>             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+</span>
<span class="token operator">|</span> <span class="token operator">%</span>         <span class="token operator">|</span> krystal          <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>infoschema <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span><span class="token keyword">session</span>    <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> mysql<span class="token punctuation">.</span>sys        <span class="token operator">|</span>
<span class="token operator">|</span> localhost <span class="token operator">|</span> root             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------+------------------+</span>
</code></pre></div><h5 id="修改用户名"><a href="#修改用户名" class="header-anchor">#</a> 修改用户名</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">rename</span> <span class="token keyword">user</span> <span class="token string">'jack'</span><span class="token variable">@'%'</span> <span class="token keyword">to</span> <span class="token string">'jim'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="删除用户"><a href="#删除用户" class="header-anchor">#</a> 删除用户</h5> <p>语法格式：drop user &quot;username&quot;@&quot;host&quot;</p> <h5 id="修改用户密码"><a href="#修改用户密码" class="header-anchor">#</a> 修改用户密码</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> PASSWORD <span class="token keyword">FOR</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> <span class="token operator">=</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h4 id="赋予mysql用户权限"><a href="#赋予mysql用户权限" class="header-anchor">#</a> 3️⃣赋予mysql用户权限</h4> <h5 id="查看当前用户权限"><a href="#查看当前用户权限" class="header-anchor">#</a> 查看当前用户权限</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> grants<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span> Grants <span class="token keyword">for</span> krystal@<span class="token operator">%</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">GRANT</span> <span class="token keyword">USAGE</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token punctuation">`</span>krystal<span class="token punctuation">`</span><span class="token variable">@`%`</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
</code></pre></div><h5 id="查看某个用户权限"><a href="#查看某个用户权限" class="header-anchor">#</a> 查看某个用户权限</h5> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> grants <span class="token keyword">for</span> <span class="token string">&quot;krystal&quot;</span><span class="token variable">@&quot;%&quot;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span> Grants <span class="token keyword">for</span> krystal@<span class="token operator">%</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">GRANT</span> <span class="token keyword">USAGE</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token punctuation">`</span>krystal<span class="token punctuation">`</span><span class="token variable">@`%`</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
</code></pre></div><h5 id="赋予权限"><a href="#赋予权限" class="header-anchor">#</a> 赋予权限</h5> <p>语法格式：<strong>grant privileges on databasename.tablename to 'username'@'host' IDENTIFIED BY 'PASSWORD';</strong></p> <ul><li>privileges表示要赋予的权限，可以是all priveleges, 表示所有权限，也可以是select、update等权限。多个权限的名词,相互之间用逗号分开。</li> <li>on databasename.tablename表示权限针对哪些库哪些表</li> <li>to 'username'@'host' IDENTIFIED BY 'PASSWORD'表示赋予权限给哪个用户</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">/*授予用户通过外网IP对于该数据库的全部权限*/</span>
<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">on</span> <span class="token punctuation">`</span>test<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'test'</span><span class="token variable">@'%'</span> <span class="token punctuation">;</span>

<span class="token comment">/*授予用户在本地服务器对该数据库的全部权限*/</span>

<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">privileges</span> <span class="token keyword">on</span> <span class="token punctuation">`</span>test<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'test'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>   

<span class="token keyword">grant</span> <span class="token keyword">select</span> <span class="token keyword">on</span> test<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'user1'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>  <span class="token comment">/*给予查询权限*/</span>

<span class="token keyword">grant</span> <span class="token keyword">insert</span> <span class="token keyword">on</span> test<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'user1'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span> <span class="token comment">/*添加插入权限*/</span>

<span class="token keyword">grant</span> <span class="token keyword">delete</span> <span class="token keyword">on</span> test<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'user1'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span> <span class="token comment">/*添加删除权限*/</span>

<span class="token keyword">grant</span> <span class="token keyword">update</span> <span class="token keyword">on</span> test<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'user1'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span> <span class="token comment">/*添加权限*/</span>

flush <span class="token keyword">privileges</span><span class="token punctuation">;</span> <span class="token comment">/*刷新权限*/</span>
</code></pre></div><h5 id="权限控制经验"><a href="#权限控制经验" class="header-anchor">#</a> 权限控制经验</h5> <p>权限控制主要是出于安全因素，因此需要遵循一下几个经验原则：</p> <ul><li>只授予能满足需要的最小权限，防止用户干坏事。比如用户只是需要查询，那就只给select权限就可以了，不要给用户赋予update、insert或者delete权限。</li> <li>创建用户的时候限制用户的登录主机，一般是限制成指定IP或者内网IP段。</li> <li>初始化数据库的时候删除没有密码的用户。安装完数据库的时候会自动创建一些用户，这些用户默认没有密码。</li> <li>为每个用户设置满足密码复杂度的密码。</li> <li>定期清理不需要的用户。回收权限或者删除用户。</li></ul> <h2 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h2> <p><img src="/assets/img/image-20200518134748072.ee6f433b.png" alt="image-20200518134748072"></p> <h4 id="_16-1、概述"><a href="#_16-1、概述" class="header-anchor">#</a> 16.1、概述</h4> <p>事务可以保证多个操作原子性，<strong>要么全成功，要么全失败</strong>。对于数据库来说事务保证批量的DML要么全成功，要么全失败。事务具有四个特征ACID</p> <p>a)  原子性（<code>Atomicity</code>）</p> <p>​		整个事务中的所有操作，必须<strong>作为一个单元全部完成</strong>（或全部取消）。</p> <p>b)  一致性（<code>Consistency</code>）</p> <p>​		在事务开始之前与结束之后，数据库都<strong>保持一致状态</strong>。</p> <p>c)  隔离性(<code>Isolation</code>)</p> <p>​		一个事务<strong>不会影响</strong>其他事务的运行。</p> <p>d)  持久性(<code>Durability</code>)</p> <p>​		在事务完成以后，该事务对数据库所作的更改将<strong>持久地保存</strong>在数据库之中，并不会被回滚。</p> <p>事务中存在一些概念：</p> <ul><li>a)  事务（<code>Transaction</code>）：一批操作（一组<code>DML</code>）</li> <li>b)  开启事务（<code>Start Transaction</code>）</li> <li>c)  回滚事务（<code>rollback</code>）</li> <li>d)  提交事务（<code>commit</code>）</li> <li>e)  SET AUTOCOMMIT：禁用或启用事务的自动提交模式</li></ul> <p>当执行DML语句是其实就是开启一个事务</p> <p>关于事务的回滚需要注意：<strong>只能回滚insert、delete和update语句，不能回滚select</strong>（回滚select没有任何意义），对于<code>create</code>、<code>drop</code>、<code>alter</code>这些无法回滚.</p> <p><strong>事务只对DML有效果。</strong></p> <p>注意：<code>rollback</code>，或者<code>commit</code>后事务就结束了。</p> <h4 id="_16-2、事务的提交与回滚演示"><a href="#_16-2、事务的提交与回滚演示" class="header-anchor">#</a> 16.2、事务的提交与回滚演示</h4> <ol><li>创建表</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">user</span><span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span>  <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询表中数据</li></ol> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ8AAAA2CAIAAABWT4u4AAAAAXNSR0IArs4c6QAABK5JREFUeF7tW0tyVDEMHDhZbkCxZ5k9xUko9hxmjsakTCmObOm1ZfuNMtNZhYcstVrfmedcfv18vfCHDJABgIGvgAxFyAAZeGOA1cI8IAMoA6wWlCnKkQFWC3OADKAMsFpQpihHBlgtzAEygDLAakGZohwZYLUwB8gAygCrBWWKcmTgy+1d/u8/f3cTcb1excTLy4v8Xp7XT9YiseyutbJVm7iwj6Wt+B9J+Umz5RbpbrDLwzqn15Jr2Q1Y2QfSAVN3k7sACBD1wEdOqhaHwd0FsyR4qzL1pkdU1b8fglxY9oe2zhEo7q8i9hzMb5vYt+8/lDGZA21va5O73azKctVuWc7eBa5k/kZXvGiHmIWkle/qbyM6sxQNLYddWurdTAkswW8FXW0B3bjX/Ds4a1UzZJ5TJGLlfbYU0EinFzaVcP0czH7Bscoustch+LvhLA0+HN22lfrN1ZpCVjuw/KqbAsKzlYJh3kShKuYZMk+uk2IusonVjK9yGKku3+7oWPflV/lVB7XV6VuRqrDEbi6ESzeQbWH+T8YZcA08EqmWMoJuP6MJeti0DkE7dqXxgwk0Kn+IDRHw2z+iQZWfxGL0bEw+xn+JiKr5kjztlhsDds6pg2qRdqJ22Xa1DcNFpkpRLuQ668RoACz50eeg+3XG7BhfIIyY2A7+Y0juder9U7605G76qodqARX0qlUonW1fxEtFCkaU1DMExFM6XCm8IT31EXB2zUd0BqR4Ksj9+Cq0YrpsEDHeLPwqW07jcz4iF+QvjUcbdj0HFkCkikdkIJBUd6fBe5d/2Bss9OGDd6eDAMiAxwAyW8ggGSADNwaC34mROzLwhAywWp4w6HQ5yACrJUgcjz0hA6yWJww6XQ4y0L9VKd+vB7V+nmPOeySEBPD90mmvFEbfX32eQOVAWr4TU19+z9xHmDk7Q0nAbut1reTwhYB13Fc74yNy9hA2ooQyXQb6m1i4FwZSdklgAnb9Njyq0JIf1TPPhnMtaF75k2v4/3ZS3W6wGFe3UOv7EWVAKTa7ty2QbcF6v9l97ti1otvFIA/Bt6uW/KgeRd3ojZ5ua0NIfvLUD7j/YbZ0h7hcIJWgSs3IvUAVG7neGwBUW1FFK1bUc0mXSbs12tHpaskjeiy/Rp/H2OYpnIEP1ZLkVqyaYCrhdu/lo7vT/A4242+SkOEJ96klO59bkHa42+eSBNasm58h/nI/ysDMYClMrvWXa9im/Ox/yh/try04leiSnUgg5ayT09aEwSePpdxK/aIZ/4yEl9xafxGGNyXTw6v13rco3ut/qqSpM0P+q5suYCxr/V3lpR/X4fHtgh/3R/2y5B09XSSj/vryeKE+fH4vdjB2Bxlv4Sqh56fWYv+pjgzADERuvkjGg6lf7zBse3BoKJiPgdhsyecHEZGB7QxEZst2UDRABlIywGpJGRaCSskAqyVlWAgqJQOslpRhIaiUDLBaUoaFoFIywGpJGRaCSskAqyVlWAgqJQOslpRhIaiUDLBaUoaFoFIywGpJGRaCSskAqyVlWAgqJQOslpRhIaiUDLBaUoaFoFIywGpJGRaCSskAqyVlWAgqJQOslpRhIaiUDPwDcFll3+4cNaYAAAAASUVORK5CYII=" alt="img"></p> <ol start="3"><li>开启事务<code>START TRANSACTION;</code></li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">start</span> <span class="token keyword">transaction</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>插入数据</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span> <span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>查看数据</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> zhangsan <span class="token operator">|</span> <span class="token number">123</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><ol start="6"><li>修改数据并查看数据：</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> username<span class="token operator">=</span><span class="token string">&quot;lisi&quot;</span> <span class="token keyword">where</span> id <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
<span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">1</span>  Changed: <span class="token number">1</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> username <span class="token operator">|</span> password <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> lisi     <span class="token operator">|</span> <span class="token number">123</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+----------+----------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><ol start="7"><li>回滚事务并查看数据：</li></ol> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">rollback</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre></div><h4 id="_16-3、自动提交模式"><a href="#_16-3、自动提交模式" class="header-anchor">#</a> 16.3、自动提交模式</h4> <p>自动提交模式用于<strong>决定新事务如何及何时启动。</strong></p> <p>启用自动提交模式：</p> <ul><li>–    如果自动提交模式被启用，则<strong>单条DML语句将缺省地开始一个新的事务</strong>。</li> <li>–    如果该语句执行<strong>成功</strong>，事务将<strong>自动提交</strong>，并永久地保存该语句的执行结果。</li> <li>–    如果语句执行<strong>失败</strong>，事务将<strong>自动回滚</strong>，并取消该语句的结果。</li> <li>–    在自动提交模式下，仍可使用START TRANSACTION语句来显式地启动事务。这时，一个事务仍可包含多条语句，直到这些语句被统一提交或回滚。</li></ul> <p>禁用自动提交模式：</p> <ul><li>–    如果禁用自动提交，事务可以跨越多条语句。</li> <li>–    在这种情况下，事务可以用COMMIT和ROLLBACK语句来显式地提交或回滚。</li></ul> <p>自动提交模式可以通过服务器变量AUTOCOMMIT来控制。</p> <p>例如：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> AUTOCOMMIT <span class="token operator">=</span> <span class="token keyword">OFF</span>； 

mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> AUTOCOMMIT <span class="token operator">=</span> <span class="token keyword">ON</span>； 

<span class="token comment">-- 或</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> <span class="token keyword">SESSION</span> AUTOCOMMIT <span class="token operator">=</span> <span class="token keyword">OFF</span>； 

mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> <span class="token keyword">SESSION</span> AUTOCOMMIT <span class="token operator">=</span> <span class="token keyword">ON</span>； 

<span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'%auto%'</span><span class="token punctuation">;</span> <span class="token comment">-- 查看变量状态</span>
</code></pre></div><h4 id="_16-4、事务的隔离级别"><a href="#_16-4、事务的隔离级别" class="header-anchor">#</a> 16.4、事务的隔离级别</h4> <h5 id="_16-4-1、隔离级别"><a href="#_16-4-1、隔离级别" class="header-anchor">#</a> 16.4.1、隔离级别</h5> <p>•    <strong>事务的隔离级别决定了事务之间可见的级别。</strong></p> <p>•    当多个客户端并发地访问同一个表时，可能出现下面的一致性问题：</p> <p><strong>–    脏读取（Dirty Read）</strong></p> <div class="language- extra-class"><pre><code>		一个事务开始读取了某行数据，但是另外一个事务已经更新了此数据但没有能够及时提交，这就出现了脏读取。
</code></pre></div><p><strong>–    不可重复读（Non-repeatable Read）</strong></p> <div class="language- extra-class"><pre><code>		在同一个事务中，同一个读操作对同一个数据的前后两次读取产生了不同的结果，这就是不可重复读。
</code></pre></div><p><strong>–    幻像读（Phantom Read）</strong></p> <div class="language- extra-class"><pre><code>		幻像读是指在同一个事务中以前没有的行，由于其他事务的提交而**出现的新行**。
</code></pre></div><h5 id="_16-4-2、四个隔离级别"><a href="#_16-4-2、四个隔离级别" class="header-anchor">#</a> 16.4.2、四个隔离级别</h5> <p>InnoDB 实现了<strong>四个隔离级别</strong>，用以<strong>控制事务所做的修改，并将修改通告至其它并发的事务：</strong></p> <ul><li><p>读未提交（READ UMCOMMITTED）</p> <ul><li>允许一个事务<strong>可以看到其他事务未提交的修改</strong>。</li></ul></li> <li><p>读已提交（READ COMMITTED）</p> <ul><li>允许一个事务只能看到其他事务已经提交的修改，<strong>未提交的修改是不可见的</strong>。</li></ul></li> <li><p>可重复读（REPEATABLE READ）</p> <ul><li>确保如果在一个事务中执行<strong>两次相同的SELECT语句，都能得到相同的结果</strong>，<strong>不管其他事务是否提交</strong>这些修改。 （银行总账）</li> <li>==该隔离级别为InnoDB的缺省设置。==</li></ul></li> <li><p>串行化（SERIALIZABLE） 【序列化】</p> <ul><li>将一个事务与其他事务完全地隔离。</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>例:A可以开启事物,B也可以开启事物

A在事物中执行DML语句时,未提交

B不以执行DML,DQL语句
</code></pre></div><h5 id="_16-4-3、隔离级别与一致性问题的关系"><a href="#_16-4-3、隔离级别与一致性问题的关系" class="header-anchor">#</a> 16.4.3、隔离级别与一致性问题的关系</h5> <p>​	<img src="/assets/img/clip_image002.79a49da7.jpg" alt="img"></p> <h5 id="_16-4-4、设置服务器缺省隔离级别"><a href="#_16-4-4、设置服务器缺省隔离级别" class="header-anchor">#</a> 16.4.4、设置服务器缺省隔离级别</h5> <h6 id="通过修改配置文件设置"><a href="#通过修改配置文件设置" class="header-anchor">#</a> 通过修改配置文件设置</h6> <p>可以在<code>my.ini</code>文件中使用<code>transaction-isolation</code>选项来设置服务器的缺省事务隔离级别。</p> <p>该选项值可以是：</p> <ul><li>READ-UNCOMMITTED</li> <li>READ-COMMITTED</li> <li>REPEATABLE-READ</li> <li>SERIALIZABLE</li></ul> <p>例如：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>

transaction-isolation <span class="token operator">=</span> READ-COMMITTED
</code></pre></div><h6 id="通过命令动态设置隔离级别"><a href="#通过命令动态设置隔离级别" class="header-anchor">#</a> 通过命令动态设置隔离级别</h6> <p>隔离级别也可以在运行的服务器中动态设置，应使用SET TRANSACTION ISOLATION LEVEL语句。</p> <p>其语法模式为：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token punctuation">[</span><span class="token keyword">GLOBAL</span> <span class="token operator">|</span> <span class="token keyword">SESSION</span><span class="token punctuation">]</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">ISOLATION</span> <span class="token keyword">LEVEL</span> <span class="token operator">&lt;</span><span class="token keyword">isolation</span><span class="token operator">-</span><span class="token keyword">level</span><span class="token operator">&gt;</span>
</code></pre></div><p>其中的<code>&lt;isolation-level&gt;</code>可以是：</p> <ul><li>READ UNCOMMITTED</li> <li>READ COMMITTED</li> <li>REPEATABLE READ</li> <li>SERIALIZABLE</li></ul> <p>例如： SET TRANSACTION ISOLATION LEVEL <strong>REPEATABLE READ</strong>;</p> <h5 id="_16-4-5、隔离级别的作用范围"><a href="#_16-4-5、隔离级别的作用范围" class="header-anchor">#</a> 16.4.5、隔离级别的作用范围</h5> <p>•    事务隔离级别的作用范围分为两种：</p> <p>–    <strong>全局级</strong>：对所有的会话有效</p> <p>–    <strong>会话级</strong>：只对当前的会话有效</p> <p>•    例如，设置会话级隔离级别为READ COMMITTED ：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">ISOLATION</span> <span class="token keyword">LEVEL</span> <span class="token keyword">READ</span> <span class="token keyword">COMMITTED</span>；

<span class="token comment">-- 或：</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> <span class="token keyword">SESSION</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">ISOLATION</span> <span class="token keyword">LEVEL</span> <span class="token keyword">READ</span> <span class="token keyword">COMMITTED</span>；
</code></pre></div><p>•    设置全局级隔离级别为READ COMMITTED ：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> <span class="token keyword">TRANSACTION</span> <span class="token keyword">ISOLATION</span> <span class="token keyword">LEVEL</span> <span class="token keyword">READ</span> <span class="token keyword">COMMITTED</span>；
</code></pre></div><h5 id="_16-4-6、查看隔离级别"><a href="#_16-4-6、查看隔离级别" class="header-anchor">#</a> 16.4.6、查看隔离级别</h5> <p>•    服务器变量tx_isolation（包括会话级和全局级两个变量）中保存着当前的会话隔离级别。</p> <p>•    为了查看当前隔离级别，可访问<strong>tx_isolation</strong>变量：</p> <p>–    查看会话级的当前隔离级别：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@transaction_isolation</span><span class="token punctuation">;</span> 

  <span class="token comment">-- 或： </span>

<span class="token keyword">SELECT</span> @<span class="token variable">@session.transaction_isolation</span><span class="token punctuation">;</span>    
</code></pre></div><p>–    查看全局级的当前隔离级别：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@global.transaction_isolation</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="_16-4-7、并发事务与隔离级别示例"><a href="#_16-4-7、并发事务与隔离级别示例" class="header-anchor">#</a> 16.4.7、并发事务与隔离级别示例</h5> <h6 id="read-uncommitted-未提交读-脏读-drity-read"><a href="#read-uncommitted-未提交读-脏读-drity-read" class="header-anchor">#</a> read uncommitted(未提交读) --脏读(Drity Read)：</h6> <table><thead><tr><th>会话一</th> <th>会话二</th></tr></thead> <tbody><tr><td>mysql&gt;  prompt s1&gt;</td> <td>mysql&gt;  use bjpowernode</td></tr> <tr><td>s1&gt;use  bjpowernode</td> <td>mysql&gt;  prompt s2&gt;</td></tr> <tr><td>s1&gt;create  table tx (  id int(11),  num int (10)  );</td> <td></td></tr> <tr><td>s1&gt;set  global transaction isolation level read uncommitted;</td> <td></td></tr> <tr><td>s1&gt;start  transaction;</td> <td></td></tr> <tr><td></td> <td>s2&gt;start  transaction;</td></tr> <tr><td>s1&gt;insert  into tx values (1,10);</td> <td></td></tr> <tr><td></td> <td>s2&gt;select  * from tx;</td></tr> <tr><td>s1&gt;rollback;</td> <td></td></tr> <tr><td></td> <td>s2&gt;select  * from tx;</td></tr></tbody></table> <h6 id="read-committed-已提交读"><a href="#read-committed-已提交读" class="header-anchor">#</a> read committed(已提交读)</h6> <table><thead><tr><th>会话一</th> <th>会话二</th></tr></thead> <tbody><tr><td>s1&gt; set  global transaction isolation level read committed;</td> <td></td></tr> <tr><td>s1&gt;start  transaction;</td> <td></td></tr> <tr><td></td> <td>s2&gt;start  transaction;</td></tr> <tr><td>s1&gt;insert  into tx values (1,10);</td> <td></td></tr> <tr><td>s1&gt;select  * from tx;</td> <td></td></tr> <tr><td></td> <td>s2&gt;select  * from tx;</td></tr> <tr><td>s1&gt;commit;</td> <td></td></tr> <tr><td></td> <td>s2&gt;select  * from tx;</td></tr></tbody></table> <h6 id="repeatable-read-可重复读"><a href="#repeatable-read-可重复读" class="header-anchor">#</a> repeatable read(可重复读)</h6> <table><thead><tr><th>会话一</th> <th>会话二</th></tr></thead> <tbody><tr><td>s1&gt; set  global transaction isolation level repeatable read;</td> <td></td></tr> <tr><td>s1&gt;start  transaction;</td> <td>s2&gt;start  transaction;</td></tr> <tr><td>s1&gt;select  * from tx;</td> <td></td></tr> <tr><td>s1&gt;insert  into tx values (1,10);</td> <td></td></tr> <tr><td></td> <td>s2&gt;select  * from tx;</td></tr> <tr><td>s1&gt;commit;</td> <td></td></tr> <tr><td></td> <td>s2&gt;select  * from tx;</td></tr></tbody></table> <h2 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h2> <h5 id="为什么要建立索引"><a href="#为什么要建立索引" class="header-anchor">#</a> 为什么要建立索引？</h5> <p>查询的时候如果使用不是内存存储引擎，会涉及到磁盘IO</p> <p>mysql》》关系型数据库》》持久化》》磁盘》》磁盘IO</p> <p>建立索引，能够让我们的查询速度加快。</p> <h5 id="索引原理"><a href="#索引原理" class="header-anchor">#</a> 索引原理</h5> <p><strong>索引被用来快速找出在一个列上用一特定值的行</strong>。没有索引，MySQL不得不首先以第一条记录开始，然后读完整个表直到它找出相关的行。表越大，花费时间越多。对于一个有序字段，可以运用二分查找（Binary Search），这就是为什么性能能得到本质上的提高。==MYISAM和INNODB都是用B+Tree作为索引结构==</p> <p>B+树的结构：</p> <p><img src="/assets/img/image-20200610175302638.4ff0393f.png" alt="image-20200610175302638"></p> <p><strong>主键，unique 都会默认的添加索引</strong></p> <h5 id="索引的应用"><a href="#索引的应用" class="header-anchor">#</a> 索引的应用</h5> <h6 id="_17-2-1、创建索引"><a href="#_17-2-1、创建索引" class="header-anchor">#</a> 17.2.1、创建索引</h6> <p>如果未使用索引，我们查询 工资大于 1500的<strong>会执行全表扫描</strong></p> <p><img src="/assets/img/clip_image002-1589783911069.e42d8e12.jpg" alt="img"></p> <p><strong>什么时候需要给字段添加索引：</strong></p> <ul><li>表中该字段中的<strong>数据量庞大</strong></li> <li>经常被检索，<strong>经常出现在where子句中</strong>的字段</li> <li><strong>经常被DML操作的字段不建议添加索引</strong></li></ul> <p><strong>索引等同于一本书的目录</strong></p> <p><strong>主键会自动添加索引，所以尽量根据主键查询效率较高。</strong></p> <p>如经常根据sal进行查询，并且遇到了性能瓶颈，首先查看程序是否存算法问题，再考虑对sal建立索引。</p> <p>建立索引的方式如下：</p> <p>1、create unique index 索引名 on 表名(列名);</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">unique</span> <span class="token keyword">index</span> u_ename <span class="token keyword">on</span> emp<span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>2、alter table 表名 add unique index 索引名 (列名);</p> <h6 id="_17-2-2、查看索引"><a href="#_17-2-2、查看索引" class="header-anchor">#</a> 17.2.2、查看索引</h6> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token keyword">show</span> <span class="token keyword">index</span>  <span class="token keyword">from</span> 表名<span class="token punctuation">;</span>  
</code></pre></div><h6 id="_17-2-3、使用索引"><a href="#_17-2-3、使用索引" class="header-anchor">#</a> 17.2.3、使用索引</h6> <p>注意一定不可以用select * … 可以看到type!=all了，说明使用了索引</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">explain</span>  <span class="token keyword">select</span> sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">&gt;</span> <span class="token number">1500</span><span class="token punctuation">;</span>  
</code></pre></div><p>条件中的sal使用了索引</p> <p><img src="/assets/img/clip_image007.d4ca118f.jpg" alt="img"></p> <p>如下图：假如我们要查找sal大于1500的所有行，那么可以扫描索引，索引时排序的，结果得出7行，我们知道不会再有匹配的记录，可以退出了。</p> <p>如果查找一个值，它在索引表中某个中间点以前不会出现，那么也有找到其第一个匹配索引项的定位算法，而不用进行表的顺序扫描（<strong>如二分查找法</strong>）。</p> <p>这样，可以快速定位到第一个匹配的值，以节省大量搜索时间。数据库<strong>利用了各种各样的快速定位索引值的技术</strong>，通常这些技术都属于DBA的工作。</p> <h6 id="_17-2-4、删除索引"><a href="#_17-2-4、删除索引" class="header-anchor">#</a> 17.2.4、删除索引</h6> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> talbe_name  

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span>  index_name  

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>  
</code></pre></div><p>其中，前两条语句是等价的，删除掉table_name中的索引index_name。  第3条语句只在删除PRIMARY KEY索引时使用，因为一个表只可能有一个PRIMARY KEY索引，   <code>mysql&gt; ALTER TABLE EMP DROP INDEX test_index;</code></p> <p>删除后就不再使用索引了，查询会执行全表扫描。</p> <p><img src="/assets/img/clip_image009.5200f402.jpg" alt="img"></p> <h2 id="存储引擎"><a href="#存储引擎" class="header-anchor">#</a> 存储引擎</h2> <h4 id="存储引擎涉及的相关知识"><a href="#存储引擎涉及的相关知识" class="header-anchor">#</a> 1️⃣存储引擎涉及的相关知识</h4> <p>mysql可以将数据以不同的技术存储在文件（内存）中，这种技术称为存储引擎。</p> <p>每一种存储引擎使用不同的存储机制，索引机制，锁定水平、最终提供广泛且不同的功能。</p> <p>并发控制</p> <ul><li>并发控制：当多个连接对记录进行修改时，保证数据的一致性和完整性</li></ul> <p>怎么进行并发控制？用锁来实现。</p> <p>锁</p> <ul><li><p>共享锁（读锁）：在同一时间段内，多个用户可以读取同一个资源，读取过程中数据不会发生任何变化。</p></li> <li><p>排他锁（写锁）：在任何时候只能用一个用户写入资源，当进行写锁时会阻塞其它的写锁和读锁操作。</p></li></ul> <p>锁颗粒</p> <ul><li>表锁，是一种开销最小的锁策略</li> <li>行锁，是一种开销最大的锁策略</li></ul> <p>事务</p> <p>事务用来保证数据库的完整性</p> <img src="mysql.assets/image-20200610163000792.png" alt="image-20200610163000792" style="zoom:50%;"> <p>上图的实现步骤：</p> <p>1、保证当前用于余额大于等于500的情况下，从当前账户减掉500元</p> <p>2、在对方账户添加500元</p> <p>事务的特性</p> <ul><li>原子性</li> <li>一致性</li> <li>隔离性</li> <li>持久性</li></ul> <p>外键</p> <ul><li>是保证数据一致性的策略</li></ul> <p>索引</p> <ul><li>是对数据表中一列或多列的值进行排序的一种结构</li></ul> <h4 id="常见存储引擎的特点"><a href="#常见存储引擎的特点" class="header-anchor">#</a> 2️⃣常见存储引擎的特点</h4> <p><img src="/assets/img/image-20200610163529406.9aa963e6.png" alt="image-20200610163529406"></p> <h4 id="设置数据表的存储引擎"><a href="#设置数据表的存储引擎" class="header-anchor">#</a> 3️⃣设置数据表的存储引擎</h4> <p>1、通过修改Mysql配置文件my.ini实现</p> <ul><li>-default-storage-engine=engine</li></ul> <p>2、通过创建数据表命令实现</p> <div class="language- extra-class"><pre class="language-text"><code>create table tab_name(
	...
	...
)ENGINE=xxx;
</code></pre></div><p>3、alter命令修改存储引擎</p> <div class="language- extra-class"><pre class="language-text"><code>alter table tab_name ENGINE=xxx;
</code></pre></div><h4 id="常用的存储引擎剖析"><a href="#常用的存储引擎剖析" class="header-anchor">#</a> 4️⃣常用的存储引擎剖析</h4> <h6 id="myisam存储引擎-非聚集索引"><a href="#myisam存储引擎-非聚集索引" class="header-anchor">#</a> MyISAM存储引擎(非聚集索引)</h6> <p>MyISAM存储引擎是MySQL最常用的引擎。</p> <p><img src="/assets/img/image-20200610165246643.adf794df.png" alt="image-20200610165246643"></p> <p>它管理的表具有以下特征：</p> <ul><li>使用三个文件表示每个表：
<ul><li>格式文件 — 存储表结构的定义（xxx.frm）</li> <li>数据文件 — 存储表行的内容（xxx.MYD）</li> <li>索引文件 — 存储表上索引（xxx.MYI）</li></ul></li></ul> <p>优点：</p> <ul><li>索引文件和数据文件是分开的，查询很快（可简单理解成是因为这种做法使得索引文件较小）</li> <li>灵活的AUTO_INCREMENT字段处理</li> <li>该引擎的表可被转换为压缩、只读表来节省空间</li></ul> <p>缺点：</p> <ul><li>不支持事务处理</li></ul> <p><strong>Myisam的数据文件和索引文件底层存储结构</strong></p> <p>1、以主键为索引的B+树</p> <p><img src="/assets/img/image-20200610170752623.25f97d3b.png" alt="image-20200610170752623"></p> <p>2、以其它字段为索引的B+树</p> <p><img src="/assets/img/image-20200610170938898.ff3ac9da.png" alt="image-20200610170938898"></p> <p>如果上图中的username字段有重复，B+树怎么处理？看下图，有两个g：</p> <p><img src="/assets/img/image-20200610171311334.327e5987.png" alt="image-20200610171311334"></p> <p>换一种方式来看Myisam的索引结构：</p> <p><img src="/assets/img/image-20200610171527696.cfe4cb9c.png" alt="image-20200610171527696"></p> <h6 id="innodb存储引擎-聚集索引"><a href="#innodb存储引擎-聚集索引" class="header-anchor">#</a> InnoDB存储引擎（聚集索引）</h6> <p>InnoDB存储引擎是MySQL的缺省引擎。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIsAAAAsCAYAAABVAEupAAATL0lEQVR4nO2cfZgdVX3HP+fMy33Zzb5nAyQhJCEJIZCQAgaQaiuBByxIJQpIo5AiVOsb2sbGgn/0qfpY0L4IbdWHYAARFcUSfB7KW0SwyRJABULeyCZuAgGyIbub+zJzZ86c0z9m5u69u5sEdpNKN/722XvnnjlzzplzvvN7PyOMMYZRUMWvUCwWEUKQNiGEQAiJZcmkliCbzeDYTvxLirR49GTifxN/JEVJ/0nDBkPtXUkp4r7TsrH0fxSTPdoLt2zZwvbt27Esi0qlUncum83ieT5hGDBj+gxmzZpFc3MzEokUCZAO44KJQzWWAOxw93u0kRgtZ3n+t88jhOSUU+YhLTm4GIBSii1btrC3dy+e79E0oYlT58+noSEfcx85hhUzg9+13KW+iqkDh4g/EGIEzmb4A4DeIo2as6SktUFHikhH1TIpJZa0QEBbWxuvvfYaPT09nHLqvLF2Fy+sSQ8FSA1oMDW3IgIwVrVMAFqAAhwdgPYolw279npEoc+kiS20t7eOfWzjnMYMFgAEsXgRqd4iEFLy5ptvUiwW8coeEyY04Xszyeayh6XLtF+IgBCwQQMSECUwDYMAEvGpUIAjAiju5PFHn+frKx9m8qRWVtxw7R/A8hbo8IBlBJoxYzrTTzgBg6Grqwsp5chAGYUuEQtOk+gqBoQeIo4iYnjUdxOXKN7csYV1//MU5194MctvuAJXDZdlRkOqXv2BYjr802HAkhaWtIi0xrIsXNdFIFChQkcmXrVE6dRao7Wu00Uw8WJVm9T156pAEUCqh9TciWCw3NQqtwlVKgFRpGloaKBcBm10vRKcjGvYrWlTP86jjA4bZ0nWECFiBTfWYQxhGKKUQlQf06RSwhR836dvXx+ZTIa29jaUUvT19RGGIRM7JqIiRe+eXkIVAtCQb6CjowNpSQIvZO/e3US6TENuCvlsK9kGqPgl/HJIpJrZP9BPa/MEGic2YSwIPY89e95g795enIEBBgZ87HxIIYwtuv6+fpqbm7Ftm2KpiGVZKKVwbBvbtgHB/kIBIQRTpkzBzTiHawrf8XQYxZCp+YxJIAYtEzHoi6kVOUop7rr7LsrlMsuXL6dUKnH77bdTKBRYvnw53du6+Y/bbmPd011ksjmuuuojfOITn0CpiAcfXM13vnMr+wt7mTb1NK68/FNc/pH38diax7j/p4+Ry0zm1Vd28f6LLuCSDy9B5LPs2LKJu+66i0efeJlC1x56d+/gvWfO5r4f30tzczO/27GDSy/5AHPmnsTtK1cyefIU1qx5nGnHT+PSD1xCX/8AP/rxfbS2tPChD3+YZcuWkc1lqgxuPNPowWJimS4AbaDeAk+dY8NJDJlVFSqCSkCkIuzk6S2Vy0SRRoWKrrVraW9t45H/fphp009A2hblssfK21fy5JO/5Mtf/jITO5v5zXM7ePTRR2ntiDDCsGnjRhaedhyrVq2ivSNPfzmkpBXzzzyTFStWkJn8OMedcQXXLD2P59d2sWdPLy0trfzs/p/R2tbK6gdW09Ozk3nzTmH16tX88N57ueXmm/nUpz/L+qfX86Mf38eDP3+QS//8gxyTnYRMn4Hh0zBuaNRgiXQUWxnGYEyNzpFOkKl+HJS0MQRhSKFYpFgs4mYytLW3s7+/n1w2yzGdndz3gx9yi++z9JqrmXHiTPxKwK5du1jz+Bp++9v1uBmQtHH8lIXYlk22YQLz5p3CkiVLaG/Pg4QJjQ4ODlDA930wkMm45GWss5x00hyuuOIKWjvaAHAcm+OnTWPJhz7E5MmTmTN7NmctWsQF5y/GyVi0d3QQqIiyX8GMM1AciEYPliiKxYzRseJX4/84GEiMMXXOMdd1yLguAI7joJTi9TfeQGiN6zgsuWwJSz5wKY8/8QQ33ngj06afwDUfv5amlmY+evXHWLHib+nsbKXi23hlh1w+5KGH70UbgetaYMVdFQs++0pFOrMhfb6NF2osXY517SjmarlcLq4cBGitcdwMrpshm8vS2tKCFGBZsYmudawElz0PxNHh2xs1WLQ2GFn1jlUpNWuHxmeGVUzIdVw6Ozvp3dvLhg0b6BsYYPv27Zxw/PHs27ePV3t2UikUmTvnJD66dCkvbtqI47qcOHs2WzZv5pFH13D66X9Ed/fvGOgvcuGFi4EGPC/E8wfQCjzf4+5V3+PpZ9Zz05e+iGmaRqaxmdZchANorahUAkqlEqgI3/PYs6eX/YUixWIJNPieR1AJyLoZINa1giBERWrkR2McImcMCu6IcuegNJKr33EdTj/9dJ597lmuu+462jo6aG1vZ9q0aUycOJHe3a+x8u7v0/XrZ2mb1MlfXn8dpy1cyNSpU3n1lVe45RvfxPc93vWuRfzNF75AW3sbEya0MmvWbFpamjCJz6WpqZHO9nYs28U4DUw6ZjKTOprRkcZxHHK5LGEYEmlNNpdn0qRJzJo1m3xDnkgpOjo6mDVrFtlcjjCEfC5HZ2cnGdcdjotxCBQYQ2zo6XVPYzsO8+efOshNTOooi/UAo+Om1z+zHoB3v/tcbMeqb8iA7/kgIJvLEmmDBmwhYgsjiMC26vwoilichUEAQD4TP+1+JSCbiUVaGCocJ34WdKSRliQKIypBBR1pbMcmk8mO6HhTnocygsAImhritok0RAqNFf8bQILrxC5ASY2CO07BMjrOYkBFESpSlMvlqg5ijKn+az2o+O7fvx+lFL7v0eg0DmvOdV1UpAgDhbAkkdEIBLa0YCi4iBfGCEEmk4mtsaQsBQpQBQrEsSo0SEuSy+aq5dU1NVSBLTDYrouFxBGCWI83CGPAspDCir0AiTUYGY4KsxlGCZYgCFBhSPf2bnbs2EEURZiqjmsGI8LEOkwYhixYsIDGCQlQ0qcvVXmkQBorrmwMlpSpPU5Ve6w+uonjdvT3XCWDQWhRHWs6tJREzQ8jkrtLnbg1Sm167+OdRi2GUpd4FEXoSMcTL2TsnBXxcgoh4sQjIRIcxO7/KjuA6ixHUYTRBiMFSIE0YCXtDAXLkGEceqGqCVNQp3WL1HFYU56yDVPbocGk5VjxvaTAFYPgHe8cZtRiKAzDqvmcTroQMcuXUlbriWSxTRLg0VrHiu6QJRZCYIRJSmOQvRV6y+uTOs3SFa3HzGC5qCutu7iq0g9pYohTetzSqK0hx3WwIosgCJDIWJQIGXOTJBnKJHJdRzo+FqmkMQgR+1uEGRQDQogkMmCqEuiAWXBvR5EcWu+QvHTkhqtitmZURwNIUhodWGpmKOUklmXXseEo0lh2DYepOSlEDccR9St3UH3kcFoaqc5U60wUMKI7VtRXr23iaKJRi6FIRViOhY2N7/tY1mBIP5NxsaSk4lWwLAvLjpXXQ2tHYoSjmh9HAijJcaxzDemgTtsVsTpTW+coS1MYNVg2btxId3c3QkqM1tWckFSkRCoiiiJmzJzB3LlzyefzSCkHAVPjy0stqLeFhbECpy48EZvOohoNPEAfQ8F0lLGWUVlDRhuee+45XNdl7ty5DG1CCMHWrVsZGBhAKYWUktNOW0jjhIaYI9lWnTVkqvboSCOs0RAOl808Anlln1w+O7Jj+kA6z9AI8zgHz6gy5dI82wNR7HcxOI7DxIkT8X2f7u5t+J4/coZ9+ltUo0rVv4POf2rNHopq6oWBYqBvgIG+fgD8ssfru18fPpah1xrivHCl6d83wP7+QtXnYo4SeTS6tEpR/RiRbNvBcRw2b9rMmjVr2LhxI7t37072F4k4TbJOZxi0hgSy3sdRTXUY/YIYHXuUAUqlIivvuINly65h66aX6Fq3lltvu5UXX9xQc28115Jyvvh6r+yxevVqbrzppth7KxkuvsYpHZGE7VKpyDHHHMPSpUsRUtDV1YUQgqamJowR1Zw6kdjTQiQO++ScSf0zouaxrjo3ahZGgIkMwjrEStVcolREEKo4NuRaeF6J3t5ewlCNeGmK1XhHoyFUIYVSmVAbIpNMYBXQQzobZ3REwJLNxrI/SAJ9YRgObnOtyb+NSYAR8b4eCZYCKzRoG7QlkOiEA43MBI3WCGGhIo2SkqwFYNBBgBIZXIe6SHdHezsrli9HhwGBFbD1dz04jkOxVEYbGOoLjP2LSaHWRJGi6HmE2hAag1v1AQ9VYMYfHbGtICmlD53t2EhLVuW8SM8GIars47kOYT5LkwGCECEkoW1BFGF5Hl5FEWrI5BsQjo0UAmEMxf5+cpZNxc0R5jNQKZLV+4hUI/2RS7HUR1tzlubGfNxnAJTBWBG9skzPnjcIwhCDoeRF+H6ZXMamoSGH0qAjgw4rqMDDhBX6B4p4FR8FhIh441pqyqWKfho8GmeYOeI7YxzHjlMPoogwCGvOxItQ6OvnW/9yK1/56tcpBCHFUpFvf+NmvvR3X2T366+zdu1arr76Y8yZM4czzjyTr3z1a/T3F9i3r4/vrVrFu88+m9kzZ/Inf/o+7v7hf+G6Nl0PP8j1113L576wnEsuvYx//da3CE2shkaFMg9+dxWf/uvPUgoUjS0tFIoF7rxzFSdMn8bME6fznvecy/0/W402EISKn95/P/NOPpkZ06czb97J/ONX/hEjBCYNAYhE+x2jbvVOpyPOWepiMEmOStXSNoYwiIiUhTYSpaI4hiQistkMlUqFNb9Yw5Qpk3nhhRdoPe44ALyKYeXt3+XZ9ev4/j3fZ+6MmfzokTXc99hjLJzaiBUpNry4gdMvOJ0nf/kE+awGY9BCUKkEBGGE6+TIuHkc22Xzps2cOn8BGzdtoOKXuPXf/pkf3HsPC884i/Xr1vKDe+7he3fcwXkXXsRLLzzP3//D12LOVmUe6dbd8W0/H3HOEqoQz/OxLBvbsSHVC6REZnPVPTqRUtUodhRppBAce+yxzJw5kwceWM3yLy5ny0tb8Mshe/bsYWdPDz/5yU9ZfN5ijj32WD5+7bVs3bqV3t5ebNvhnHPO4bLLPsiEBshZEjsJbtqOQyaTQVoCKWNLZ/6CBSxbtoyWlhYmHzeZC86/gNbWVp566im279jOggULOG/xYiCira2dRYsWIWVNnk3VWqpVyI/0zP7f0xECy2DcXkoL13WqUefaSdRhSF9/H2FYRkUBxVKBSiUgDCIqgSIMQ676i6W8tGkTF150EVdddSU3fO6zvLqrh4zr8FfXX8+uV3bRVypTKBRYs+YRLr74zxgprlBRCt/3kQJU6GOMQhOC0HjlMn19A0gJhaJPX38BpTSWJZFC4FcqFAoFjOfh+T5IK7Hi0tsd4jQch0CBsYDFGLTW1VTK6oZ4IRIWnTruDFEUoZRCqyRNIXn4pJOhpbUFN2uzb18vb/buYWfPTrbv6EFHmv6+Pn7zm1/z0kubWLx4MZ///A04jk0UBkw7firbtr1M17oukIJ169Zx5533UCgU6qwfAxSDkG//57e58sqP0N39MrmsjRQ6WXPDm/ve5OWXtxH4sO3lblY/8HM8z+Pcc89lwYL57Ozp4cmnfkXZ99nWvZ2HHnoIKUSN5SQTwIxvtIw6NjSYQpk4pqjJOKtx0UdRRBiGGG3ibaBWnPqoVITtWNgT8rz/4vfzq1u+zgXnn8e7ps3mpJZOjmttobm5ie6NG7j15n9i+44eJk6axCc/+Sn++L3nMu/kufTueYMrLr8cgpBFF17MdStuoq2tjZ22HQczLStJShI4rkM+n8d1bISIyGRthBRYtkVjYyNP/OIJvvnNW/G8EhdddD63/fttdExsJecu5Oyzz+bTn/kMWoWccOJs5px8KhnXRlSlzdGxg37UmXLPrn8WIQSnzp+PZcnBvUNQF1BUSrFu7Try+TxnnXNWfNqAChS2JRGWBKUIpKBsCSYoiaUAC3xL4xiNpTUxAkXib0mPqSrQRkIJaESB7gPRTCDizHsLiLSOUymqb+hQ7LMrZHHJ4wxzkwwNEQ3eF/hhRLlSQVgWTflM8sQNVXLHH3cZvTUkYiCUSkXsRHmtiqKaibKkVd1cXr20GgdKjm0LN5H7Vrz3HERNWqWUSZ7JyLkm6Vecim2BaAYc7BofIELGz78EnPh3o3GxhDXYQE2AcMTQV9JWzrXIufm6UwaZxLLicY4/qIwBLL5f4Zln1vPMs88ghSQa4RUV1bqexxlnnDGYhj+Ml4n6wcjBr8GXCqY1D5wmYKUFwq1tJj6uCRFgAUbiVMMKIwx6RNYyvMogvgbBPB6BAmMQQypUBEFANptDWoJIHRgs5VIJIQSNExpRKmXXBikk0pbD0wBqHaGJWVoHFlGzyL/HlRkpUwF+78M6YjT67H4Y+nKlQ/REXUaaUmoQLCORGaxfqwO9E8Ay1E87UlrLeATLGEznsXY9fqZz/NzJwWnUpvOYwPIW9IF3MtUYfcPK/p/e0luitweWFCRiUDwckmpFRqpQShA6OVnbbl1XQ1I1D7QMBwPuUHkwVMkQGpNk86cb4WrfZlaHihH06vEMjJFo1FtBNm/azMaNG6n4lWFv2BZS4LoulrSYOnUqc0+eS3Nzc91bFNJXoR60k+rhAdBgas6/zTfqGACdpm6mW1YSVOga3Sp5M1W+MV/f5wjDHO/0v2fUpZivEKOiAAAAAElFTkSuQmCC" alt="image-20200610165909319"></p> <p>它管理的表具有下列主要特征：</p> <ul><li>表的数据+索引文件 —— xxx.ibd</li> <li>格式文件— 存储表结构的定义（xxx.frm）</li></ul> <p>优点</p> <ul><li>InnoDB表空间tablespace被用于存储表的内容</li> <li>提供一组用来记录事务性活动的日志文件</li> <li>用COMMIT(提交)、SAVEPOINT及ROLLBACK(回滚)支持事务处理</li> <li>提供全ACID兼容</li> <li>在MySQL服务器崩溃后提供自动恢复</li> <li>多版本（MVCC）和行级锁定</li> <li>支持外键及引用的完整性，包括级联删除和更新</li></ul> <p>缺点</p> <ul><li>查询速度没有Myisam快</li></ul> <p><strong>InnoDB的（数据+索引）文件.ibd的底层存储结构</strong></p> <p>以主键为索引的B+树：</p> <p>看到下图，索引跟数据是存放在一起的。</p> <p><img src="/assets/img/image-20200610171846224.a41d49e9.png" alt="image-20200610171846224"></p> <p>2、以其他字段为索引的B+树</p> <p>看到下图，叶子节点存储的数据是id主键</p> <p><img src="/assets/img/image-20200610171922681.159da2d7.png" alt="image-20200610171922681"></p> <p>换一种方式来看：</p> <p><img src="/assets/img/image-20200610172341670.df125df5.png" alt="image-20200610172341670"></p> <h6 id="memory存储引擎"><a href="#memory存储引擎" class="header-anchor">#</a> MEMORY存储引擎</h6> <p>使用MEMORY存储引擎的表，其数据存储在内存中，且行的长度固定，这两个特点使得MEMORY存储引擎非常快。</p> <p>MEMORY存储引擎管理的表具有下列特征：</p> <ul><li>在数据库目录内，每个表均以.frm格式的文件表示。</li> <li>表数据及索引被存储在内存中。</li> <li>表级锁机制。</li> <li>不能包含TEXT或BLOB字段。</li></ul> <p>MEMORY存储引擎以前被称为HEAP引擎。</p> <h4 id="如何选择合适的存储引擎"><a href="#如何选择合适的存储引擎" class="header-anchor">#</a> 5️⃣如何选择合适的存储引擎</h4> <ul><li><p><strong>MyISAM</strong>表最适合于大量的数据<strong>读而少量数据更新</strong>的混合操作。MyISAM表的另一种适用情形是使用压缩的只读表。</p></li> <li><p>如果查询中包含<strong>较多的数据更新操作</strong>，应使用<strong>InnoDB</strong>。其行级锁机制和多版本的支持为数据读取和更新的混合操作提供了良好的并发机制。</p></li> <li><p>可使用MEMORY存储引擎来<strong>存储非永久需要的数据</strong>，或者是能够从基于磁盘的表中重新生成的数据。</p></li></ul> <p>MYISAM:不支持外键、表锁、插入数据时、锁定整个表、查表总行数时、不需全表扫描</p> <p>INNODB:支持外键、行锁、查表总行数时、要全表扫描</p> <h2 id="主从复制"><a href="#主从复制" class="header-anchor">#</a> 主从复制</h2> <h4 id="为什么要进行主从复制"><a href="#为什么要进行主从复制" class="header-anchor">#</a> 1️⃣为什么要进行主从复制</h4> <p>1、在业务复杂的系统中，有这么一个情景，有一句sql语句需要锁表，导致暂时不能使用读的服务，那么就很影响运行中的业务，使用主从复制，让主库负责写，从库负责读，这样，即使主库出现了锁表的情景，通过读从库也可以保证业务的正常运作。</p> <p>2、做数据的热备</p> <p>3、架构的扩展。随着业务量越大，IO访问频率过高，单机无法满足，此时做多库的存储，降低磁盘IO访问的频率，提高单个机器的IO性能。</p> <h4 id="主从复制的流程图"><a href="#主从复制的流程图" class="header-anchor">#</a> 2️⃣主从复制的流程图</h4> <img src="mysql.assets/image-20200610182739754.png" alt="image-20200610182739754" style="zoom:67%;"> <ol><li>对主库Master的所有增删改操作（update、delete、insert)，都会被写入到一个binlog日志里面。</li> <li>slave从库向主库发送连接，连接后，主库会创建一个binglog线程，把binlog日志发送给从库</li> <li>从库接收到binlog日志后，会把它写入到一个中间日志里relay log</li> <li>然后从库会读取binlog日志，执行一些增删改等操作。</li></ol> <h4 id="基于日志点的复制配置步骤"><a href="#基于日志点的复制配置步骤" class="header-anchor">#</a> 3️⃣基于日志点的复制配置步骤</h4> <p>1、在主服务器上创建复制用户、赋值权限</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">'users_name'</span><span class="token variable">@'x.x.x.x'</span> identified <span class="token keyword">by</span> <span class="token string">'password'</span><span class="token punctuation">;</span>
<span class="token keyword">grant</span> <span class="token keyword">replication</span> slave <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'user_name'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
</code></pre></div><p>2、配置主服务器Mysql配置文件My.ini</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token number">1.</span>设置bin_log
bin_log<span class="token operator">=</span>mysql日志文件路径
<span class="token number">2.</span>设置server_id
server_id<span class="token operator">=</span>可以选择主机IP地址后端，表示唯一编号，要确保主服务器和从服务器的server_id不一样
</code></pre></div><p>重启主服务器</p> <div class="language- extra-class"><pre class="language-text"><code>net stop mysql
net start mysql
</code></pre></div><p>3、配置从服务器mysql配置文件My.ini</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token number">1.</span>设置bin_log
log_bin<span class="token operator">=</span>mysql日志文件路径
<span class="token number">2.</span>设置server_id
server_id<span class="token operator">=</span>可以选择主机ip地址后端，表示唯一编号
<span class="token number">3.</span>设置relay_log中继日志
relay_log<span class="token operator">=</span>mysql<span class="token operator">-</span>relay<span class="token operator">-</span>bin
<span class="token number">4.</span><span class="token punctuation">[</span>可选<span class="token punctuation">]</span>log_slave_updates允许日志记录到从服务器本机的二进制文件中
log_slave_updates<span class="token operator">=</span><span class="token keyword">on</span>
<span class="token number">5.</span><span class="token punctuation">[</span>可选<span class="token punctuation">]</span>设置read_only只读属性，可以控制没有权限的用户进行写操作
read_only<span class="token operator">=</span><span class="token keyword">on</span>
</code></pre></div><p>4、导出主服务器的数据，再使用导出的数据对从服务器进行初始化</p> <div class="language-sql extra-class"><pre class="language-sql"><code>mysqldump <span class="token comment">--master-data=2 --single-transaction --triggers --routines --all-databases -u root -p &gt;&gt;导出的文件路径</span>

参数介绍
	<span class="token comment">--master-data 可以把binlog的位置和文件名添加到输出中，设置等于2会加上注释前缀</span>
	<span class="token comment">--single-transaction 设置事务的隔离级别、重复读取。不会对数据造成影响</span>
	<span class="token comment">--triggers 备份所有的触发器</span>
	<span class="token comment">--routines 备份存储过程和函数</span>
	<span class="token comment">--all-databases 所有库</span>
	<span class="token comment">--flush-logs 刷新日志</span>
</code></pre></div><p>5、启动复制链路</p> <div class="language-sql extra-class"><pre class="language-sql"><code>CHANGE MASTER <span class="token keyword">TO</span>
MASTER_HOST<span class="token operator">=</span><span class="token string">'master_host_ip'</span><span class="token punctuation">,</span>
MASTER_USER<span class="token operator">=</span><span class="token string">'master_user'</span><span class="token punctuation">,</span>
MASTER_PASSWORD<span class="token operator">=</span><span class="token string">'password'</span><span class="token punctuation">,</span>
MASTER_LOG_FILE<span class="token operator">=</span><span class="token string">'mysql_log_filename'</span><span class="token punctuation">,</span>
MASTER_LOG_POS<span class="token operator">=</span>值<span class="token punctuation">;</span>  <span class="token comment">#表示从库到主库的什么位置开始备份的二进制文件的名称及偏移量</span>
</code></pre></div><p>6、启动从服务</p> <div class="language- extra-class"><pre class="language-text"><code>start slave  |stop slave
show slave status;  #查看从服务状态
</code></pre></div><p>基于日志点的复制的</p> <p>优点：</p> <ul><li>是mysql最早支持的复制技术、BUG相对较少</li> <li>对sql查询没有任何限制</li> <li>故障处理比较容易</li></ul> <p>缺点:</p> <ul><li>故障转移时，要重新获取新的日志点信息比较困难</li></ul> <h3 id="基于gtid的复制"><a href="#基于gtid的复制" class="header-anchor">#</a> 4️⃣基于GTID的复制</h3> <p>基于GTID的复制是mysql v5.6版本以后支持的</p> <p>基于GTID的复制与基于日志点的复制存在很大差异</p> <img src="mysql.assets/image-20200610232146693.png" alt="image-20200610232146693" style="zoom:50%;"> <p>基于GTID的复制</p> <img src="mysql.assets/image-20200610232256138.png" alt="image-20200610232256138" style="zoom:50%;"> <p>什么是GTID？</p> <ul><li>GTID，即全局事务ID，其保证为每一个在主上提交的事务在复制集群中可以生成唯一的id，GTID=source_id:transaction_id</li></ul> <p>基于GTID的步骤</p> <p>1、在主服务器上创建复制用户、赋值权限</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">'user_name'</span><span class="token variable">@'x.x.x.x'</span> identified <span class="token keyword">with</span> msyql_native_password <span class="token keyword">by</span> <span class="token string">'password'</span><span class="token punctuation">;</span>
<span class="token keyword">grant</span> <span class="token keyword">replication</span> slave <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'user_name'</span><span class="token variable">@'%'</span>
</code></pre></div><p><img src="/assets/img/image-20200610233144790.90e84de3.png" alt="image-20200610233144790"></p> <p><img src="/assets/img/image-20200610233205068.7c7f25a4.png" alt="image-20200610233205068"></p> <p><img src="/assets/img/image-20200610233221541.36f52434.png" alt="image-20200610233221541"></p> <p><img src="/assets/img/image-20200610233230346.8ccc7b87.png" alt="image-20200610233230346"></p> <h2 id="mysql大小写问题"><a href="#mysql大小写问题" class="header-anchor">#</a> Mysql大小写问题</h2> <p><code>MySQL</code>在<code>windows</code>下是不区分大小写的，将<code>script</code>文件导入<code>MySQL</code>后表名也会自动转化为小写，结果再想要将数据库导出放到<code>linux</code>服务器中使用时就出错了。因为在<code>linux</code>下表名区分大小写而找不到表，查了很多都是说在<code>linux</code>下更改<code>MySQL</code>的设置使其也不区分大小写，但是有没有办法反过来让<code>windows</code> 下大小写敏感呢。其实方法是一样的，相应的更改<code>windows</code>中<code>MySQL</code>的设置就行了。</p> <p>​    具体操作：</p> <p>​    在<code>MySQL</code>的配置文件<code>my.ini</code>中增加一行：</p> <p>​    <code>lower_case_table_names = 0</code></p> <p>​    其中 <code>0</code>：区分大小写，<code>1</code>：不区分大小写</p> <p>​    <code>MySQL</code>在<code>Linux</code>下数据库名、表名、列名、别名大小写规则是这样的：</p> <p>1、数据库名与表名是严格区分大小写的；</p> <p>2、表的别名是严格区分大小写的；</p> <p>3、列名与列的别名在所有的情况下均是忽略大小写的；</p> <p>4、变量名也是严格区分大小写的；  <code>MySQL</code>在<code>Windows</code>下都不区分大小写</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/MaLunan/press/edit/dev-mln/docs/mysql/mysql.md" target="_blank" rel="noopener noreferrer">在GitHub 上编辑此页！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">1/19/2021, 1:41:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fdd7a502.js" defer></script><script src="/assets/js/16.375b747e.js" defer></script><script src="/assets/js/19.038919a3.js" defer></script>
  </body>
</html>
