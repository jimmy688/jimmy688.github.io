<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1ã€Atlasçš„åŸºæœ¬æ¦‚è¿° | ä¸ªäººåšå®¢ | JiiiiG</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="è‡ªæ˜¯å¹´å°‘ï¼ŒéŸ¶åå€¾è´Ÿ">
    
    <link rel="preload" href="/assets/css/0.styles.420b7c1f.css" as="style"><link rel="preload" href="/assets/js/app.fdd7a502.js" as="script"><link rel="preload" href="/assets/js/16.375b747e.js" as="script"><link rel="preload" href="/assets/js/31.190b11f2.js" as="script"><link rel="prefetch" href="/assets/js/10.bbd38b9e.js"><link rel="prefetch" href="/assets/js/11.f49fc7d3.js"><link rel="prefetch" href="/assets/js/12.c5d97aa1.js"><link rel="prefetch" href="/assets/js/13.426d0224.js"><link rel="prefetch" href="/assets/js/14.1f257a58.js"><link rel="prefetch" href="/assets/js/15.be29bb6a.js"><link rel="prefetch" href="/assets/js/17.d02cdd8b.js"><link rel="prefetch" href="/assets/js/18.5d2371a4.js"><link rel="prefetch" href="/assets/js/19.038919a3.js"><link rel="prefetch" href="/assets/js/2.d6257727.js"><link rel="prefetch" href="/assets/js/20.b3582e09.js"><link rel="prefetch" href="/assets/js/21.0c1e826b.js"><link rel="prefetch" href="/assets/js/22.91bff1a5.js"><link rel="prefetch" href="/assets/js/23.faacea60.js"><link rel="prefetch" href="/assets/js/24.69816497.js"><link rel="prefetch" href="/assets/js/25.c9fcaa62.js"><link rel="prefetch" href="/assets/js/26.d28c3abe.js"><link rel="prefetch" href="/assets/js/27.1518da7d.js"><link rel="prefetch" href="/assets/js/28.748a5581.js"><link rel="prefetch" href="/assets/js/29.775019f1.js"><link rel="prefetch" href="/assets/js/3.141002a4.js"><link rel="prefetch" href="/assets/js/30.74e7c570.js"><link rel="prefetch" href="/assets/js/32.d8f4f116.js"><link rel="prefetch" href="/assets/js/33.c489bc81.js"><link rel="prefetch" href="/assets/js/34.db609d51.js"><link rel="prefetch" href="/assets/js/35.ad3402e6.js"><link rel="prefetch" href="/assets/js/36.45f11923.js"><link rel="prefetch" href="/assets/js/37.b47e0576.js"><link rel="prefetch" href="/assets/js/38.58b934a2.js"><link rel="prefetch" href="/assets/js/39.e4d6bcdf.js"><link rel="prefetch" href="/assets/js/4.e9b44388.js"><link rel="prefetch" href="/assets/js/40.555106bc.js"><link rel="prefetch" href="/assets/js/41.4387ceb1.js"><link rel="prefetch" href="/assets/js/42.9bd4aea0.js"><link rel="prefetch" href="/assets/js/43.587e7966.js"><link rel="prefetch" href="/assets/js/44.80285763.js"><link rel="prefetch" href="/assets/js/45.f978da77.js"><link rel="prefetch" href="/assets/js/46.d93e3f2e.js"><link rel="prefetch" href="/assets/js/47.c15bd2aa.js"><link rel="prefetch" href="/assets/js/48.cb55fa72.js"><link rel="prefetch" href="/assets/js/49.d0f4e454.js"><link rel="prefetch" href="/assets/js/5.b90b80cb.js"><link rel="prefetch" href="/assets/js/50.112e8260.js"><link rel="prefetch" href="/assets/js/51.a66bcd03.js"><link rel="prefetch" href="/assets/js/52.0c7cbfb1.js"><link rel="prefetch" href="/assets/js/53.67ef240b.js"><link rel="prefetch" href="/assets/js/54.2c2d082d.js"><link rel="prefetch" href="/assets/js/55.88f19a20.js"><link rel="prefetch" href="/assets/js/56.c726e920.js"><link rel="prefetch" href="/assets/js/57.eaee47c5.js"><link rel="prefetch" href="/assets/js/58.ac15a3ac.js"><link rel="prefetch" href="/assets/js/59.64bdc849.js"><link rel="prefetch" href="/assets/js/6.7eea74ff.js"><link rel="prefetch" href="/assets/js/7.a1370e98.js"><link rel="prefetch" href="/assets/js/8.2e898240.js"><link rel="prefetch" href="/assets/js/9.a2439994.js">
    <link rel="stylesheet" href="/assets/css/0.styles.420b7c1f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ä¸ªäººåšå®¢ | JiiiiG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  ä¸»é¡µ
</a></div><div class="nav-item"><a href="/linux/linuxå¸¸ç”¨å‘½ä»¤/01linuxå¸¸ç”¨å‘½ä»¤01.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><span class="title">å¤§æ•°æ®</span> <span class="arrow down"></span></button> <button type="button" aria-label="å¤§æ•°æ®" class="mobile-dropdown-title"><span class="title">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hadoop/01hadoopç¯å¢ƒæ­å»º/01æ­å»ºhadoopé›†ç¾¤.html" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/hbase/hbase.html" class="nav-link">
  hbase
</a></li><li class="dropdown-item"><!----> <a href="/flink/flink.html" class="nav-link">
  flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹è¯­è¨€" class="dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¼–ç¨‹è¯­è¨€" class="mobile-dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/atlas%E5%85%83%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/.html" class="nav-link">
  java
</a></li></ul></div></div> <a href="https://github.com/MaLunan/press" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  ä¸»é¡µ
</a></div><div class="nav-item"><a href="/linux/linuxå¸¸ç”¨å‘½ä»¤/01linuxå¸¸ç”¨å‘½ä»¤01.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¤§æ•°æ®" class="dropdown-title"><span class="title">å¤§æ•°æ®</span> <span class="arrow down"></span></button> <button type="button" aria-label="å¤§æ•°æ®" class="mobile-dropdown-title"><span class="title">å¤§æ•°æ®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hadoop/01hadoopç¯å¢ƒæ­å»º/01æ­å»ºhadoopé›†ç¾¤.html" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/hbase/hbase.html" class="nav-link">
  hbase
</a></li><li class="dropdown-item"><!----> <a href="/flink/flink.html" class="nav-link">
  flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹è¯­è¨€" class="dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç¼–ç¨‹è¯­è¨€" class="mobile-dropdown-title"><span class="title">ç¼–ç¨‹è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/atlas%E5%85%83%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/.html" class="nav-link">
  java
</a></li></ul></div></div> <a href="https://github.com/MaLunan/press" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1ã€atlasçš„åŸºæœ¬æ¦‚è¿°"><a href="#_1ã€atlasçš„åŸºæœ¬æ¦‚è¿°" class="header-anchor">#</a> 1ã€Atlasçš„åŸºæœ¬æ¦‚è¿°</h2> <p>è°ˆåˆ°æ•°æ®æ²»ç†ï¼Œè‡ªç„¶ç¦»ä¸å¼€å…ƒæ•°æ®ã€‚å…ƒæ•°æ®(Metadata)ï¼Œç”¨ä¸€å¥è¯å®šä¹‰å°±æ˜¯ï¼š<strong>æè¿°æ•°æ®çš„æ•°æ®</strong>ã€‚å…ƒæ•°æ®æ‰“é€šäº†æ•°æ®æºã€æ•°æ®ä»“åº“ã€æ•°æ®åº”ç”¨ï¼Œè®°å½•äº†æ•°æ®ä»äº§ç”Ÿåˆ°æ¶ˆè´¹çš„å…¨è¿‡ç¨‹ã€‚å› æ­¤ï¼Œæ•°æ®æ²»ç†çš„æ ¸å¿ƒå°±æ˜¯<code>å…ƒæ•°æ®ç®¡ç†</code>ã€‚</p> <p>æ•°æ®çš„çœŸæ­£ä»·å€¼åœ¨äºæ•°æ®é©±åŠ¨å†³ç­–ï¼Œé€šè¿‡æ•°æ®æŒ‡å¯¼è¿è¥ã€‚é€šè¿‡æ•°æ®é©±åŠ¨çš„æ–¹æ³•åˆ¤æ–­è¶‹åŠ¿ï¼Œå¸®ä½æˆ‘ä»¬å‘ç°é—®é¢˜ï¼Œç»§è€Œæ¨åŠ¨åˆ›æ–°æˆ–äº§ç”Ÿæ–°çš„è§£å†³æ–¹æ¡ˆã€‚éšç€ä¼ä¸šæ•°æ®çˆ†å‘å¼å¢é•¿ï¼Œæ•°æ®ä½“é‡è¶Šæ¥è¶Šéš¾ä»¥ä¼°é‡ï¼Œæˆ‘ä»¬å¾ˆéš¾è¯´æ¸…æ¥š<strong>æˆ‘ä»¬åˆ°åº•æ‹¥æœ‰å“ªäº›æ•°æ®ï¼Œè¿™äº›æ•°æ®ä»å“ªé‡Œæ¥ï¼Œåˆ°å“ªé‡Œå»ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Œåº”è¯¥å¦‚ä½•ä½¿ç”¨å®ƒä»¬</strong>ã€‚å› æ­¤**å…ƒæ•°æ®ç®¡ç†(æ•°æ®æ²»ç†)**æˆä¸ºä¼ä¸šçº§æ•°æ®æ¹–ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p> <p>å¯æƒœå¾ˆé•¿ä¸€æ®µæ—¶é—´å†…ï¼Œå¸‚é¢éƒ½æ²¡æœ‰æˆç†Ÿçš„æ•°æ®æ²»ç†è§£å†³æ–¹æ¡ˆã€‚ç›´åˆ°2015å¹´ï¼ŒHortonworksç»ˆäºåä¸ä½äº†ï¼Œçº¦äº†ä¸€ä¼—å°ä¼™ä¼´å…¬å¸å€¡è®®ï¼šå’±ä»¬å¼€å§‹æ•´ä¸ªæ•°æ®æ²»ç†æ–¹æ¡ˆå§ã€‚ç„¶åï¼ŒåŒ…å«<strong>æ•°æ®åˆ†ç±»ã€é›†ä¸­ç­–ç•¥å¼•æ“ã€æ•°æ®è¡€ç¼˜ã€å®‰å…¨å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸ</strong>èƒ½çš„Atlasåº”è¿è€Œç”Ÿã€‚(PSï¼šå¦ä¸€ä¸ªåº”ç”¨çš„è¾ƒå¤šçš„å…ƒæ•°æ®å¼€æºé¡¹ç›®æ˜¯Linkedin åœ¨2016å¹´æ–°å¼€æºçš„é¡¹ç›®ï¼š<code>WhereHows</code>)Atlasç›®å‰æœ€æ–°çš„ç‰ˆæœ¬ä¸º2018å¹´9æœˆ18æ—¥å‘å¸ƒçš„<code>1.0.0</code>ç‰ˆæœ¬ã€‚</p> <p>Atlas æ˜¯ä¸€ä¸ªå¯ä¼¸ç¼©å’Œå¯æ‰©å±•çš„æ ¸å¿ƒåŸºç¡€æ²»ç†æœåŠ¡é›†åˆ ï¼Œä½¿ä¼ä¸šèƒ½å¤Ÿæœ‰æ•ˆåœ°å’Œé«˜æ•ˆåœ°æ»¡è¶³ Hadoop ä¸­çš„åˆè§„æ€§è¦æ±‚ï¼Œå¹¶å…è®¸ä¸æ•´ä¸ªä¼ä¸šæ•°æ®ç”Ÿæ€ç³»ç»Ÿçš„é›†æˆã€‚</p> <p>Apache Atlasä¸ºç»„ç»‡æä¾›å¼€æ”¾å¼å…ƒæ•°æ®ç®¡ç†å’Œæ²»ç†åŠŸèƒ½ï¼Œç”¨ä»¥æ„å»ºå…¶æ•°æ®èµ„äº§ç›®å½•ï¼Œå¯¹è¿™äº›èµ„äº§è¿›è¡Œåˆ†ç±»å’Œç®¡ç†ï¼Œå¹¶ä¸ºæ•°æ®ç§‘å­¦å®¶ï¼Œæ•°æ®åˆ†æå¸ˆå’Œæ•°æ®æ²»ç†å›¢é˜Ÿæä¾›å›´ç»•è¿™äº›æ•°æ®èµ„äº§çš„åä½œåŠŸèƒ½ã€‚</p> <h2 id="_2ã€atlasçš„æ¶æ„æ¦‚è¿°"><a href="#_2ã€atlasçš„æ¶æ„æ¦‚è¿°" class="header-anchor">#</a> 2ã€Atlasçš„æ¶æ„æ¦‚è¿°</h2> <p><img src="/assets/img/architecture.a15da8e4.png" alt="architecture"></p> <h3 id="core-æ ¸å¿ƒæ¨¡å—"><a href="#core-æ ¸å¿ƒæ¨¡å—" class="header-anchor">#</a> Coreï¼šæ ¸å¿ƒæ¨¡å—</h3> <p>æ ¸å¿ƒæ¨¡å—å½“ä¸­åˆåŒ…å«ä»¥ä¸‹å‡ å¤§æ¨¡å—ï¼š</p> <h4 id="type-system-ç±»å‹ç³»ç»Ÿ"><a href="#type-system-ç±»å‹ç³»ç»Ÿ" class="header-anchor">#</a> Type Systemï¼šç±»å‹ç³»ç»Ÿ</h4> <p>Atlaså…è®¸ç”¨æˆ·<strong>ä¸ºè¦ç®¡ç†çš„å…ƒæ•°æ®å¯¹è±¡å®šä¹‰æ¨¡å‹</strong>ã€‚ è¯¥æ¨¡å‹ç”±ç§°ä¸ºâ€œç±»å‹â€çš„å®šä¹‰ç»„æˆã€‚ ç§°ä¸ºâ€œå®ä½“â€çš„â€œç±»å‹â€å®ä¾‹ä»£è¡¨æ‰€ç®¡ç†çš„å®é™…å…ƒæ•°æ®å¯¹è±¡ã€‚ <strong>ç±»å‹ç³»ç»Ÿæ˜¯å…è®¸ç”¨æˆ·å®šä¹‰å’Œç®¡ç†ç±»å‹å’Œå®ä½“çš„ç»„ä»¶</strong>ã€‚ å¼€ç®±å³ç”¨çš„Atlasç®¡ç†çš„æ‰€æœ‰å…ƒæ•°æ®å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼ŒåƒHiveè¡¨ä¸€æ ·ï¼‰å‡ä½¿ç”¨ç±»å‹è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶è¡¨ç¤ºä¸ºå®ä½“ã€‚ ä¸ºäº†åœ¨Atlasä¸­å­˜å‚¨æ–°ç±»å‹çš„å…ƒæ•°æ®ï¼Œéœ€è¦äº†è§£ç±»å‹ç³»ç»Ÿç»„ä»¶çš„æ¦‚å¿µã€‚</p> <h4 id="graph-engine-å›¾å½¢å¼•æ“"><a href="#graph-engine-å›¾å½¢å¼•æ“" class="header-anchor">#</a> Graph Engineï¼šå›¾å½¢å¼•æ“</h4> <p>åœ¨å†…éƒ¨ï¼Œ<strong>Atlasä¿ç•™ä½¿ç”¨Graphæ¨¡å‹ç®¡ç†çš„å…ƒæ•°æ®å¯¹è±¡</strong>ã€‚è¿™ç§æ–¹æ³•æä¾›äº†æå¤§çš„çµæ´»æ€§ï¼Œå¹¶å¯ä»¥æœ‰æ•ˆå¤„ç†å…ƒæ•°æ®å¯¹è±¡ä¹‹é—´çš„ä¸°å¯Œå…³ç³»ã€‚å›¾å¼•æ“ç»„ä»¶è´Ÿè´£åœ¨Atlasç±»å‹ç³»ç»Ÿçš„ç±»å‹å’Œå®ä½“ä»¥åŠåŸºç¡€å›¾æŒä¹…æ€§æ¨¡å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚é™¤äº†ç®¡ç†å›¾å½¢å¯¹è±¡ä¹‹å¤–ï¼Œå›¾å½¢å¼•æ“è¿˜ä¸ºå…ƒæ•°æ®å¯¹è±¡åˆ›å»ºé€‚å½“çš„ç´¢å¼•ï¼Œä»¥ä¾¿å¯ä»¥é«˜æ•ˆåœ°æœç´¢å®ƒä»¬ã€‚Atlasä½¿ç”¨JanusGraphå­˜å‚¨å…ƒæ•°æ®å¯¹è±¡ã€‚</p> <h4 id="ingest-export-æå–-å¯¼å‡º"><a href="#ingest-export-æå–-å¯¼å‡º" class="header-anchor">#</a> Ingest / Exportï¼šæå–/å¯¼å‡º</h4> <p><strong>â€œæå–â€ç»„ä»¶å…è®¸å°†å…ƒæ•°æ®æ·»åŠ åˆ°Atlas</strong>ã€‚åŒæ ·ï¼Œ<strong>å¯¼å‡ºç»„ä»¶å°†Atlasæ£€æµ‹åˆ°çš„å…ƒæ•°æ®æ›´æ”¹å…¬å¼€ä¸ºäº‹ä»¶</strong>ã€‚æ¶ˆè´¹è€…å¯ä»¥ä½¿ç”¨è¿™äº›æ›´æ”¹äº‹ä»¶æ¥å®æ—¶å“åº”å…ƒæ•°æ®æ›´æ”¹</p> <h3 id="integration-å…ƒæ•°æ®ç®¡ç†é›†æˆæ¨¡å—"><a href="#integration-å…ƒæ•°æ®ç®¡ç†é›†æˆæ¨¡å—" class="header-anchor">#</a> Integrationï¼šå…ƒæ•°æ®ç®¡ç†é›†æˆæ¨¡å—</h3> <p><strong>ç”¨æˆ·å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•åœ¨Atlasä¸­ç®¡ç†å…ƒæ•°æ®ï¼š</strong></p> <h4 id="api"><a href="#api" class="header-anchor">#</a> APIï¼š</h4> <p>Atlasçš„æ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡REST APIå‘æœ€ç»ˆç”¨æˆ·å…¬å¼€ï¼Œè¯¥APIå…è®¸åˆ›å»ºï¼Œæ›´æ–°å’Œåˆ é™¤ç±»å‹å’Œå®ä½“ã€‚å®ƒä¹Ÿæ˜¯æŸ¥è¯¢å’Œå‘ç°Atlasç®¡ç†çš„ç±»å‹å’Œå®ä½“çš„ä¸»è¦æœºåˆ¶ã€‚</p> <h4 id="messaging"><a href="#messaging" class="header-anchor">#</a> Messagingï¼š</h4> <p>é™¤äº†APIï¼Œ<strong>ç”¨æˆ·è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨åŸºäºKafkaçš„æ¶ˆæ¯ä¼ é€’æ¥å£ä¸Atlasé›†æˆ</strong>ã€‚è¿™å¯¹äºå°†å…ƒæ•°æ®å¯¹è±¡ä¼ è¾¾ç»™Atlasä»¥åŠä»Atlasæ¶ˆè€—å…ƒæ•°æ®æ›´æ”¹äº‹ä»¶ï¼ˆç”¨äºæ„å»ºåº”ç”¨ç¨‹åºï¼‰éƒ½æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚å¦‚æœæœ‰äººå¸Œæœ›ä½¿ç”¨ä¸Atlasçš„æ¾æ•£è€¦åˆé›†æˆï¼Œä»¥å®ç°æ›´å¥½çš„å¯ä¼¸ç¼©æ€§ï¼Œå¯é æ€§ç­‰ï¼Œåˆ™è¯¥æ¶ˆæ¯ä¼ é€’æ¥å£ç‰¹åˆ«æœ‰ç”¨ã€‚Atlasä½¿ç”¨Apache Kafkaä½œä¸ºé€šçŸ¥æœåŠ¡å™¨ï¼Œç”¨äºæŒ‚é’©å’Œå…ƒæ•°æ®é€šçŸ¥äº‹ä»¶çš„ä¸‹æ¸¸ä½¿ç”¨è€…ä¹‹é—´çš„é€šä¿¡ã€‚è¿™äº›äº‹ä»¶ç”±é’©å­å’ŒAtlasç¼–å†™ï¼Œæ¶‰åŠä¸åŒçš„Kafkaä¸»é¢˜ã€‚</p> <h3 id="metadata-sourceså…ƒæ•°æ®æº"><a href="#metadata-sourceså…ƒæ•°æ®æº" class="header-anchor">#</a> Metadata Sourceså…ƒæ•°æ®æº</h3> <p>Atlasæ”¯æŒä¸è®¸å¤šç°æˆçš„å…ƒæ•°æ®æºé›†æˆã€‚å°†æ¥è¿˜å°†æ·»åŠ æ›´å¤šé›†æˆã€‚å½“å‰ï¼ŒAtlasæ”¯æŒä»ä»¥ä¸‹æ¥æºæå–å’Œç®¡ç†å…ƒæ•°æ®ï¼š</p> <ul><li><a href="http://atlas.apache.org/#/HookHBase" target="_blank" rel="noopener noreferrer">HBase<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://atlas.apache.org/#/HookHive" target="_blank" rel="noopener noreferrer">Hive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://atlas.apache.org/#/HookSqoop" target="_blank" rel="noopener noreferrer">Sqoop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://atlas.apache.org/#/HookStorm" target="_blank" rel="noopener noreferrer">Storm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://atlas.apache.org/#/HookKafka" target="_blank" rel="noopener noreferrer">Kafka<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>é›†æˆæ„å‘³ç€ä¸¤ä»¶äº‹ï¼š**AtlasåŸç”Ÿå®šä¹‰äº†ä¸€äº›å…ƒæ•°æ®æ¨¡å‹æ¥è¡¨ç¤ºè¿™äº›ç»„ä»¶çš„å¯¹è±¡ã€‚**Atlasæä¾›äº†ä¸€äº›ç»„ä»¶ï¼Œå¯ä»¥ä»è¿™äº›ç»„ä»¶ï¼ˆå®æ—¶æˆ–åœ¨æŸäº›æƒ…å†µä¸‹ä¸ºæ‰¹å¤„ç†æ¨¡å¼ï¼‰ä¸­æå–å…ƒæ•°æ®å¯¹è±¡</p> <h3 id="apps-åº”ç”¨é¢†åŸŸ"><a href="#apps-åº”ç”¨é¢†åŸŸ" class="header-anchor">#</a> APPS åº”ç”¨é¢†åŸŸ</h3> <p>Atlasç®¡ç†çš„å…ƒæ•°æ®è¢«å„ç§åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥æ»¡è¶³è®¸å¤šæ²»ç†ç”¨ä¾‹ã€‚</p> <p><strong>Atlas Admin UI</strong>ï¼šæ­¤ç»„ä»¶æ˜¯ä¸€ä¸ªåŸºäºWebçš„åº”ç”¨ç¨‹åºï¼Œå…è®¸æ•°æ®ç®¡ç†å‘˜å’Œç§‘å­¦å®¶å‘ç°å’Œæ³¨é‡Šå…ƒæ•°æ®ã€‚è¿™é‡Œæœ€é‡è¦çš„æ˜¯æœç´¢ç•Œé¢å’Œç±»ä¼¼SQLçš„æŸ¥è¯¢è¯­è¨€ï¼Œå¯ç”¨äºæŸ¥è¯¢Atlasç®¡ç†çš„å…ƒæ•°æ®ç±»å‹å’Œå¯¹è±¡ã€‚ç®¡ç†å‘˜ç•Œé¢ä½¿ç”¨Atlasçš„REST APIæ¥æ„å»ºå…¶åŠŸèƒ½ã€‚</p> <p><strong>åŸºäºæ ‡ç­¾çš„ç­–ç•¥</strong>ï¼š<a href="http://ranger.apache.org/" target="_blank" rel="noopener noreferrer">Apache Ranger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ˜¯é’ˆå¯¹Hadoopç”Ÿæ€ç³»ç»Ÿçš„é«˜çº§å®‰å…¨ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œä¸å„ç§Hadoopç»„ä»¶å¹¿æ³›é›†æˆã€‚é€šè¿‡ä¸Atlasé›†æˆï¼ŒRangerä½¿å®‰å…¨ç®¡ç†å‘˜å¯ä»¥å®šä¹‰å…ƒæ•°æ®é©±åŠ¨çš„å®‰å…¨ç­–ç•¥ä»¥è¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†ã€‚Rangeræ˜¯Atlasé€šçŸ¥çš„å…ƒæ•°æ®æ›´æ”¹äº‹ä»¶çš„ä½¿ç”¨è€…ã€‚</p> <h2 id="_3ã€atlasçš„ç¼–è¯‘"><a href="#_3ã€atlasçš„ç¼–è¯‘" class="header-anchor">#</a> 3ã€Atlasçš„ç¼–è¯‘</h2> <p>Atlasè¿™ä¸ªè½¯ä»¶æ¡†æ¶åœ¨å®˜ç½‘http://atlas.apache.org/#/ ä¸Šé¢æ²¡æœ‰ç»™æˆ‘ä»¬æä¾›çº¿ç¨‹çš„äºŒè¿›åˆ¶å®‰è£…åŒ…ï¼Œåªæä¾›äº†æºç åŒ…ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå·±å»å¯¹æºç åŒ…è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘æºç åŒ…çš„è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç”±äºç½‘ç»œåŸå› ç­‰ï¼Œä¼šé€ æˆæˆ‘ä»¬ä¸€ç›´ç¼–è¯‘ä¸é€šè¿‡ã€‚æ‰€ä»¥æˆ‘ä»¬çŸ¥é“å¦‚ä½•ç¼–è¯‘Atlaså³å¯ï¼Œä¸ç”¨è‡ªå·±åŠ¨æ‰‹å»ç¼–è¯‘ï¼ˆä¸€èˆ¬ç”±äºç½‘ç»œåŸå› ï¼Œä¹Ÿä¼šç¼–è¯‘ä¸é€šè¿‡çš„ï¼‰</p> <h3 id="ç¬¬ä¸€æ­¥-å®‰è£…jdk"><a href="#ç¬¬ä¸€æ­¥-å®‰è£…jdk" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šå®‰è£…jdk</h3> <p><strong>æ³¨æ„</strong>ï¼šAtlas1.xåŠä»¥ä¸Šçš„ç‰ˆæœ¬çš„ç¼–è¯‘ï¼Œå¿…é¡»ä½¿ç”¨jdkç‰ˆæœ¬é«˜äºjdk-8u151çš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©ä½¿ç”¨jdk-8u231è¿™ä¸ªç‰ˆæœ¬å³å¯ï¼Œåªè¦ç‰ˆæœ¬é«˜äº8u151çš„éƒ½è¡Œã€‚</p> <p>linuxä¸‹é¢å®‰è£…jdkçš„æ­¥éª¤çœç•¥</p> <h3 id="ç¬¬äºŒæ­¥-å®‰è£…maven"><a href="#ç¬¬äºŒæ­¥-å®‰è£…maven" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šå®‰è£…maven</h3> <p>mavençš„ç‰ˆæœ¬å°½é‡é€‰æ‹©é«˜ä¸€ç‚¹çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œé€‰æ‹©ä½¿ç”¨3.6.xçš„ç‰ˆæœ¬éƒ½è¡Œï¼Œå…·ä½“æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯3.6.2çš„ç‰ˆæœ¬æ¥è¿›è¡Œç¼–è¯‘ï¼Œæ²¡æœ‰é—®é¢˜</p> <p>linuxå®‰è£…mavenæ­¥éª¤çœç•¥</p> <h3 id="ç¬¬ä¸‰æ­¥-ä¸‹è½½æºç å‡†å¤‡ç¼–è¯‘"><a href="#ç¬¬ä¸‰æ­¥-ä¸‹è½½æºç å‡†å¤‡ç¼–è¯‘" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šä¸‹è½½æºç å‡†å¤‡ç¼–è¯‘</h3> <p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨1.2.0ï¼ˆå¦‚æœhbaseæ˜¯1.xç‰ˆæœ¬ï¼Œåˆ™åªèƒ½ä½¿ç”¨Atlas-1.xç‰ˆæœ¬ï¼‰è¿™ä¸ªç‰ˆæœ¬æ¥è¿›è¡Œç¼–è¯‘ï¼Œä¸‹è½½Atlasçš„æºç ï¼Œç„¶åè§£å‹ï¼Œè¿›è¡Œç¼–è¯‘å³å¯</p> <p>ç»Ÿä¸€linuxçš„è½¯ä»¶ä¸‹è½½ä»¥åŠè½¯ä»¶ç¼–è¯‘ç›®å½•</p> <div class="language-shell extra-class"><pre class="language-shell"><code>å®šä¹‰è½¯ä»¶ä¸‹è½½ç›®å½•
<span class="token function">mkdir</span>  -p  /kkb/soft  
å®šä¹‰è½¯ä»¶å®‰è£…ç›®å½•
<span class="token function">mkdir</span> -p /kkb/install

ä¸‹è½½Atlasçš„è½¯ä»¶å®‰è£…åŒ…
<span class="token builtin class-name">cd</span> /kkb/soft
<span class="token function">wget</span>  https://www.apache.org/dyn/closer.cgi/atlas/1.2.0/apache-atlas-1.2.0-sources.tar.gz

è§£å‹æºç å®‰è£…åŒ…
<span class="token function">tar</span> -zxf apache-atlas-1.2.0-sources.tar.gz  -C /kkb/install/

å‡†å¤‡è¿›è¡Œç¼–è¯‘
<span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-sources-1.2.0/
<span class="token builtin class-name">export</span> <span class="token assign-left variable">MAVEN_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Xms2g -Xmx2g&quot;</span>
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ è¡¨ç¤ºä½¿ç”¨å¤–éƒ¨çš„hbaseä¸solr
mvn clean package -DskipTests -Pdist,external-hbase-solr

å¦‚æœè¦ä½¿ç”¨Atlaså†…åµŒçš„HBaseä¸solrï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘
mvn clean package -DskipTests -Pdist,embedded-hbase-solr

</code></pre></div><p>ç¼–è¯‘å¥½çš„å®‰è£…åŒ…è·¯å¾„ä½äº</p> <div class="language- extra-class"><pre class="language-text"><code>/kkb/install/apache-atlas-sources-1.2.0/distro/targe
</code></pre></div><p>è¿™ä¸ªè·¯å¾„ä¸‹ï¼Œè·å–åˆ°ä»¥ä¸‹è¿™ä¸ªå‹ç¼©åŒ…å³å¯</p> <p><img src="/assets/img/1586062930734.5762ef3d.png" alt="1586062930734"></p> <p>ç¼–è¯‘è¿‡ç¨‹ä¸­ç¨å¾®æ³¨æ„ä¸‹ï¼šéœ€è¦ä¸‹è½½ä¸€ä¸ªåŒ…linux-x64-57_binding.node  è¿™ä¸ªåŒ…å¾ˆéš¾ä¸‹è½½ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ‰‹åŠ¨ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åæ”¾åˆ°ç¼–è¯‘linuxæœºå™¨çš„çš„/root/.npm/node-sass/4.13.1 è¿™ä¸ªè·¯å¾„ä¸‹å³å¯</p> <h2 id="_4ã€atlasçš„å®‰è£…ä¸å‰ç½®ç¯å¢ƒå‡†å¤‡"><a href="#_4ã€atlasçš„å®‰è£…ä¸å‰ç½®ç¯å¢ƒå‡†å¤‡" class="header-anchor">#</a> 4ã€Atlasçš„å®‰è£…ä¸å‰ç½®ç¯å¢ƒå‡†å¤‡</h2> <p>Atlasæ˜¯ç”¨äºåšå…ƒæ•°æ®ç®¡ç†çš„ï¼Œå¯ä»¥ç”¨äºæ¥é›†æˆå„ç§æ¡†æ¶çš„å…ƒæ•°æ®ç®¡ç†ï¼Œä¾‹å¦‚å¯ä»¥ç”¨æ¥é›†æˆhbaseï¼Œé›†æˆsolrï¼Œé›†æˆkafkaï¼Œé›†æˆhiveç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æå‰å®‰è£…å¥½hbaseï¼Œsolrï¼Œkafkaï¼Œhiveç­‰æ¡†æ¶ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦ç”¨äºé›†æˆkafkaï¼Œhbaseï¼Œhiveç­‰è¿™å‡ ä¸ªæ¡†æ¶ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æå‰å¯åŠ¨kafkaï¼Œå¯åŠ¨hbaseï¼Œä»¥åŠå¯åŠ¨hiveçš„hiveserver2ä»¥åŠmetastoreæœåŠ¡ç­‰</p> <h3 id="å®‰è£…å¹¶å¯åŠ¨zookeeperæœåŠ¡"><a href="#å®‰è£…å¹¶å¯åŠ¨zookeeperæœåŠ¡" class="header-anchor">#</a> å®‰è£…å¹¶å¯åŠ¨zookeeperæœåŠ¡</h3> <p>å®‰è£…å¥½zookeeperä¹‹åå¹¶å¯åŠ¨zookeeper</p> <h3 id="å®‰è£…å¹¶å¯åŠ¨hadoopæœåŠ¡"><a href="#å®‰è£…å¹¶å¯åŠ¨hadoopæœåŠ¡" class="header-anchor">#</a> å®‰è£…å¹¶å¯åŠ¨hadoopæœåŠ¡</h3> <p>å®‰è£…å¥½hadoopï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯CDH5.14.2è¿™ä¸ªç‰ˆæœ¬</p> <h3 id="å®‰è£…å¯åŠ¨hbaseæœåŠ¡"><a href="#å®‰è£…å¯åŠ¨hbaseæœåŠ¡" class="header-anchor">#</a> å®‰è£…å¯åŠ¨hbaseæœåŠ¡</h3> <p>å®‰è£…å¥½hbaseï¼Œå¹¶å¯åŠ¨hbaseçš„æœåŠ¡ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„hbaseçš„ç‰ˆæœ¬æ˜¯CDH5.14.2</p> <h3 id="å®‰è£…å¯åŠ¨hiveçš„æœåŠ¡"><a href="#å®‰è£…å¯åŠ¨hiveçš„æœåŠ¡" class="header-anchor">#</a> å®‰è£…å¯åŠ¨hiveçš„æœåŠ¡</h3> <p>å®‰è£…å¥½hive</p> <h3 id="å®‰è£…å¹¶å¯åŠ¨å¥½solré›†ç¾¤æœåŠ¡"><a href="#å®‰è£…å¹¶å¯åŠ¨å¥½solré›†ç¾¤æœåŠ¡" class="header-anchor">#</a> å®‰è£…å¹¶å¯åŠ¨å¥½solré›†ç¾¤æœåŠ¡</h3> <p>Atlaséœ€è¦ä¸€ä¸ªæœç´¢å¼•æ“æœåŠ¡ä½œä¸ºAtlasçš„æ•°æ®æœç´¢æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨solrCloudæˆ–è€…ä½¿ç”¨Elasticsearchéƒ½è¡Œï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©ä½¿ç”¨SolrCloudä½œä¸ºAtlasçš„é›†ç¾¤æœç´¢æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®‰è£…SolrCloudæœåŠ¡ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©ä½¿ç”¨solr5.5.2è¿™ä¸ªç‰ˆæœ¬</p> <h4 id="ç¬¬ä¸€æ­¥-ä¸‹è½½solrå®‰è£…åŒ…å¹¶è§£å‹"><a href="#ç¬¬ä¸€æ­¥-ä¸‹è½½solrå®‰è£…åŒ…å¹¶è§£å‹" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šä¸‹è½½solrå®‰è£…åŒ…å¹¶è§£å‹</h4> <p>ä¸‹è½½solr5.5.2å®‰è£…åŒ…ï¼Œå¹¶ä¸Šä¼ åˆ°<strong>node01æœåŠ¡å™¨</strong>çš„/kkb/softè·¯å¾„ä¸‹</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span>  /kkb/soft
<span class="token function">tar</span> -zxf solr-5.5.2.tgz -C /kkb/install/
</code></pre></div><h4 id="ç¬¬äºŒæ­¥-ä¿®æ”¹solré…ç½®æ–‡ä»¶"><a href="#ç¬¬äºŒæ­¥-ä¿®æ”¹solré…ç½®æ–‡ä»¶" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šä¿®æ”¹solré…ç½®æ–‡ä»¶</h4> <p>node01æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹solré…ç½®æ–‡ä»¶</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/solr-5.5.2/bin
 
<span class="token function">vim</span> solr.in.sh
 
<span class="token assign-left variable">ZK_HOST</span><span class="token operator">=</span><span class="token string">&quot;node01:2181,node02:2181,node03:2181&quot;</span>
<span class="token assign-left variable">SOLR_HOST</span><span class="token operator">=</span><span class="token string">&quot;node01&quot;</span>
</code></pre></div><h4 id="ç¬¬ä¸‰æ­¥-åˆ†å‘å®‰è£…åŒ…"><a href="#ç¬¬ä¸‰æ­¥-åˆ†å‘å®‰è£…åŒ…" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šåˆ†å‘å®‰è£…åŒ…</h4> <p>åˆ†å‘solrå®‰è£…åŒ…åˆ°node02ä¸node03æœåŠ¡å™¨</p> <p>node01æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ†å‘solrå®‰è£…åŒ…åˆ°node02ä¸node03æœåŠ¡å™¨</p> <div class="language- extra-class"><pre class="language-text"><code>cd /kkb/install/
scp -r solr-5.5.2/ node02:/kkb/install
scp -r solr-5.5.2/ node03:/kkb/install
</code></pre></div><h4 id="ç¬¬å››æ­¥-å•ç‹¬ä¿®æ”¹node02ä¸node03é…ç½®æ–‡ä»¶"><a href="#ç¬¬å››æ­¥-å•ç‹¬ä¿®æ”¹node02ä¸node03é…ç½®æ–‡ä»¶" class="header-anchor">#</a> ç¬¬å››æ­¥ï¼šå•ç‹¬ä¿®æ”¹node02ä¸node03é…ç½®æ–‡ä»¶</h4> <p>node02æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ SOLR_HOSTé…ç½®é¡¹</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/solr-5.5.2/bin/
<span class="token function">vim</span> solr.in.sh
 
<span class="token assign-left variable">SOLR_HOST</span><span class="token operator">=</span><span class="token string">&quot;node02&quot;</span>
</code></pre></div><p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ SOLR_HOSTé…ç½®é¡¹</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/solr-5.5.2/bin/
<span class="token function">vim</span> solr.in.sh

<span class="token assign-left variable">SOLR_HOST</span><span class="token operator">=</span><span class="token string">&quot;node03&quot;</span>
</code></pre></div><h4 id="ç¬¬äº”æ­¥-å¯åŠ¨solræœåŠ¡"><a href="#ç¬¬äº”æ­¥-å¯åŠ¨solræœåŠ¡" class="header-anchor">#</a> ç¬¬äº”æ­¥ï¼šå¯åŠ¨solræœåŠ¡</h4> <p>ä¸‰å°æœºå™¨å¯åŠ¨solræœåŠ¡</p> <p>ä¸‰å°æœºå™¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨solræœåŠ¡</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/solr-5.5.2/
bin/solr start
</code></pre></div><h4 id="ç¬¬å…­æ­¥-æµè§ˆå™¨é¡µé¢è®¿é—®"><a href="#ç¬¬å…­æ­¥-æµè§ˆå™¨é¡µé¢è®¿é—®" class="header-anchor">#</a> ç¬¬å…­æ­¥ï¼šæµè§ˆå™¨é¡µé¢è®¿é—®</h4> <p>æµè§ˆå™¨é¡µé¢è®¿é—®</p> <p>http://node01:8983/solr/#/</p> <p>å‡ºç°cloudé€‰é¡¹ï¼Œè¯æ˜solré›†ç¾¤å®‰è£…æˆåŠŸ</p> <p><img src="/assets/img/1586183061746.cbb4ac8d.png" alt="1586183061746"></p> <h3 id="å®‰è£…atlasé›†æˆå…¶ä»–æ¡†æ¶"><a href="#å®‰è£…atlasé›†æˆå…¶ä»–æ¡†æ¶" class="header-anchor">#</a> ğŸ¥‡å®‰è£…Atlasé›†æˆå…¶ä»–æ¡†æ¶</h3> <h4 id="atlasé›†æˆhbaseæœåŠ¡"><a href="#atlasé›†æˆhbaseæœåŠ¡" class="header-anchor">#</a> Atlasé›†æˆHBaseæœåŠ¡</h4> <h5 id="ç¬¬ä¸€æ­¥-ä¸Šä¼ å‹ç¼©åŒ…å¹¶è§£å‹"><a href="#ç¬¬ä¸€æ­¥-ä¸Šä¼ å‹ç¼©åŒ…å¹¶è§£å‹" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ å‹ç¼©åŒ…å¹¶è§£å‹</h5> <p>ä¸Šä¼ Atlasç¼–è¯‘ä¹‹åçš„å®‰è£…åŒ…å¹¶è¿›è¡Œè§£å‹</p> <p>å°†Atlasçš„å®‰è£…åŒ…ä¸Šä¼ åˆ°<strong>node03æœåŠ¡å™¨</strong>çš„/kkb/softè·¯å¾„ä¸‹ï¼Œç„¶åè¿›è¡Œè§£å‹</p> <div class="language- extra-class"><pre class="language-text"><code>cd /kkb/soft
tar -zxf apache-atlas-1.2.0-bin.tar.gz -C /kkb/install/
</code></pre></div><h5 id="ç¬¬äºŒæ­¥-ä¿®æ”¹atlas-application-properties-æ›´æ”¹atlaså­˜å‚¨æ•°æ®ä¸»æœºå"><a href="#ç¬¬äºŒæ­¥-ä¿®æ”¹atlas-application-properties-æ›´æ”¹atlaså­˜å‚¨æ•°æ®ä¸»æœºå" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šä¿®æ”¹atlas-application.properties æ›´æ”¹Atlaså­˜å‚¨æ•°æ®ä¸»æœºå</h5> <p>ä¿®æ”¹Atlasçš„å­˜å‚¨æ•°æ®ä¸»æœºå</p> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹Atlasè¿æ¥zkçš„åœ°å€</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf
<span class="token function">vim</span> atlas-application.properties 

atlas.graph.storage.hostname<span class="token operator">=</span>node01:2181,node02:2181,node03:2181
</code></pre></div><h5 id="ç¬¬ä¸‰æ­¥-ä¿®æ”¹atlasä¸hbaseé›†æˆæ–‡ä»¶"><a href="#ç¬¬ä¸‰æ­¥-ä¿®æ”¹atlasä¸hbaseé›†æˆæ–‡ä»¶" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹Atlasä¸HBaseé›†æˆæ–‡ä»¶</h5> <p>ä¿®æ”¹Atlasä¸HBaseçš„é›†æˆé…ç½®æ–‡ä»¶</p> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¿®æ”¹Atlasè¿æ¥hbaseçš„é…ç½®æ–‡ä»¶å¤¹è·¯å¾„</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ç›´æ¥é€šè¿‡é“¾æ¥çš„æ–¹å¼å³å¯ï¼Œå°†hbaseçš„é…ç½®æ–‡ä»¶å¤¹confç›®å½•ï¼Œé“¾æ¥åˆ°Atlaså¯¹åº”hbaseçš„é…ç½®æ–‡ä»¶å¤¹ä¸‹
<span class="token function">ln</span> -s /kkb/install/hbase-1.2.0-cdh5.14.2/conf /kkb/install/apache-atlas-1.2.0/conf/hbase/conf

åœ¨Atlasçš„confç›®å½•ä¸‹çš„hbaseæ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»ºä¸€ä¸ªè¿æ¥æ–‡ä»¶å¤¹ï¼Œè¿æ¥åˆ°hbaseçš„confé…ç½®æ–‡ä»¶
</code></pre></div><h5 id="ç¬¬å››æ­¥-ä¿®æ”¹atlas-env-shé…ç½®æ–‡ä»¶"><a href="#ç¬¬å››æ­¥-ä¿®æ”¹atlas-env-shé…ç½®æ–‡ä»¶" class="header-anchor">#</a> ç¬¬å››æ­¥ï¼šä¿®æ”¹atlas-env.shé…ç½®æ–‡ä»¶</h5> <p>ä¿®æ”¹atlas-env.shæ·»åŠ hbaseé…ç½®è·¯å¾„</p> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹JAVA_HOMEä»¥åŠä¿®æ”¹HBASE_CONF_DIRè·¯å¾„</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ä¿®æ”¹atlas-env.sh æ·»åŠ hbaseçš„é…ç½®æ–‡ä»¶çš„è·¯å¾„
<span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf/
<span class="token function">vim</span> atlas-env.sh 

<span class="token comment">#ä¿®æ”¹javaç¯å¢ƒå˜é‡</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/kkb/install/jdk1.8.0_141
<span class="token comment">#æ·»åŠ è¿™ä¸€è¡Œé…ç½®é¡¹</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HBASE_CONF_DIR</span><span class="token operator">=</span>/kkb/install/apache-atlas-1.2.0/conf/hbase/conf
</code></pre></div><h4 id="atlasé›†æˆsolræœåŠ¡"><a href="#atlasé›†æˆsolræœåŠ¡" class="header-anchor">#</a> Atlasé›†æˆSolræœåŠ¡</h4> <h5 id="ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasé…ç½®æ–‡ä»¶-atlas-application-properties"><a href="#ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasé…ç½®æ–‡ä»¶-atlas-application-properties" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹Atlasé…ç½®æ–‡ä»¶ atlas-application.properties</h5> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹Atlasçš„é…ç½®æ–‡ä»¶ atlas-application.properties</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf/
<span class="token function">vim</span> atlas-application.properties 

atlas.graph.index.search.backend<span class="token operator">=</span>solr
atlas.graph.index.search.solr.zookeeper-url<span class="token operator">=</span>node01:2181,node02:2181,node03:2181
atlas.graph.index.search.solr.mode<span class="token operator">=</span>http   <span class="token comment">#æ‰“å¼€æ³¨é‡Š</span>
atlas.graph.index.search.solr.http-urls<span class="token operator">=</span>http://node01:8983/solr

</code></pre></div><h5 id="ç¬¬äºŒæ­¥-æ‹·è´atlasé…ç½®æ–‡ä»¶åˆ°solré‡Œé¢å»"><a href="#ç¬¬äºŒæ­¥-æ‹·è´atlasé…ç½®æ–‡ä»¶åˆ°solré‡Œé¢å»" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šæ‹·è´atlasé…ç½®æ–‡ä»¶åˆ°solré‡Œé¢å»</h5> <p>å°†Atlasè‡ªå¸¦çš„solré…ç½®æ–‡ä»¶æ‹·è´åˆ°node03æœåŠ¡å™¨çš„Solrå®‰è£…ç›®å½•ä¸‹</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cp</span> -r /kkb/install/apache-atlas-1.2.0/conf/solr /kkb/install/solr-5.5.2/
é‡å‘½åæ–‡ä»¶å¤¹åç§°
<span class="token builtin class-name">cd</span> /kkb/install/solr-5.5.2/
<span class="token function">mv</span> solr/ atlas_conf
</code></pre></div><h5 id="ç¬¬ä¸‰æ­¥-åŒæ­¥æ‹·è´åçš„é…ç½®æ–‡ä»¶åˆ°node01ä¸node02"><a href="#ç¬¬ä¸‰æ­¥-åŒæ­¥æ‹·è´åçš„é…ç½®æ–‡ä»¶åˆ°node01ä¸node02" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šåŒæ­¥æ‹·è´åçš„é…ç½®æ–‡ä»¶åˆ°node01ä¸node02</h5> <p>åŒæ­¥node01æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶åˆ°node01å’Œnode02</p> <div class="language- extra-class"><pre class="language-text"><code>node01æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡ŒåŒæ­¥
cd /kkb/install/solr-5.5.2/
scp -r atlas_conf/ node01:/kkb/install/solr-5.5.2/
scp -r atlas_conf/ node02:/kkb/install/solr-5.5.2/
</code></pre></div><h5 id="ç¬¬å››æ­¥-åˆ›å»ºsolrçš„collection"><a href="#ç¬¬å››æ­¥-åˆ›å»ºsolrçš„collection" class="header-anchor">#</a> ç¬¬å››æ­¥ï¼šåˆ›å»ºsolrçš„collection</h5> <p>åœ¨solrCloudæ¨¡å¼ä¸‹ï¼Œå¯åŠ¨solrï¼Œå¹¶åˆ›å»ºcollection</p> <p>node01æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºcollectionï¼ˆç¡®ä¿solrå·²ç»å¼€å¯ï¼‰</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/solr-5.5.2/
bin/solr create -c vertex_index -d /kkb/install/solr-5.5.2/atlas_conf/ -shards <span class="token number">3</span> -replicationFactor <span class="token number">2</span>       
bin/solr create -c edge_index -d  /kkb/install/solr-5.5.2/atlas_conf -shards <span class="token number">3</span> -replicationFactor <span class="token number">2</span>

bin/solr create -c fulltext_index -d /kkb/install/solr-5.5.2/atlas_conf -shards <span class="token number">3</span> -replicationFactor <span class="token number">2</span>

</code></pre></div><p>-shards 3ï¼šè¡¨ç¤ºè¯¥é›†åˆåˆ†ç‰‡æ•°ä¸º3</p> <p>-replicationFactor 2ï¼šè¡¨ç¤ºæ¯ä¸ªåˆ†ç‰‡æ•°éƒ½æœ‰2ä¸ªå¤‡ä»½</p> <p>vertex_indexã€edge_indexã€fulltext_indexï¼šè¡¨ç¤ºé›†åˆåç§°</p> <p>æ³¨æ„ï¼šå¦‚æœéœ€è¦åˆ é™¤vertex_indexã€edge_indexã€fulltext_indexç­‰collectionå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>cd /kkb/install/solr-5.5.2/
bin/solr delete -c ${collection_name}
</code></pre></div><p>éªŒè¯åˆ›å»ºcollectionæˆåŠŸ</p> <p>æµè§ˆå™¨é¡µé¢è®¿é—®http://node01:8983/solr/#/~cloudçœ‹åˆ°ä»¥ä¸‹æ•ˆæœè¯æ˜åˆ›å»ºæˆåŠŸ</p> <p><img src="/assets/img/1586184687785.5fd36145.png" alt="1586184687785"></p> <h4 id="atlasé›†æˆkafkaæœåŠ¡"><a href="#atlasé›†æˆkafkaæœåŠ¡" class="header-anchor">#</a> Atlasé›†æˆKafkaæœåŠ¡</h4> <h5 id="ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasé…ç½®æ–‡ä»¶-atlas-application-properties-2"><a href="#ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasé…ç½®æ–‡ä»¶-atlas-application-properties-2" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹Atlasé…ç½®æ–‡ä»¶ atlas-application.properties</h5> <p>ä¿®æ”¹Atlasé…ç½®æ–‡ä»¶atlas-application.properties</p> <p><strong>node03æ‰§è¡Œ</strong>ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹é…ç½®æ–‡ä»¶å†…å®¹</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf
<span class="token function">vim</span> atlas-application.properties


atlas.notification.embedded<span class="token operator">=</span>false
atlas.kafka.zookeeper.connect<span class="token operator">=</span>node01:2181,node02:2181,node03:2181
atlas.kafka.bootstrap.servers<span class="token operator">=</span>node01:9092,node02:9092,node03:9092
atlas.kafka.zookeeper.session.timeout.ms<span class="token operator">=</span><span class="token number">4000</span>
atlas.kafka.zookeeper.connection.timeout.ms<span class="token operator">=</span><span class="token number">2000</span>
atlas.kafka.enable.auto.commit<span class="token operator">=</span>true
</code></pre></div><h5 id="ç¬¬äºŒæ­¥-åˆ›å»ºkafkaçš„topic"><a href="#ç¬¬äºŒæ­¥-åˆ›å»ºkafkaçš„topic" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šåˆ›å»ºkafkaçš„topic</h5> <p>åˆ›å»ºkafkaçš„topic</p> <p>Atlasä¸kafkaé›†æˆéœ€è¦åˆ›å»ºä¸¤ä¸ªtopicï¼Œè¿™ä¸¤ä¸ªtopicçš„åå­—é…ç½®åœ¨atlas-application.propertiesè¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œé¢</p> <div class="language- extra-class"><pre class="language-text"><code>atlas.notification.topics=ATLAS_HOOK,ATLAS_ENTITIES
</code></pre></div><p><strong>node01æ‰§è¡Œ</strong>ä»¥ä¸‹å‘½ä»¤åˆ›å»ºè¿™ä¸¤ä¸ªtopic</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>hadoop@node01 ~<span class="token punctuation">]</span>$ <span class="token function">sh</span> ./bin/kafkaCluster.sh start

kafka-topics.sh --zookeeper node01:2181,node02:2181,node03:2181 --create --replication-factor <span class="token number">2</span> --partitions <span class="token number">3</span> --topic ATLAS_HOOK

kafka-topics.sh --zookeeper node01:2181,node02:2181,node03:2181 --create --replication-factor <span class="token number">2</span> --partitions <span class="token number">3</span> --topic ATLAS_ENTITIES
</code></pre></div><h4 id="atlasé›†æˆhiveæœåŠ¡"><a href="#atlasé›†æˆhiveæœåŠ¡" class="header-anchor">#</a> Atlasé›†æˆhiveæœåŠ¡</h4> <h5 id="ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasé…ç½®æ–‡ä»¶-atlas-application-properties-3"><a href="#ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasé…ç½®æ–‡ä»¶-atlas-application-properties-3" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹Atlasé…ç½®æ–‡ä»¶ atlas-application.properties</h5> <p>ä¿®æ”¹Atlasé…ç½®æ–‡ä»¶atlas-application.properties</p> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹é…ç½®æ–‡ä»¶å†…å®¹</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf
<span class="token function">vim</span> atlas-application.properties

<span class="token comment">#æ‰‹åŠ¨æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œè¿™äº›é…ç½®åœ¨é…ç½®æ–‡ä»¶é‡Œé¢æ²¡æœ‰ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨æ·»åŠ </span>
<span class="token comment">########## Hive Hook Configs #######</span>
atlas.hook.hive.synchronous<span class="token operator">=</span>false
atlas.hook.hive.numRetries<span class="token operator">=</span><span class="token number">3</span>
atlas.hook.hive.queueSize<span class="token operator">=</span><span class="token number">10000</span>
atlas.cluster.name<span class="token operator">=</span>primary

</code></pre></div><h5 id="ç¬¬äºŒæ­¥-æ·»åŠ é…ç½®æ–‡ä»¶æ”¾åˆ°jaråŒ…é‡Œé¢å»"><a href="#ç¬¬äºŒæ­¥-æ·»åŠ é…ç½®æ–‡ä»¶æ”¾åˆ°jaråŒ…é‡Œé¢å»" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šæ·»åŠ é…ç½®æ–‡ä»¶æ”¾åˆ°jaråŒ…é‡Œé¢å»</h5> <p>å°†atlas-application.propertiesé…ç½®æ–‡ä»¶æ·»åŠ åˆ°atlas-plugin-classloader-1.2.0.jaråŒ…</p> <p><strong>node03æ‰§è¡Œ</strong>ä»¥ä¸‹å‘½ä»¤ï¼Œå°†atlas-application.propertiesè¿™ä¸ªé…ç½®æ–‡ä»¶æ·»åŠ åˆ°atlas-plugin-classloader-1.2.0.jarè¿™ä¸ªjaråŒ…</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> yum -y <span class="token function">install</span> <span class="token function">zip</span>
<span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf
 <span class="token function">zip</span> -u  /kkb/install/apache-atlas-1.2.0/hook/hive/atlas-plugin-classloader-1.2.0.jar  atlas-application.properties
</code></pre></div><h5 id="ç¬¬ä¸‰æ­¥-æ‹·è´é…ç½®æ–‡ä»¶åˆ°hiveçš„confç›®å½•ä¸‹"><a href="#ç¬¬ä¸‰æ­¥-æ‹·è´é…ç½®æ–‡ä»¶åˆ°hiveçš„confç›®å½•ä¸‹" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šæ‹·è´é…ç½®æ–‡ä»¶åˆ°hiveçš„confç›®å½•ä¸‹</h5> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†atlas-application.propertiesé…ç½®æ–‡ä»¶ï¼Œæ‹·è´åˆ°hiveçš„confç›®å½•ä¸‹</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf/
<span class="token function">cp</span> atlas-application.properties /kkb/install/hive-1.1.0-cdh5.14.2/conf/  
</code></pre></div><h5 id="ç¬¬å››æ­¥-ä¿®æ”¹hive-env-shé…ç½®å¤–éƒ¨jaråŒ…"><a href="#ç¬¬å››æ­¥-ä¿®æ”¹hive-env-shé…ç½®å¤–éƒ¨jaråŒ…" class="header-anchor">#</a> ç¬¬å››æ­¥ï¼šä¿®æ”¹hive-env.shé…ç½®å¤–éƒ¨jaråŒ…</h5> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹hive-env.shæ·»åŠ å¤–éƒ¨jaråŒ…</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/hive-1.1.0-cdh5.14.2/conf
<span class="token function">vim</span> hive-env.sh 

<span class="token builtin class-name">export</span> <span class="token assign-left variable">HIVE_AUX_JARS_PATH</span><span class="token operator">=</span>/kkb/install/apache-atlas-1.2.0/hook/hive
</code></pre></div><h5 id="ç¬¬äº”æ­¥-ä¿®æ”¹hive-site-xml"><a href="#ç¬¬äº”æ­¥-ä¿®æ”¹hive-site-xml" class="header-anchor">#</a> ç¬¬äº”æ­¥ï¼šä¿®æ”¹hive-site.xml</h5> <p>ä¿®æ”¹hive-site.xmlé…ç½®æ–‡ä»¶</p> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹hiveçš„é…ç½®æ–‡ä»¶hive-site.xml</p> <div class="language-xml extra-class"><pre class="language-xml"><code>cd /kkb/install/hive-1.1.0-cdh5.14.2/conf
vim hive-site.xml 

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.exec.post.hooks<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> 		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>org.apache.atlas.hive.hook.HiveHook,org.apache.hadoop.hive.ql.hooks.LineageLogger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="atlaså…¶ä»–é…ç½®é€‰é¡¹"><a href="#atlaså…¶ä»–é…ç½®é€‰é¡¹" class="header-anchor">#</a> Atlaså…¶ä»–é…ç½®é€‰é¡¹</h4> <h5 id="ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasçš„ä¸»æœºå"><a href="#ç¬¬ä¸€æ­¥-ä¿®æ”¹atlasçš„ä¸»æœºå" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹Atlasçš„ä¸»æœºå</h5> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶atlas-application.properties</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf/
<span class="token function">vim</span> atlas-application.properties

atlas.rest.address<span class="token operator">=</span>http://node03:21000
atlas.audit.hbase.zookeeper.quorum<span class="token operator">=</span>node01:2181,node02:2181,node03:2181
</code></pre></div><h5 id="ç¬¬äºŒæ­¥-ä¿®æ”¹atlasçš„æ—¥å¿—é…ç½®æ–‡ä»¶"><a href="#ç¬¬äºŒæ­¥-ä¿®æ”¹atlasçš„æ—¥å¿—é…ç½®æ–‡ä»¶" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šä¿®æ”¹Atlasçš„æ—¥å¿—é…ç½®æ–‡ä»¶</h5> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¿®æ”¹atlasçš„æ—¥å¿—æœåŠ¡é…ç½®æ–‡ä»¶atlas-log4j.xml</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/conf
<span class="token function">vim</span> atlas-log4j.xml

ä»¥ä¸‹é…ç½®åœ¨æ–‡ä»¶å½“ä¸­å·²ç»å­˜åœ¨ï¼Œåªä¸è¿‡è¢«æ³¨é‡Šæ‰äº†ï¼Œç›´æ¥æ‰“å¼€å³å¯

<span class="token operator">&lt;</span>appender <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;perf_appender&quot;</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.DailyRollingFileAppender&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;file&quot;</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${atlas.log.dir}</span>/atlas_perf.log&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;datePattern&quot;</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">&quot;'.'yyyy-MM-dd&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;append&quot;</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">&quot;true&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>layout <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;org.apache.log4j.PatternLayout&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>param <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;ConversionPattern&quot;</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">&quot;%d|%t|%m%n&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/layout<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/appender<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>logger <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;org.apache.atlas.perf&quot;</span> <span class="token assign-left variable">additivity</span><span class="token operator">=</span><span class="token string">&quot;false&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>level <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">&quot;debug&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>appender-ref <span class="token assign-left variable">ref</span><span class="token operator">=</span><span class="token string">&quot;perf_appender&quot;</span> /<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/logger<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_5ã€atlaså¯åŠ¨æœåŠ¡å¹¶è®¿é—®é¡µé¢"><a href="#_5ã€atlaså¯åŠ¨æœåŠ¡å¹¶è®¿é—®é¡µé¢" class="header-anchor">#</a> 5ã€Atlaså¯åŠ¨æœåŠ¡å¹¶è®¿é—®é¡µé¢</h2> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨Atlasçš„æœåŠ¡ï¼ˆç¡®ä¿hive/hbase/zk/hadoop/solréƒ½å¼€å¯äº†ï¼‰</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0
bin/atlas_start.py
</code></pre></div><p>æµè§ˆå™¨é¡µé¢è®¿é—®ï¼š</p> <p>http://node03:21000/#!/search   æ³¨æ„ï¼šè®¿é—®webé¡µé¢åï¼Œä¸èƒ½ç«‹åˆ»ç™»å½•ï¼Œè¦ç­‰ä¸€ä¼š</p> <div class="language- extra-class"><pre class="language-text"><code>ç”¨æˆ·åï¼šadmin

å¯†ç ï¼šadmin
</code></pre></div><img src="atlaså…ƒæ•°æ®ç®¡ç†.assets/image-20200521185752050.png" alt="image-20200521185752050" style="zoom:50%;"> <h2 id="_6ã€å¯¼å…¥hiveå…ƒæ•°æ®åˆ°atlaså½“ä¸­æ¥"><a href="#_6ã€å¯¼å…¥hiveå…ƒæ•°æ®åˆ°atlaså½“ä¸­æ¥" class="header-anchor">#</a> 6ã€å¯¼å…¥hiveå…ƒæ•°æ®åˆ°Atlaså½“ä¸­æ¥</h2> <p>å°†hiveå…ƒæ•°æ®å¯¼å…¥åˆ°Atlaså½“ä¸­æ¥è¿›è¡Œç®¡ç†</p> <h3 id="ç¬¬ä¸€æ­¥-node03é…ç½®hiveç¯å¢ƒå˜é‡"><a href="#ç¬¬ä¸€æ­¥-node03é…ç½®hiveç¯å¢ƒå˜é‡" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šnode03é…ç½®hiveç¯å¢ƒå˜é‡</h3> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé…ç½®hiveçš„ç¯å¢ƒå˜é‡</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/profile

<span class="token builtin class-name">export</span> <span class="token assign-left variable">HIVE_HOME</span><span class="token operator">=</span>/kkb/install/hive-1.1.0-cdh5.14.2
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>:<span class="token variable">$HIVE_HOME</span>/bin:<span class="token environment constant">$PATH</span>

<span class="token builtin class-name">source</span> /etc/profile
</code></pre></div><h3 id="ç¬¬äºŒæ­¥-éªŒè¯hiveåŠŸèƒ½æ­£å¸¸"><a href="#ç¬¬äºŒæ­¥-éªŒè¯hiveåŠŸèƒ½æ­£å¸¸" class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šéªŒè¯hiveåŠŸèƒ½æ­£å¸¸</h3> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›å…¥hiveå®¢æˆ·ç«¯ï¼Œå¦‚æœhiveåŠŸèƒ½æ­£å¸¸å³å¯</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>hadoop@node03 hive<span class="token punctuation">]</span>$ <span class="token builtin class-name">cd</span> /kkb/install/hive-1.1.0-cdh5.14.2/
<span class="token punctuation">[</span>hadoop@node03 hive-1.1.0-cdh5.14.2<span class="token punctuation">]</span>$ hive
hive <span class="token punctuation">(</span>default<span class="token punctuation">)</span><span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
</code></pre></div><h3 id="ç¬¬ä¸‰æ­¥-å¯¼å…¥hiveå…ƒæ•°æ®åˆ°atlas"><a href="#ç¬¬ä¸‰æ­¥-å¯¼å…¥hiveå…ƒæ•°æ®åˆ°atlas" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šå¯¼å…¥hiveå…ƒæ•°æ®åˆ°atlas</h3> <p>node03æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯¼å…¥hiveå…ƒæ•°æ®</p> <div class="language- extra-class"><pre class="language-text"><code>cd /kkb/install/apache-atlas-1.2.0/
bin/import-hive.sh 
</code></pre></div><p>å¯¼å…¥è¿‡ç¨‹ä¸­ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯</p> <div class="language- extra-class"><pre class="language-text"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/jaxrs/json/JacksonJaxbJsonProvider
        at org.apache.atlas.AtlasBaseClient.getClient(AtlasBaseClient.java:270)
        at org.apache.atlas.AtlasBaseClient.initializeState(AtlasBaseClient.java:453)
        at org.apache.atlas.AtlasBaseClient.initializeState(AtlasBaseClient.java:448)
        at org.apache.atlas.AtlasBaseClient.&lt;init&gt;(AtlasBaseClient.java:132)
        at org.apache.atlas.AtlasClientV2.&lt;init&gt;(AtlasClientV2.java:82)
        at org.apache.atlas.hive.bridge.HiveMetaStoreBridge.main(HiveMetaStoreBridge.java:131)
Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.jaxrs.json.JacksonJaxbJsonProvider
        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
        ... 6 more
</code></pre></div><h3 id="ç¬¬å››æ­¥-æ‹·è´jaråŒ…è§£å†³ä»¥ä¸Šé”™è¯¯"><a href="#ç¬¬å››æ­¥-æ‹·è´jaråŒ…è§£å†³ä»¥ä¸Šé”™è¯¯" class="header-anchor">#</a> ç¬¬å››æ­¥ï¼šæ‹·è´jaråŒ…è§£å†³ä»¥ä¸Šé”™è¯¯</h3> <p>ç¼ºå°‘jaråŒ…ï¼Œå¯¼è‡´ä»¥ä¸Šé”™è¯¯ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ‹·è´å‡ ä¸ªjaråŒ…åˆ°atlasçš„hookç›®å½•ä¸‹å³å¯</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /kkb/install/apache-atlas-1.2.0/server/webapp/atlas/WEB-INF/lib
<span class="token function">cp</span> jackson-jaxrs-base-2.9.9.jar jackson-jaxrs-json-provider-2.9.9.jar jackson-module-jaxb-annotations-2.9.9.jar  /kkb/install/apache-atlas-1.2.0/hook/hive/atlas-hive-plugin-impl/
</code></pre></div><h3 id="ç¬¬äº”æ­¥-é‡æ–°å¯¼å…¥å…ƒæ•°æ®"><a href="#ç¬¬äº”æ­¥-é‡æ–°å¯¼å…¥å…ƒæ•°æ®" class="header-anchor">#</a> ç¬¬äº”æ­¥ï¼šé‡æ–°å¯¼å…¥å…ƒæ•°æ®</h3> <p>é‡æ–°å¯¼å…¥hiveå…ƒæ•°æ®ä¿¡æ¯åˆ°atlaså½“ä¸­æ¥</p> <div class="language- extra-class"><pre class="language-text"><code>cd /kkb/install/apache-atlas-1.2.0/
bin/import-hive.sh 

å‡ºç°ä»¥ä¸‹ä¿¡æ¯ï¼Œè¯æ˜å¯¼å…¥æˆåŠŸ
Using Hive configuration directory [/kkb/install/hive-1.1.0-cdh5.14.2/conf]
Log file for import is /kkb/install/apache-atlas-1.2.0/logs/import-hive.log
log4j:WARN No such property [maxFileSize] in org.apache.log4j.PatternLayout.
log4j:WARN No such property [maxBackupIndex] in org.apache.log4j.PatternLayout.
Enter username for atlas :- admin
Enter password for atlas :- 
Hive Meta Data imported successfully!!!
</code></pre></div><p><img src="/assets/img/1587518503593.91f40e86.png" alt="1587518503593"></p> <h3 id="ç¬¬å…­æ­¥-æµè§ˆå™¨é¡µé¢è®¿é—®æµè§ˆå…ƒæ•°æ®ä¿¡æ¯"><a href="#ç¬¬å…­æ­¥-æµè§ˆå™¨é¡µé¢è®¿é—®æµè§ˆå…ƒæ•°æ®ä¿¡æ¯" class="header-anchor">#</a> ç¬¬å…­æ­¥ï¼šæµè§ˆå™¨é¡µé¢è®¿é—®æµè§ˆå…ƒæ•°æ®ä¿¡æ¯</h3> <p>ç›´æ¥æµè§ˆå™¨é¡µé¢è®¿é—®</p> <p>http://node03:21000/#!/search/searchResult?type=hive_db&amp;searchType=basic</p> <p><img src="/assets/img/image-20200521190752884.402692b7.png" alt="image-20200521190752884"></p> <p>å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„å…ƒæ•°æ®ä¿¡æ¯äº†</p> <h2 id="_7ã€ä½¿ç”¨azkabanæ¥å®ç°æˆ‘ä»¬çš„ä»»åŠ¡è°ƒåº¦å¹¶æŸ¥çœ‹è¡€ç¼˜ç®¡ç†"><a href="#_7ã€ä½¿ç”¨azkabanæ¥å®ç°æˆ‘ä»¬çš„ä»»åŠ¡è°ƒåº¦å¹¶æŸ¥çœ‹è¡€ç¼˜ç®¡ç†" class="header-anchor">#</a> 7ã€ä½¿ç”¨azkabanæ¥å®ç°æˆ‘ä»¬çš„ä»»åŠ¡è°ƒåº¦å¹¶æŸ¥çœ‹è¡€ç¼˜ç®¡ç†</h2> <h3 id="ç¬¬ä¸€æ­¥-åœ¨node03æœåŠ¡å™¨ä¸Šé¢åˆ›å»ºmysqlæ•°æ®åº“è¡¨"><a href="#ç¬¬ä¸€æ­¥-åœ¨node03æœåŠ¡å™¨ä¸Šé¢åˆ›å»ºmysqlæ•°æ®åº“è¡¨" class="header-anchor">#</a> ç¬¬ä¸€æ­¥ï¼šåœ¨node03æœåŠ¡å™¨ä¸Šé¢åˆ›å»ºmysqlæ•°æ®åº“è¡¨</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token comment">/*!32312 IF NOT EXISTS*/</span><span class="token punctuation">`</span>game_center2<span class="token punctuation">`</span> <span class="token comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span><span class="token punctuation">;</span>

<span class="token keyword">USE</span> <span class="token punctuation">`</span>game_center2<span class="token punctuation">`</span><span class="token punctuation">;</span>

<span class="token comment">/*Table structure for table `res_active_users` */</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>res_active_users<span class="token punctuation">`</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>res_active_users<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>plat_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>channel_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>event_date<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>new_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>old_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>all_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">64</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token comment">/*Table structure for table `res_channel_num` */</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>res_channel_num<span class="token punctuation">`</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>res_channel_num<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>login_date<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>channel_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>device_num<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>reg_user<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>active_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>play_once_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pay_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pay_user<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pay_money<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token comment">/*Table structure for table `res_channel_num_temp` */</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span>res_channel_num_temp<span class="token punctuation">`</span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>res_channel_num_temp<span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>login_date<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>channel_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>device_num<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>reg_user<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>active_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>play_once_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pay_users<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pay_user<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>pay_money<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
</code></pre></div><h3 id="ç¬¬äºŒæ­¥-å°†æˆ‘ä»¬çš„æ•°æ®ä¸Šä¼ "><a href="#ç¬¬äºŒæ­¥-å°†æˆ‘ä»¬çš„æ•°æ®ä¸Šä¼ " class="header-anchor">#</a> ç¬¬äºŒæ­¥ï¼šå°†æˆ‘ä»¬çš„æ•°æ®ä¸Šä¼ </h3> <p>å°†æˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„æ•°æ®ä¸Šä¼ åˆ°node03æœåŠ¡å™¨çš„/kkb/datas/gamecenter è¿™ä¸ªè·¯å¾„ä¸‹</p> <h3 id="ç¬¬ä¸‰æ­¥-ä½¿ç”¨azkabanæ‰§è¡Œè°ƒåº¦ä»»åŠ¡"><a href="#ç¬¬ä¸‰æ­¥-ä½¿ç”¨azkabanæ‰§è¡Œè°ƒåº¦ä»»åŠ¡" class="header-anchor">#</a> ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨azkabanæ‰§è¡Œè°ƒåº¦ä»»åŠ¡</h3> <p>ä½¿ç”¨azkabanæ¥è°ƒåº¦æ‰§è¡Œæˆ‘ä»¬çš„ä»»åŠ¡</p> <p><img src="/assets/img/1587565757231.c754e4ec.png" alt="1587565757231"></p> <h3 id="ç¬¬å››æ­¥-atlaså½“ä¸­æŸ¥çœ‹è¡€ç¼˜å…³ç³»"><a href="#ç¬¬å››æ­¥-atlaså½“ä¸­æŸ¥çœ‹è¡€ç¼˜å…³ç³»" class="header-anchor">#</a> ç¬¬å››æ­¥ï¼šatlaså½“ä¸­æŸ¥çœ‹è¡€ç¼˜å…³ç³»</h3> <p>æŸ¥çœ‹è¡¨ä¹‹é—´çš„è¡€ç¼˜å…³ç³»</p> <p><img src="/assets/img/1587565884322.c95d0346.png" alt="1587565884322"></p> <p>æŸ¥çœ‹å­—æ®µä¹‹é—´çš„è¡€ç¼˜å…³ç³»</p> <p><img src="/assets/img/1587565940545.aaad994f.png" alt="1587565940545"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/MaLunan/press/edit/dev-mln/docs/atlaså…ƒæ•°æ®ç®¡ç†/atlaså…ƒæ•°æ®ç®¡ç†.md" target="_blank" rel="noopener noreferrer">åœ¨GitHub ä¸Šç¼–è¾‘æ­¤é¡µï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°æ—¶é—´:</span> <span class="time">1/19/2021, 1:41:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fdd7a502.js" defer></script><script src="/assets/js/16.375b747e.js" defer></script><script src="/assets/js/31.190b11f2.js" defer></script>
  </body>
</html>
