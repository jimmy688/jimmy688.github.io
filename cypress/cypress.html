<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>认识cypress | 个人博客 | JiiiiG</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="自是年少，韶华倾负">
    
    <link rel="preload" href="/assets/css/0.styles.420b7c1f.css" as="style"><link rel="preload" href="/assets/js/app.fdd7a502.js" as="script"><link rel="preload" href="/assets/js/16.375b747e.js" as="script"><link rel="preload" href="/assets/js/32.d8f4f116.js" as="script"><link rel="prefetch" href="/assets/js/10.bbd38b9e.js"><link rel="prefetch" href="/assets/js/11.f49fc7d3.js"><link rel="prefetch" href="/assets/js/12.c5d97aa1.js"><link rel="prefetch" href="/assets/js/13.426d0224.js"><link rel="prefetch" href="/assets/js/14.1f257a58.js"><link rel="prefetch" href="/assets/js/15.be29bb6a.js"><link rel="prefetch" href="/assets/js/17.d02cdd8b.js"><link rel="prefetch" href="/assets/js/18.5d2371a4.js"><link rel="prefetch" href="/assets/js/19.038919a3.js"><link rel="prefetch" href="/assets/js/2.d6257727.js"><link rel="prefetch" href="/assets/js/20.b3582e09.js"><link rel="prefetch" href="/assets/js/21.0c1e826b.js"><link rel="prefetch" href="/assets/js/22.91bff1a5.js"><link rel="prefetch" href="/assets/js/23.faacea60.js"><link rel="prefetch" href="/assets/js/24.69816497.js"><link rel="prefetch" href="/assets/js/25.c9fcaa62.js"><link rel="prefetch" href="/assets/js/26.d28c3abe.js"><link rel="prefetch" href="/assets/js/27.1518da7d.js"><link rel="prefetch" href="/assets/js/28.748a5581.js"><link rel="prefetch" href="/assets/js/29.775019f1.js"><link rel="prefetch" href="/assets/js/3.141002a4.js"><link rel="prefetch" href="/assets/js/30.74e7c570.js"><link rel="prefetch" href="/assets/js/31.190b11f2.js"><link rel="prefetch" href="/assets/js/33.c489bc81.js"><link rel="prefetch" href="/assets/js/34.db609d51.js"><link rel="prefetch" href="/assets/js/35.ad3402e6.js"><link rel="prefetch" href="/assets/js/36.45f11923.js"><link rel="prefetch" href="/assets/js/37.b47e0576.js"><link rel="prefetch" href="/assets/js/38.58b934a2.js"><link rel="prefetch" href="/assets/js/39.e4d6bcdf.js"><link rel="prefetch" href="/assets/js/4.e9b44388.js"><link rel="prefetch" href="/assets/js/40.555106bc.js"><link rel="prefetch" href="/assets/js/41.4387ceb1.js"><link rel="prefetch" href="/assets/js/42.9bd4aea0.js"><link rel="prefetch" href="/assets/js/43.587e7966.js"><link rel="prefetch" href="/assets/js/44.80285763.js"><link rel="prefetch" href="/assets/js/45.f978da77.js"><link rel="prefetch" href="/assets/js/46.d93e3f2e.js"><link rel="prefetch" href="/assets/js/47.c15bd2aa.js"><link rel="prefetch" href="/assets/js/48.cb55fa72.js"><link rel="prefetch" href="/assets/js/49.d0f4e454.js"><link rel="prefetch" href="/assets/js/5.b90b80cb.js"><link rel="prefetch" href="/assets/js/50.112e8260.js"><link rel="prefetch" href="/assets/js/51.a66bcd03.js"><link rel="prefetch" href="/assets/js/52.0c7cbfb1.js"><link rel="prefetch" href="/assets/js/53.67ef240b.js"><link rel="prefetch" href="/assets/js/54.2c2d082d.js"><link rel="prefetch" href="/assets/js/55.88f19a20.js"><link rel="prefetch" href="/assets/js/56.c726e920.js"><link rel="prefetch" href="/assets/js/57.eaee47c5.js"><link rel="prefetch" href="/assets/js/58.ac15a3ac.js"><link rel="prefetch" href="/assets/js/59.64bdc849.js"><link rel="prefetch" href="/assets/js/6.7eea74ff.js"><link rel="prefetch" href="/assets/js/7.a1370e98.js"><link rel="prefetch" href="/assets/js/8.2e898240.js"><link rel="prefetch" href="/assets/js/9.a2439994.js">
    <link rel="stylesheet" href="/assets/css/0.styles.420b7c1f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人博客 | JiiiiG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/linux/linux常用命令/01linux常用命令01.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hadoop/01hadoop环境搭建/01搭建hadoop集群.html" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/hbase/hbase.html" class="nav-link">
  hbase
</a></li><li class="dropdown-item"><!----> <a href="/flink/flink.html" class="nav-link">
  flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cypress/.html" class="nav-link">
  java
</a></li></ul></div></div> <a href="https://github.com/MaLunan/press" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/linux/linux常用命令/01linux常用命令01.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hadoop/01hadoop环境搭建/01搭建hadoop集群.html" class="nav-link">
  hadoop
</a></li><li class="dropdown-item"><!----> <a href="/hbase/hbase.html" class="nav-link">
  hbase
</a></li><li class="dropdown-item"><!----> <a href="/flink/flink.html" class="nav-link">
  flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cypress/.html" class="nav-link">
  java
</a></li></ul></div></div> <a href="https://github.com/MaLunan/press" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="认识cypress"><a href="#认识cypress" class="header-anchor">#</a> 认识cypress</h2> <p>cypress相关文档：</p> <ul><li><a href="https://docs.cypress.io/guides/core-concepts/introduction-to-cypress.html#Cypress-Can-Be-Simple-Sometimes" target="_blank" rel="noopener noreferrer">cypress官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>cypress能干什么：</p> <ul><li>End to End test</li> <li>Integration tests</li> <li>Unit tests</li></ul> <blockquote><p>e2e test的一个理解：站在<strong>用户角度</strong>的测试，把我们的程序当成一个黑盒子，不管内部是怎么实现的，我只负责打开浏览器，把测试内容在页面上输入一遍，看是不是我想要得到的结果。</p></blockquote> <p>cypress可以测试任何能在浏览器运行的东西。</p> <p>cypress提供了两个服务（组件），分别是Test  Runner测试运行器和Dashboard，来帮助我们记录测试。</p> <p>cypress的特点：</p> <ul><li>为运行的测试记录快照</li> <li>报错时，错误可读性很强，帮助提高调试的速度</li> <li>不需要在测试代码中添加等待或者睡眠。（有自己的<a href="">重试和超时机制</a>）</li> <li>不需要使用Selenium或者驱动，更加快速和可靠。</li> <li>cypress与应用程序运行在同一个循环中，而大多数测试工具（如Selenium）都是通过在浏览器外部运行并在网络上执行远程命令来操作的。</li> <li>能够[记录操作截图和视频](Selenium or WebDriver)</li> <li>完美<a href="https://docs.cypress.io/guides/guides/cross-browser-testing.html#Continuous-Integration-Strategies" target="_blank" rel="noopener noreferrer">运行在持续集成pipeline中<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <blockquote><p>Cypress最终从上到下控制整个自动化过程，这使它处于一个独特的位置，能够理解浏览器内外发生的一切。这意味着Cypress能够提供比任何其他测试工具更一致和准确的结果。<a href="https://docs.cypress.io/guides/overview/key-differences.html#Architecture" target="_blank" rel="noopener noreferrer">链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><img src="/assets/img/image-20201218000023216.312ff71c.png" alt="image-20201218000023216"></p> <h3 id="cypress的超时和重试机制"><a href="#cypress的超时和重试机制" class="header-anchor">#</a> cypress的超时和重试机制</h3> <p>如果使用jQuery来去定位元素时，可能是这样的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 定位获取元素</span>
<span class="token keyword">const</span> $myElement <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.element'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 设置判断条件，如果元素找到了，才做什么。。。。</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>$myElement<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">doSomething</span><span class="token punctuation">(</span>$myElement<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>而cypress中处理找不到元素问题的方式是<strong>自动重试</strong>机制。</p> <p>cypress会自动重试，直到<strong>元素被找到</strong>或者<strong>达到超时时间</strong>（默认为4秒）。比如：</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#element'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$myElement</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">doSomething</span><span class="token punctuation">(</span>$myElement<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// cy.get()会重复去找元素#element,直到找到或超时</span>
</code></pre></div><p>自动重试机制使得cypress更加健壮，可以避免一些查找元素失败的情况，如：</p> <ul><li>DOM未加载</li> <li>XHR请求没有响应</li> <li>动画未完成</li> <li>等等。。</li></ul> <blockquote><p>可以通过[参数defaultCommandTimeout]来修改<a href="https://docs.cypress.io/guides/references/configuration.html#Timeouts" target="_blank" rel="noopener noreferrer">重试的超时时间<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <h3 id="cypress的持续集成策略"><a href="#cypress的持续集成策略" class="header-anchor">#</a> cypress的持续集成策略</h3> <p>cypress可以运行在多种浏览器中：</p> <ul><li><a href="https://www.google.com/chrome/browser/canary.html" target="_blank" rel="noopener noreferrer">Canary<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.google.com/chrome/browser/desktop/index.html" target="_blank" rel="noopener noreferrer">Chrome<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.chromium.org/Home" target="_blank" rel="noopener noreferrer">Chromium<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.microsoft.com/edge" target="_blank" rel="noopener noreferrer">Edge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.microsoftedgeinsider.com/download" target="_blank" rel="noopener noreferrer">Edge Beta<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.microsoftedgeinsider.com/download" target="_blank" rel="noopener noreferrer">Edge Canary<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.microsoftedgeinsider.com/download" target="_blank" rel="noopener noreferrer">Edge Dev<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://electron.atom.io/" target="_blank" rel="noopener noreferrer">Electron<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <strong>无头浏览器</strong></li> <li><a href="https://www.mozilla.org/firefox/" target="_blank" rel="noopener noreferrer">Firefox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.mozilla.org/firefox/developer/" target="_blank" rel="noopener noreferrer">Firefox Developer Edition<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.mozilla.org/firefox/nightly/" target="_blank" rel="noopener noreferrer">Firefox Nightly<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>可以通过<code>--browser</code>选项来指定cypress的运行浏览器：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>cypress run --browser chrome
cypress run --browser firefox
</code></pre></div><blockquote><p>使用cypress run命令来运行时，默认使用Electron无头浏览器来运行。</p></blockquote> <p>可以通过<strong>npm sripts</strong>来设定运行的快捷键：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;cy:run:chrome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress run --browser chrome&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;cy:run:firefox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress run --browser firefox&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>https://docs.cypress.io/guides/guides/cross-browser-testing.html#Continuous-Integration-Strategies</p> <h2 id="cypress的安装"><a href="#cypress的安装" class="header-anchor">#</a> cypress的安装</h2> <p><a href="https://docs.cypress.io/guides/getting-started/installing-cypress.html#System-requirements" target="_blank" rel="noopener noreferrer">安装cypress点击此处<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>cypress支持mac os, windows, linux系统。</p></li> <li><p>如果使用npm来安装，需要使用Node.js 10或者 12和以上的版本。</p></li> <li><p>使用在linux中安装，需要一些依赖：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">apt-get</span> <span class="token function">install</span> libgtk2.0-0 libgtk-3-0 libgbm-dev libnotify-dev libgconf-2-4 libnss3 libxss1 libasound2 libxtst6 xauth xvfb
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code>yum <span class="token function">install</span> -y xorg-x11-server-Xvfb gtk2-devel gtk3-devel libnotify-devel GConf2 nss libXScrnSaver alsa-lib
</code></pre></div></li></ul> <p><strong>1、通过npm安装。</strong></p> <div class="language- extra-class"><pre class="language-text"><code>cd /your/project/path
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> init

<span class="token comment">#修改当前目录的package.json文件，添加执行脚本</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;cypress:open&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;cypress open&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token function">npm</span> <span class="token function">install</span> cypress --save-dev
<span class="token function">npm</span> run cypress:open
</code></pre></div><p><strong>2、通过yarn直接安装</strong></p> <div class="language- extra-class"><pre class="language-text"><code>cd /your/project/path
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>yarn add cypress --dev
</code></pre></div><p>3、<strong>直接下载安装包安装</strong></p> <p><a href="https://download.cypress.io/desktop" target="_blank" rel="noopener noreferrer">download Cypress directly from our CDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="cypress的默认文件结构"><a href="#cypress的默认文件结构" class="header-anchor">#</a> cypress的默认文件结构</h2> <p>使用<code>npm rum cypress</code>命令首次打开cypress，cypress会自动地初始化配置并生成一个<strong>默认的<a href="https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests.html#Folder-Structure" target="_blank" rel="noopener noreferrer">文件夹结构<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong>：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>/cypress
  /fixtures 
    - example.json

  /integration
    /examples
      - actions.spec.js
      - aliasing.spec.js
      
  /plugins
    - index.js

  /support
    - commands.js
    - index.js
</code></pre></div><h3 id="fixtures"><a href="#fixtures" class="header-anchor">#</a> fixtures</h3> <p><strong>简介</strong></p> <ul><li>测试夹具通常配合 <code>cy.fixture()</code> 使用</li> <li>主要用来<strong>存储</strong>测试用例的<strong>外部静态数据</strong>，静态数据通常存储在 .json 文件中</li> <li><code>fixtures</code> 默认就在 <code>cypress/fixtures</code> 目录下，但也可以配置到另一个目录</li></ul> <h3 id="integration"><a href="#integration" class="header-anchor">#</a> integration</h3> <p>测试文件就是<strong>测试用例</strong>，默认位于 <strong>cypress/integration</strong> ，但也可以配置到另一个目录</p> <p><strong>测试文件格式</strong>：所有在 integration 文件下，且文件格式是以下的文件都将被 Cypress 识别为测试文件</p> <ul><li><code>.js</code> ：普通的<code>JavaScript</code> 编写的文件**【最常用】**</li> <li><code>.jsx</code> ：带有扩展的 <code>JavaScript</code> 文件，其中可以包含处理 <code>XML</code> 的 <code>ECMAScript</code></li> <li><code>.coffee</code> ：一套 <code>JavaScript</code> 转译的语言。有更严格的语法</li> <li><code>.cjsx</code> ：<code>CoffeeScript</code> 中的 <code>jsx</code> 文件</li></ul> <p>创建好后，<code>Cypress</code> 的 <code>Test Runner</code> 刷新之后就可以看到对应测试文件了</p> <h3 id="plugins"><a href="#plugins" class="header-anchor">#</a> plugins</h3> <ul><li>Cypress 独有优点就是<strong>测试代码运行在浏览器之内</strong>，使得 Cypress 跟其他的测试框架相比，有显著的架构优势</li> <li>这优点虽然提供了可靠性测试，但也使得和在浏览器之外进行通信更加困难**【痛点：和外部通信困难】**</li></ul> <p><strong>插件文件的诞生</strong></p> <ul><li><code>Cypress</code> 为了解决上述痛点提供了一些现成的插件，使你可以<strong>修改或扩展 Cypress 的内部行为</strong>（如：动态修改配置信息和环境变量等），也可以自定义自己的插件</li> <li>默认情况，插件位于 <code>cypress/plugins/index.js</code> 中，但可以配置到另一个目录</li> <li>为了方便，每个<strong>测试文件运行之前</strong>，<code>Cypress</code> 都会<strong>自动加载插件文件</strong> <code>cypress/plugins/index.js</code></li></ul> <p><strong>插件的应用场景</strong></p> <ul><li>动态更改来自 cypress.json，cypress.env.json，CLI或系统环境变量的<strong>已解析配置和环境变量</strong></li> <li>修改特定浏览器的启动参数</li> <li>将消息直接从测试代码传递到后端</li></ul> <h3 id="support"><a href="#support" class="header-anchor">#</a> support</h3> <ul><li>支持文件目录是放置可重用配置项，如**==底层通用函数或全局默认配置==**</li> <li>支持文件默认位于 <code>cypress/support/index.js</code> 中，但可以配置到另一个目录</li> <li>为了方便，每个<strong>测试文件运行之前</strong>，<code>Cypress</code> 都会<strong>自动加载支持文件</strong> <code>cypress/support/index.js</code></li></ul> <h2 id="测试用例文件的编写"><a href="#测试用例文件的编写" class="header-anchor">#</a> 测试用例文件的编写</h2> <p>借鉴于mocha。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// -- Start: Our Cypress Tests --</span>
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Unit test our math functions'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'can add numbers'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'can subtract numbers'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">specify</span><span class="token punctuation">(</span><span class="token string">'can divide numbers'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">specify</span><span class="token punctuation">(</span><span class="token string">'can multiply numbers'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// -- End: Our Cypress Tests --</span>
</code></pre></div><p>hooks：控制用例执行的前置和后置的操作。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// root-level hook</span>
  <span class="token comment">// runs before every test</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Hooks'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// runs once before all tests in the block</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// runs before each test in the block</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// runs after each test in the block</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// runs once after all tests in the block</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>.only</code>与<code>.skip</code>，帮助我们仅运行或者跳过某条用例。</p> <div class="language-js extra-class"><pre class="language-js"><code>  it<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span><span class="token string">'returns &quot;fizz&quot; when number is multiple of 3'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">numsExpectedToEq</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'fizz'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'returns &quot;buzz&quot; when number is multiple of 5'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">numsExpectedToEq</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'buzz'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>it<span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token string">'returns &quot;fizz&quot; when number is multiple of 3'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">numsExpectedToEq</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'fizz'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>结合<code>javascript</code>代码来<strong>动态的生成多个测试</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'if your app uses jQuery'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token string">'mouseleave'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'triggers event: '</span> <span class="token operator">+</span> event<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      cy
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#with-jquery'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'trigger'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'the event '</span> <span class="token operator">+</span> event <span class="token operator">+</span> <span class="token string">'was fired'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="断言"><a href="#断言" class="header-anchor">#</a> 断言</h2> <p>https://docs.cypress.io/guides/references/assertions.html#Chai</p> <p>cypress集成了 <a href="https://docs.cypress.io/guides/references/assertions.html#Chai" target="_blank" rel="noopener noreferrer">Chai<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>断言库。</p> <p><strong>常用的断言：</strong></p> <p><strong>Length</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until we find 3 matching &lt;li.selected&gt;</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'li.selected'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Class</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until this input does not have class disabled</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.have.class'</span><span class="token punctuation">,</span> <span class="token string">'disabled'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Value</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until this textarea has the correct value</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'textarea'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.value'</span><span class="token punctuation">,</span> <span class="token string">'foo bar baz'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Text Content</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until this span does not contain 'click me'</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token string">'span.help'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.contain'</span><span class="token punctuation">,</span> <span class="token string">'click me'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Visibility</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until this button is visible</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.visible'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Existence</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until loading spinner no longer exists</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.exist'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>State</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until our radio is checked</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">':radio'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'be.checked'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>CSS</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// retry until .completed has matching css</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.completed'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.css'</span><span class="token punctuation">,</span> <span class="token string">'text-decoration'</span><span class="token punctuation">,</span> <span class="token string">'line-through'</span><span class="token punctuation">)</span>
<span class="token comment">// retry while .accordion css has the &quot;display: none&quot; property</span>
cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#accordion'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'not.have.css'</span><span class="token punctuation">,</span> <span class="token string">'display'</span><span class="token punctuation">,</span> <span class="token string">'none'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>多个断言</strong>   https://docs.cypress.io/guides/core-concepts/retry-ability.html#Multiple-assertions</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'.todo-list li'</span><span class="token punctuation">)</span>     <span class="token comment">// command</span>
  <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.length'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// assertion</span>
  <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">$li</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2 more assertions</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">,</span> <span class="token string">'first item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">'todo a'</span><span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>$li<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">,</span> <span class="token string">'second item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">'todo B'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="定位元素"><a href="#定位元素" class="header-anchor">#</a> 定位元素</h2> <p>cypress跟jQuery的定位元素方法很像，而且cypress集成了jQuery，可以使用jQuery的方法来定位和操控元素。</p> <p>1、使用cypress定位元素：</p> <div class="language-js extra-class"><pre class="language-js"><code>cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#main-content'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.article'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">'img[src^=&quot;/static&quot;]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>2、使用cypress<a href="https://docs.cypress.io/api/utilities/$.html#Syntax" target="_blank" rel="noopener noreferrer">集成的jQuery<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来定位元素：</p> <div class="language-js extra-class"><pre class="language-js"><code>语法：
	Cypress<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span>
例子：
    Cypress<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> $li <span class="token operator">=</span> Cypress<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul li:first'</span><span class="token punctuation">)</span>
</code></pre></div><p>定位元素的优先级：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;button id=&quot;main&quot; class=&quot;btn btn-large&quot; name=&quot;submission&quot;
  role=&quot;button&quot; data-cy=&quot;submit&quot;&gt;Submit&lt;/button&gt;
</code></pre></div><table><thead><tr><th>Selector</th> <th>Recommended</th></tr></thead> <tbody><tr><td><code>cy.get('button').click()</code></td> <td>尽量不使用</td></tr> <tr><td><code>cy.get('.btn.btn-large').click()</code></td> <td>尽量不使用</td></tr> <tr><td><code>cy.get('#main').click()</code></td> <td>少量使用</td></tr> <tr><td><code>cy.get('[name=submission]').click()</code></td> <td>少量使用</td></tr> <tr><td><code>cy.contains('Submit').click()</code></td> <td>Depends</td></tr> <tr><td><code>cy.get('[data-cy=submit]').click()</code></td> <td>Always</td></tr></tbody></table> <h2 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h2> <p>一般来说，所有的测试代码，cypress的命令等都是运行在浏览器上的，但是cypress也是一个插件可以使用的Node进程。</p> <p>我们可以写自己的自定义代码然后在cypress特定的生命周期中去执行。</p> <h3 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h3> <h4 id="配置"><a href="#配置" class="header-anchor">#</a> <a href="https://docs.cypress.io/api/plugins/configuration-api.html" target="_blank" rel="noopener noreferrer">配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p>通过插件，可以使用编程的方式来修改已解析的配置和环境变量。</p> <p>已解析的配置和环境变量：来自于配置文件（默认为cypress.json）,cypress.env.json，命令行，或者系统环境变量）。</p> <p>利用插件，可以：</p> <ul><li>使用具有不同配置的多个环境</li> <li>基于环境来交换环境变量</li> <li>使用内置的fs库来读入配置文件</li> <li>更改用于测试的浏览器列表</li> <li>在yml中写配置</li></ul> <h4 id="预处理程序"><a href="#预处理程序" class="header-anchor">#</a> <a href="https://docs.cypress.io/api/plugins/preprocessors-api.html" target="_blank" rel="noopener noreferrer">预处理程序<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p><code>file:preprocessor</code> event 可用于自定义测试代码传输和发送到浏览器的方式。</p> <p>默认情况下，Cypress支持ES2015+、TypeScript和CoffeeScript，使用webpack为浏览器打包。</p> <p>可使用<code>file:preprocessor</code>来进行：</p> <ul><li>添加最新的ES* 支持。</li> <li>使用ClojureScript来编写测试代码。</li> <li>自定义Babel设置以添加自己的插件。</li> <li>自定义编译TypeScript的选项。</li> <li>把网页包换成Browserify或其他任何东西。</li></ul> <h4 id="浏览器运行"><a href="#浏览器运行" class="header-anchor">#</a> <a href="https://docs.cypress.io/api/plugins/browser-launch-api.html" target="_blank" rel="noopener noreferrer">浏览器运行<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p><code>before:browser:launch</code> event 可用于为每个特别的浏览器修改运行时的参数，如：</p> <ul><li>加载一个Chrome扩展（插件）</li> <li>启用或禁用实验chrome的一个功能</li> <li>控制chrome加载的组件</li></ul> <h4 id="截图处理"><a href="#截图处理" class="header-anchor">#</a> <a href="https://docs.cypress.io/api/plugins/after-screenshot-api.html" target="_blank" rel="noopener noreferrer">截图处理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h4> <p><code>after:screenshot</code> event在截图保存到磁盘后会被调用，利用该event可以：</p> <ul><li>保存截图的相关详细信息</li> <li>重命名截图</li> <li>对截图进行缩放、裁剪等操作</li></ul> <h3 id="插件安装"><a href="#插件安装" class="header-anchor">#</a> 插件安装</h3> <p>可以通过 npm install 命令来安装以下链接里的插件：<a href="https://docs.cypress.io/plugins/index.html" target="_blank" rel="noopener noreferrer">cypress插件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>plugin name<span class="token operator">&gt;</span> --save-dev
</code></pre></div><h3 id="插件使用"><a href="#插件使用" class="header-anchor">#</a> 插件使用</h3> <p>无论是通过npm install方式安装插件还是自己用代码写一个插件，都需要在<code>cypress/plugins/index.js</code>文件中export导出一个函数，cypress会调用这个函数，传送你的项目的配置。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// export a function</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// bind to the event we care about</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'&lt;event&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// plugin stuff here</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="自己定义插件"><a href="#自己定义插件" class="header-anchor">#</a> 自己定义插件</h3> <p>首先，<code>cypress/plugins/index.js</code>必须通过下面格式export导出一个函数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// export a function</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// configure plugins here</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这个函数在cypress运行的时候会被调用，函数将会接受两个参数： <code>on</code> 和<code>config</code>。</p> <p>函数可以返回一个同步函数，也可以返回一个Promise，直到它解决为止。这样，就能够在导出的函数中执行异步操作，例如从文件系统读入文件。</p> <p>如果返回或解析一个对象，那么Cypress将把这个对象合并到config中，这样就可以覆盖配置或环境变量。</p> <blockquote><p>一个模块就是一个独立的文件， 文件内部的所有变量，外部无法获取，export关键字用于暴露数据，<strong>暴露给其它模块</strong>。</p></blockquote> <h4 id="on"><a href="#on" class="header-anchor">#</a> on</h4> <p><code>on</code>是一个函数，用来为不同的导出的事件event注册监听器。对一个event注册监听的格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'&lt;event&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// plugin stuff here</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="config"><a href="#config" class="header-anchor">#</a> config</h4> <p><code>config</code>是一个已解析的cypress配置，这个配置包含项目中所有被传入到浏览器中的值。</p> <p><a href="https://github.com/cypress-io/cypress/blob/master/packages/server/lib/config.js" target="_blank" rel="noopener noreferrer">有关所有配置值的综合列表，可以参阅此处。<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>一些插件可能需要用到这些值，</p> <p>一些插件可能会使用这些值，从而可以根据配置执行某些操作。</p> <p>可以通过编程方式修改这些值，然后能够根据运行环境之类的东西交换配置。</p> <h3 id="通过插件修改配置"><a href="#通过插件修改配置" class="header-anchor">#</a> <a href="https://docs.cypress.io/api/plugins/configuration-api.html" target="_blank" rel="noopener noreferrer">通过插件修改配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>想要修改配置，需要从插件文件导出的函数中返回一个对象，如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// cypress/plugins/index.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token comment">// see what all is in here!</span>

  <span class="token comment">// modify config values</span>
  config<span class="token punctuation">.</span>defaultCommandTimeout <span class="token operator">=</span> <span class="token number">10000</span>
  config<span class="token punctuation">.</span>baseUrl <span class="token operator">=</span> <span class="token string">'https://staging.acme.com'</span>

  <span class="token comment">// modify env var value</span>
  config<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">ENVIRONMENT</span> <span class="token operator">=</span> <span class="token string">'staging'</span>

  <span class="token comment">// return config</span>
  <span class="token keyword">return</span> config
<span class="token punctuation">}</span>
</code></pre></div><p><strong>如果没有返回对象，配置不会被修改。</strong></p> <p>已解析的值会展示在测试运行器的”设置“选项卡中：</p> <p><img src="/assets/img/plugin-configuration.15548a6c.15548a6c.png" alt="Resolved configuration in the Desktop app"></p> <p><strong>cypress中，可以等待返回的promise，使得能够执行异步任务，并使用最终修改后的配置对象来进行解析。</strong></p> <h4 id="例子1-定义可用的浏览器"><a href="#例子1-定义可用的浏览器" class="header-anchor">#</a> 例子1：定义可用的浏览器</h4> <p>在插件文件中，可以过滤从config对象传过来的浏览器列表，然后返回一个你自己定义的执行<code>cypress open</code>命令时<strong>可用的浏览器</strong>。</p> <blockquote><p>注意：执行cypress open时，需要打开浏览器。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// cypress/plugins/index.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// inside config.browsers array each object has information like</span>
  <span class="token comment">// {</span>
  <span class="token comment">//   name: 'chrome',</span>
  <span class="token comment">//   family: 'chromium',</span>
  <span class="token comment">//   channel: 'canary',</span>
  <span class="token comment">//   displayName: 'Canary',</span>
  <span class="token comment">//   version: '80.0.3966.0',</span>
  <span class="token comment">//   path:</span>
  <span class="token comment">//    '/Applications/Canary.app/Contents/MacOS/Canary',</span>
  <span class="token comment">//   majorVersion: 80</span>
  <span class="token comment">// }</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    browsers<span class="token operator">:</span> config<span class="token punctuation">.</span>browsers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span>family <span class="token operator">===</span> <span class="token string">'chromium'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>经过上面的插件文件的过滤，当我们打开测试运行器（test runner)的时候，浏览器列表中只能看到系统的chrome浏览器，如下图：</p> <p><img src="/assets/img/chrome-browsers-only.fac48f59.fac48f59.png" alt="Filtered list of Chrome browsers"></p> <blockquote><p>如果插件文件中返回的浏览器列表为空或者返回<code>browsers: null</code>，则将自动恢复默认列表。</p></blockquote> <h4 id="例子2-读取不同的配置文件"><a href="#例子2-读取不同的配置文件" class="header-anchor">#</a> 例子2：读取不同的配置文件</h4> <p>基于不同的场景，有时候我们可能需要创建不同的配置文件，<strong>然后读取不同的配置文件去执行测试任务</strong>。</p> <blockquote><p>注意，这里的读取不同的配置文件，并不是说将要读取的默认的配置文件cypress.json改成其它的配置文件了，cypress执行测试时，依然会去读取cypress.json配置文件，但是，这里的配置文件的值可能会覆盖掉cypress.json中的值。</p> <p>我们可以看一下cypress的配置优先级：</p> <ol><li>默认值</li> <li><a href="https://docs.cypress.io/guides/references/configuration.html" target="_blank" rel="noopener noreferrer">配置文件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的值（配置文件默认为cypress.json，可以通过<code>--config-file</code>来指定为其它的文件）</li> <li><a href="https://docs.cypress.io/guides/guides/environment-variables.html#Option-2-cypress-env-json" target="_blank" rel="noopener noreferrer">环境变量文件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的值（文件为cypress.env.json，可以自己创建）</li> <li><a href="https://docs.cypress.io/guides/guides/environment-variables.html#Option-3-CYPRESS" target="_blank" rel="noopener noreferrer">系统环境变量<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中的值（<code>CYPRESS_*</code>）</li> <li><a href="https://docs.cypress.io/guides/guides/command-line.html" target="_blank" rel="noopener noreferrer">命令行参数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.cypress.io/api/plugins/configuration-api.html" target="_blank" rel="noopener noreferrer">插件文件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 返回的值</li></ol></blockquote> <p>例如：</p> <ul><li><code>cypress.qa.json</code></li> <li><code>cypress.dev.json</code></li> <li><code>cypress.prod.json</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// promisified fs module</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-extra'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">getConfigurationByFile</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pathToConfigFile <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'config'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> fs<span class="token punctuation">.</span><span class="token function">readJson</span><span class="token punctuation">(</span>pathToConfigFile<span class="token punctuation">)</span>  
<span class="token punctuation">}</span>

<span class="token comment">// plugins file</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// accept a configFile value or use development by default</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> config<span class="token punctuation">.</span>env<span class="token punctuation">.</span>configFile <span class="token operator">||</span> <span class="token string">'development'</span>

  <span class="token keyword">return</span> <span class="token function">getConfigurationByFile</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>require()</code>方法：</p> <p>用于引入模块、 <code>JSON</code>、或本地文件。 可以从 <code>node_modules</code> 引入模块。 可以使用相对路径（例如 <code>./</code>、 <code>./foo</code>、 <code>./bar/baz</code>、 <code>../foo</code>）引入本地模块或 JSON 文件，路径会根据 <a href="http://nodejs.cn/s/etUQhi" target="_blank" rel="noopener noreferrer"><code>__dirname</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 定义的目录名或当前工作目录进行处理。</p></blockquote> <p>接下来，可以通过环境变量来读取不同的配置文件：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cypress run
cypress run --env <span class="token assign-left variable">configFile</span><span class="token operator">=</span>qa
cypress run --env <span class="token assign-left variable">configFile</span><span class="token operator">=</span>staging
cypress run --env <span class="token assign-left variable">configFile</span><span class="token operator">=</span>production
</code></pre></div><p>上面的不同的环境变量，对应下面不同的配置文件的读取：</p> <div class="language- extra-class"><pre class="language-text"><code>cypress/config/development.json
cypress/config/qa.json
cypress/config/staging.json
cypress/config/production.json
</code></pre></div><p>不同的配置文件可以填写不同的内容，比如下面的例子：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// cypress/config/development.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:1234&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;something&quot;</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// cypress/config/qa.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://qa.acme.com&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;something&quot;</span><span class="token operator">:</span> <span class="token string">&quot;qa&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// cypress/config/staging.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://staging.acme.com&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;something&quot;</span><span class="token operator">:</span> <span class="token string">&quot;staging&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// cypress/config/production.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://production.acme.com&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;something&quot;</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="可用的事件event"><a href="#可用的事件event" class="header-anchor">#</a> 可用的事件event</h3> <table><thead><tr><th style="text-align:left;">Event</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="https://docs.cypress.io/api/plugins/preprocessors-api.html" target="_blank" rel="noopener noreferrer"><code>file:preprocessor</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">Occurs when a spec or spec-related file needs to be transpiled for the browser.</td></tr> <tr><td style="text-align:left;"><a href="https://docs.cypress.io/api/plugins/browser-launch-api.html" target="_blank" rel="noopener noreferrer"><code>before:browser:launch</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">Occurs immediately before launching a browser.</td></tr> <tr><td style="text-align:left;"><a href="https://docs.cypress.io/api/commands/task.html" target="_blank" rel="noopener noreferrer"><code>task</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">Occurs in conjunction with the <code>cy.task</code> command.</td></tr> <tr><td style="text-align:left;"><a href="https://docs.cypress.io/api/plugins/after-screenshot-api.html" target="_blank" rel="noopener noreferrer"><code>after:screenshot</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">Occurs after a screenshot is taken.</td></tr></tbody></table> <h3 id="运行时上下文"><a href="#运行时上下文" class="header-anchor">#</a> 运行时上下文</h3> <p>打开一个cypress项目的时候，插件文件会被调用。</p> <p>cypress会生成一个独立的子进程来加载插件文件（plugin files)。</p> <p>注意：</p> <blockquote><p>cypress加载的只是插件文件，不是你的本地项目，也不是其它你可以控制的东西。</p> <p>因此，全局上下文和Node的版本是控制在cypress下的。</p> <p>Node的版本：</p> <ul><li>插件中的代码会被cypress本身绑定的Node的版本来执行。</li> <li>这个Node的版本与你本地安装的Node的版本无关。因此，</li></ul> <p>此版本的节点与本地安装的Node版本无关。因此，在插件文件中需要写与绑定的Node版本兼容的代码，或者设置<a href="https://docs.cypress.io/guides/references/configuration.html#Node-version" target="_blank" rel="noopener noreferrer">node的版本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>设置方法：</p> <table><thead><tr><th>参数</th> <th>默认值</th> <th>描述</th></tr></thead> <tbody><tr><td><code>nodeVersion</code></td> <td><code>bundled</code></td> <td>如果设置为<code>system</code>, 当加载插件时候，Cypress将会在你的路径上寻找可执行的Node，否则，cypress将会使用cypress绑定的Node版本。</td></tr></tbody></table> <p><a href="https://github.com/cypress-io/cypress/blob/master/.node-version" target="_blank" rel="noopener noreferrer">点击此处<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>查看当前cypress绑定的node版本。</p></blockquote> <h4 id="npm模块"><a href="#npm模块" class="header-anchor">#</a> npm模块</h4> <p>当cypress执行插件文件时，会使用<code>process.cwd()</code>来设置项目的路径，从而可以加载任何已安装的npm模块，也可以加载本地的文件。</p> <p>例如，如果你的package.json文件如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;My Project&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;debug&quot;</span><span class="token operator">:</span> <span class="token string">&quot;x.x.x&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lodash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;x.x.x&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>那么你可以进行以下的操作：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// cypress/plugins/index.js</span>

<span class="token keyword">const</span> _ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span> <span class="token comment">// yup, dev dependencies</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span> <span class="token comment">// yup, built in node modules</span>
<span class="token keyword">const</span> debug <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'debug'</span><span class="token punctuation">)</span> <span class="token comment">// yup, dependencies</span>
<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../lib/models/user'</span><span class="token punctuation">)</span> <span class="token comment">// yup, relative local modules</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">)</span> <span class="token comment">// /Users/janelane/Dev/my-project/cypress/plugins/index.js</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// /Users/janelane/Dev/my-project</span>
</code></pre></div><h3 id="插件错误处理"><a href="#插件错误处理" class="header-anchor">#</a> 插件错误处理</h3> <p>Cypress在子进程中生成插件文件，这样它就与Cypress本身运行的上下文隔离开来。因此，不能以任何方式意外地修改或更改Cypress自身的执行。</p> <p>如果插件文件有未捕获的异常、未经处理的承诺拒绝或语法错误，将自动捕获这些异常展示在控制台内部或者在测试运行器（Test Runner）中。</p> <p>插件中的错误不会导致Cypress崩溃。</p> <h3 id="插件文件的更改"><a href="#插件文件的更改" class="header-anchor">#</a> 插件文件的更改</h3> <p>一般来说，写Node代码的时候，修改了任何文件之后，需要重启进程。</p> <p>但是，在cypress中，将会自动监控你的插件文件或者任何的改变，然后立即生效（重新读取文件和执行导出的函数）。</p> <p>因此，我们可以在cypress已经运行的时候，不断修改插件的代码。</p> <h2 id="报告"><a href="#报告" class="header-anchor">#</a> 报告</h2> <h3 id="cypress内置报告器"><a href="#cypress内置报告器" class="header-anchor">#</a> cypress内置报告器</h3> <p>报告器：reporter</p> <p>因为cypress是基于mocha构建的，所以mocha的所有报告器，cypress都可以使用。</p> <blockquote><p>Mocha是一个功能丰富的运行在Node.js和浏览器中的<strong>JavaScript测试框架</strong>。</p></blockquote> <ul><li><p><a href="https://mochajs.org/#reporters" target="_blank" rel="noopener noreferrer">Mocha内置的报告器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <ul><li><p><strong>SPEC</strong> 报告器，这个是默认的报告器。</p> <p><img src="/assets/img/image-20201210115340888.26bc3756.png" alt="image-20201210115340888"></p></li> <li><p>Dot Matrix报告器</p></li> <li><p>Nyan报告器</p></li> <li><p>TAP报告器</p></li> <li><p>Landing Strip报告器</p></li> <li><p>LIST报告器</p></li> <li><p>JSON报告器</p></li> <li><p>Markdown报告器</p></li></ul></li></ul> <p>也可以使用下面两种mocha的第三方报告器，目前已经集成在cypress中，无需安装任何东西：</p> <ul><li><a href="https://github.com/cypress-io/mocha-teamcity-reporter" target="_blank" rel="noopener noreferrer"><code>teamcity</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/michaelleeallen/mocha-junit-reporter" target="_blank" rel="noopener noreferrer"><code>junit</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>建议使用自定义的报告器或者使用第三方报告器。</p> <h3 id="cypress自定义报告器"><a href="#cypress自定义报告器" class="header-anchor">#</a> cypress自定义报告器</h3> <h4 id="自定义报告器"><a href="#自定义报告器" class="header-anchor">#</a> 自定义报告器</h4> <h5 id="本地安装"><a href="#本地安装" class="header-anchor">#</a> 本地安装</h5> <p>可以通过绝对路径或相对路径加载自定义的<a href="https://mochajs.org/api/tutorial-custom-reporter.html" target="_blank" rel="noopener noreferrer">mocha报告器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，可在cypress.json配置（默认）或者<a href="https://docs.cypress.io/guides/guides/command-line.html" target="_blank" rel="noopener noreferrer">命令行<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来指定</p> <p>例子，加入项目结构如下：</p> <div class="language-txt extra-class"><pre class="language-text"><code>&gt; my-project
  &gt; cypress
  &gt; src
  &gt; reporters
    - custom.js
</code></pre></div><p>可通过下面的方式指定自定义的报告器的路径。</p> <p>配置文件（默认为cypress.json）中：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;reporter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;reporters/custom.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>命令行中：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cypress run --reporter reporters/custom.js
</code></pre></div><h5 id="通过npm安装"><a href="#通过npm安装" class="header-anchor">#</a> 通过npm安装</h5> <p>通过npm安装自定义的报告器时，需要指定package的名称。</p> <p>配置文件（默认为cypress.json）：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;reporter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mochawesome&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>命令行：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cypress run --reporter mochawesome
</code></pre></div><h4 id="报告器参数设置"><a href="#报告器参数设置" class="header-anchor">#</a> 报告器参数设置</h4> <p>可通过cypress.json文件或者命令行来指定报告器的参数。</p> <p>不同的报告器，可能会有不同的参数设置，可以去参考使用的报告器的官方文档。</p> <p>举个例子：下面的cypress.json的配置使得，将会输出<code>JUnit</code>报告到控制台并保存到一个XML文件中。</p> <p>配置文件（默认为cypress.json）：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;reporter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;junit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reporterOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;mochaFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;results/my-test-output.xml&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;toConsole&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>命令行：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cypress run --reporter junit <span class="token punctuation">\</span>
  --reporter-options <span class="token string">&quot;mochaFile=results/my-test-output.xml,toConsole=true&quot;</span>
</code></pre></div><h4 id="合并多个用例文件的测试报告"><a href="#合并多个用例文件的测试报告" class="header-anchor">#</a> 合并多个用例文件的测试报告</h4> <p>每一个用例文件都会独立生成一个报告，每运行一个用例文件的测试报告都会覆盖之前的报告文件。</p> <p>如果想要为每一个用例文件保存一份报告，可以在<code>mochaFile</code>的文件名中使用<code>[hash]</code>。</p> <p>例子：下面的配置使得可以在results目录下创建独立的XML文件。</p> <p>配置文件（默认为cypress.json）：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;reporter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;junit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reporterOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;mochaFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;results/my-test-output-[hash].xml&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>命令行：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cypress run --reporter junit <span class="token punctuation">\</span>
  --reporter-options <span class="token string">&quot;mochaFile=results/my-test-output-[hash].xml&quot;</span>
</code></pre></div><hr> <p>还可以使用第三方工具来合并输出的报告，比如对于<a href="https://github.com/adamgruber/mochawesome" target="_blank" rel="noopener noreferrer">Mochawesome<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 报告器，可以使用<a href="https://github.com/antontelesh/mochawesome-merge" target="_blank" rel="noopener noreferrer">mochawesome-merge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 工具来合并报告。</p> <h4 id="使用多种报告器"><a href="#使用多种报告器" class="header-anchor">#</a> 使用多种报告器</h4> <p>在持续集成中，可能想生成junit报告和json报告，但是使用这种报告器，测试在运行时不会有额外的反馈。</p> <p>解决办法就是使用多种报告器。建议使用npm module方式来安装：https://github.com/you54f/cypress-multi-reporters。</p> <h5 id="例子1"><a href="#例子1" class="header-anchor">#</a> <a href="https://github.com/cypress-io/cypress-example-circleci-orb" target="_blank" rel="noopener noreferrer">例子1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><strong>输出SPEC报告到控制台，保存junit XML文件。</strong></p> <p>输出SPEC报告到控制台，保存多个Mochawesome JSON报告并合并为一个单独的报告。</p> <p>安装额外的依赖：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev cypress-multi-reporters mocha-junit-reporter
</code></pre></div><p>指定报告器和报告器的参数：</p> <p>配置文件（默认为cypress.json)：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;reporter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress-multi-reporters&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reporterOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;configFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;reporter-config.json&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>命令行：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cypress run --reporter cypress-multi-reporters <span class="token punctuation">\</span>
  --reporter-options <span class="token assign-left variable">configFile</span><span class="token operator">=</span>reporter-config.json
</code></pre></div><p>添加一个名称为<code>reporter-config.json</code> 的文件，文件里面定义了报告器的配置</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;reporterEnabled&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spec, mocha-junit-reporter&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mochaJunitReporterReporterOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;mochaFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress/results/results-[hash].xml&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运行前，最好将报告目录cypress/results（可以是其它的）里的文件全部删除，因为每一次运行都会输出一个新的XML文件。</p> <p>举个例子，可以在package.json中添加npm脚本来删除文件和设置特定的运行方式：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;delete:reports&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rm cypress/results/* || true&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prereport&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run delete:reports&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;report&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress run --reporter cypress-multi-reporters --reporter-options configFile=reporter-config.json&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h5 id="例子2"><a href="#例子2" class="header-anchor">#</a> <a href="https://github.com/cypress-io/cypress-example-circleci-orb" target="_blank" rel="noopener noreferrer">例子2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h5> <p><strong>输出SPEC报告到控制台，为每个测试文件生成一个Mochawesome JSON文件，然后合并所有JSON报告为一个单独的报告</strong></p> <p>安装额外的依赖：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev mochawesome mochawesome-merge mochawesome-report-generator
</code></pre></div><p>配置文件（默认为cypress.json):</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;reporter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mochawesome&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reporterOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;reportDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cypress/results&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;overwrite&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;html&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;json&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>命令行：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>cypress run --reporter mochawesome <span class="token punctuation">\</span>
  --reporter-options <span class="token assign-left variable">reportDir</span><span class="token operator">=</span>reporter-config.json,overwrite<span class="token operator">=</span>false,html<span class="token operator">=</span>false,json<span class="token operator">=</span>true
</code></pre></div><p>运行后，会生成文件：<code>cypress/results/mochawesome.json, cypress/results/mochawesome_001.json, ...</code>。</p> <p>然后就可以使用<a href="https://github.com/antontelesh/mochawesome-merge" target="_blank" rel="noopener noreferrer">mochawesome-merge<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>工具来合并它们了：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>npx mochawesome-merge <span class="token string">&quot;cypress/results/*.json&quot;</span> <span class="token operator">&gt;</span> mochawesome.json
</code></pre></div><p>之后，我们会根据<code>mochawesome.json</code> 文件，使用<a href="https://github.com/adamgruber/mochawesome-report-generator" target="_blank" rel="noopener noreferrer">mochawesome-report-generator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>工具来生成一个合并的HTML报告。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>npx marge mochawesome.json
</code></pre></div><p>生成的HTML报告<code>mochawesome-report/mochawesome.html</code> 如下，包含了所有测试的结果，耗时，以及测试body等：</p> <p><img src="/assets/img/mochawesome-report.accfcbf0.accfcbf0.png" alt="Mochawesome HTML report"></p> <h3 id="mochawesome报告器"><a href="#mochawesome报告器" class="header-anchor">#</a> mochawesome报告器</h3> <p>Mochawesome是一个为javascript测试框架定制的一个报告器，比如mocha。它运行在node.js上，并与mochawesome报告生成器<a href="https://github.com/adamgruber/mochawesome-report-generator" target="_blank" rel="noopener noreferrer">mochawesome-report-generator（marge）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 一起工作，生成独立的HTML/CSS报告（Marge从mochawesome获取JSON输出并生成一个完整的HTML/CSS报告）。</p> <p>Mochawesome报告器的特点：</p> <ul><li>简单、干净、现代化</li> <li>漂亮的图表</li> <li>支持测试和套件的嵌套</li> <li>可以展示before和after hooks</li> <li>可查看测试代码</li> <li>跟踪失败的测试</li> <li>支持添加测试的上下文信息</li> <li>具有过滤器（只查看想看的测试)</li> <li>反应灵敏</li> <li>离线观看</li> <li>支持并行模式</li></ul> <p>使用方式：</p> <div class="language- extra-class"><pre class="language-text"><code>1、安装
npm install --save-dev mochawesome
</code></pre></div><p>mochawesome报告器可设置的参数：</p> <table><thead><tr><th>Option Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td><code>quiet</code></td> <td>boolean</td> <td>false</td> <td>Silence console messages</td></tr> <tr><td><code>reportFilename</code></td> <td>string</td> <td>mochawesome</td> <td>Filename of saved report   <em>Applies to the generated html and json files.</em></td></tr> <tr><td><code>html</code></td> <td>boolean</td> <td>true</td> <td>Save the HTML output for the test run</td></tr> <tr><td><code>json</code></td> <td>boolean</td> <td>true</td> <td>Save the JSON output for the test run</td></tr> <tr><td><code>consoleReporter</code></td> <td>string</td> <td>spec</td> <td>Name of mocha reporter to use for console output, or <code>none</code> to disable console report output entirely</td></tr></tbody></table> <p>mochawesome报告器生成的报告：</p> <p><img src="/assets/img/marge-report-1.0.1.e5de0632.png" alt="Mochawesome Report"></p> <h2 id="数据驱动"><a href="#数据驱动" class="header-anchor">#</a> 数据驱动</h2> <p>第一种方式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/// &lt;reference types=&quot;cypress&quot;/&gt;</span>

<span class="token comment">// 导入数据文件 testdata.json，并保存在 testData 变量中</span>
<span class="token keyword">import</span> testData <span class="token keyword">from</span> <span class="token string">'../../data/testdata.json'</span>


<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'create a project with data-driven'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

    <span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'testing'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

        <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            
            cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            cy<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> data <span class="token keyword">of</span> testData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">it</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">测试数据：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cy<span class="token punctuation">.</span><span class="token function">createProject</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>proName<span class="token punctuation">,</span>data<span class="token punctuation">.</span>desc<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>


        <span class="token function">after</span><span class="token punctuation">(</span><span class="token string">'logout'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

            <span class="token comment">// cy.logout();</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>第二种方式：动态生成测试</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'if your app uses jQuery'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token string">'mouseleave'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'triggers event: '</span> <span class="token operator">+</span> event<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      cy
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#with-jquery'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'trigger'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#messages'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'contain'</span><span class="token punctuation">,</span> <span class="token string">'the event '</span> <span class="token operator">+</span> event <span class="token operator">+</span> <span class="token string">'was fired'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>第三种方式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'参数化案例，输入不同的值'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 定义测试数据</span>
    <span class="token keyword">var</span> testdatas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;apulis&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;依瞳科技&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">]</span>
    <span class="token comment">// 前置-打开浏览器</span>
    <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">'https://www.baidu.com'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 参数化</span>
    testdatas<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;百度输入框功能&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#kw'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.value'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token string">'have.value'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h2> <h3 id="查找页面元素的基本方法"><a href="#查找页面元素的基本方法" class="header-anchor">#</a> 查找页面元素的基本方法</h3> <table><thead><tr><th>命令</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13065990.html" target="_blank" rel="noopener noreferrer">get()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065990.html" target="_blank" rel="noopener noreferrer">find()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065990.html" target="_blank" rel="noopener noreferrer">contains()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h3 id="查找页面元素的辅助方法"><a href="#查找页面元素的辅助方法" class="header-anchor">#</a> 查找页面元素的辅助方法</h3> <table><thead><tr><th>命令</th></tr></thead> <tbody><tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">children()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">parents()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">parent()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">siblings()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">first()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">last()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">next()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">nextAll()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit;postId=14031640" target="_blank" rel="noopener noreferrer">nextUntil(selector)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065998.html#hid-iMfFd5" target="_blank" rel="noopener noreferrer">prev()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065998.html" target="_blank" rel="noopener noreferrer">prevUntil()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065998.html" target="_blank" rel="noopener noreferrer">each()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065998.html" target="_blank" rel="noopener noreferrer">eq()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065998.html" target="_blank" rel="noopener noreferrer">closest()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h3 id="点击命令"><a href="#点击命令" class="header-anchor">#</a> 点击命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13066005.html" target="_blank" rel="noopener noreferrer">click()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>单击</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066005.html" target="_blank" rel="noopener noreferrer">dbclick()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>双击</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066005.html" target="_blank" rel="noopener noreferrer">rightclick()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>右键点击</td></tr></tbody></table> <h3 id="操作页面元素的命令"><a href="#操作页面元素的命令" class="header-anchor">#</a> 操作页面元素的命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13066011.html" target="_blank" rel="noopener noreferrer">type()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>输入框输入文本元素</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13140409.html" target="_blank" rel="noopener noreferrer">focus()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>聚焦DOM元素</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13140409.html" target="_blank" rel="noopener noreferrer">blur()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>DOM元素失去焦点</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066015.html" target="_blank" rel="noopener noreferrer">clear()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>清空DOM元素</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066039.html" target="_blank" rel="noopener noreferrer">submit()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>提交表单</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066005.html" target="_blank" rel="noopener noreferrer">click()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>点击DOM元素</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066005.html" target="_blank" rel="noopener noreferrer">dbclick()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>双击</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066005.html" target="_blank" rel="noopener noreferrer">rightclick()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>右键点击</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065988.html" target="_blank" rel="noopener noreferrer">check()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>选中单选框、复选框</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13065988.html" target="_blank" rel="noopener noreferrer">uncheck()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>取消选中复选框</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066025.html" target="_blank" rel="noopener noreferrer">select()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>select options选项框</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13140634.html" target="_blank" rel="noopener noreferrer">scrollIntoView()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>将DOM元素滑动到可视区域</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13066031.html" target="_blank" rel="noopener noreferrer">trigger()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>DOM元素上触发事件</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13141302.html" target="_blank" rel="noopener noreferrer">scrollTo()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>滑动滚动条</td></tr></tbody></table> <h3 id="获取页面全局对象的命令"><a href="#获取页面全局对象的命令" class="header-anchor">#</a> 获取页面全局对象的命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13151135.html" target="_blank" rel="noopener noreferrer">window()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取当前页面的窗口对象</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13149627.html" target="_blank" rel="noopener noreferrer">title()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取当前页面的title</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13149710.html" target="_blank" rel="noopener noreferrer">url()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取当前页面的URL</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13152064.html" target="_blank" rel="noopener noreferrer">location()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取当前页面的全局window.location对象</td></tr> <tr><td><a href="https://i.cnblogs.com/posts/edit-done;postId=13151943" target="_blank" rel="noopener noreferrer">document()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取当前页面的全局windowd.ocument对象</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13150936.html" target="_blank" rel="noopener noreferrer">hash()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取当前页面的URL 哈希值</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13151649.html" target="_blank" rel="noopener noreferrer">root()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取根DOM元素</td></tr></tbody></table> <h3 id="操作浏览器的命令"><a href="#操作浏览器的命令" class="header-anchor">#</a> 操作浏览器的命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13173455.html" target="_blank" rel="noopener noreferrer">go()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>浏览器前进、后退</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13173533.html" target="_blank" rel="noopener noreferrer">reload()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>刷新页面</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13174388.html" target="_blank" rel="noopener noreferrer">viewport()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>控制浏览器窗口的大小和方向</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13608977.html" target="_blank" rel="noopener noreferrer">visit()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>访问指定的 url</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13625824.html" target="_blank" rel="noopener noreferrer">wait()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>强制等待</td></tr></tbody></table> <h3 id="操作上一条命令返回结果的命令"><a href="#操作上一条命令返回结果的命令" class="header-anchor">#</a> 操作上一条命令返回结果的命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13671895.html" target="_blank" rel="noopener noreferrer">then()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>将上一条命令返回的结果注入到下一个命令中</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13678233.html" target="_blank" rel="noopener noreferrer">and()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>创建一个断言。断言将自动重试，直到它们通过或超时</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13678233.html" target="_blank" rel="noopener noreferrer">should()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>and() 的别名</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13680832.html" target="_blank" rel="noopener noreferrer">invoke()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>对上一条命令的结果执行调用方法操作</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13686431.html" target="_blank" rel="noopener noreferrer">its()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取对象的属性值</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13730822.html" target="_blank" rel="noopener noreferrer">as()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>取别名</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14006553.html" target="_blank" rel="noopener noreferrer">within()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>限定命令作用域</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14006831.html" target="_blank" rel="noopener noreferrer">each()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>遍历当前元素</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14007116.html" target="_blank" rel="noopener noreferrer">spread()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>将数组内容作为单独的参数传回到回调函数</td></tr></tbody></table> <h3 id="操作文件相关命令"><a href="#操作文件相关命令" class="header-anchor">#</a> 操作文件相关命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13671895.html" target="_blank" rel="noopener noreferrer">fixture()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>加载数据文件</td></tr> <tr><td>readFile()</td> <td></td></tr> <tr><td>writeFile()</td> <td></td></tr></tbody></table> <h3 id="网络相关命令"><a href="#网络相关命令" class="header-anchor">#</a> 网络相关命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13841964.html" target="_blank" rel="noopener noreferrer">request()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>发送 HTTP 请求</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13852941.html" target="_blank" rel="noopener noreferrer">route()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>路由</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/13856700.html" target="_blank" rel="noopener noreferrer">server()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>mock 服务器</td></tr> <tr><td>intercept()</td> <td></td></tr></tbody></table> <h3 id="操作-cookie-相关命令"><a href="#操作-cookie-相关命令" class="header-anchor">#</a> 操作 Cookie 相关命令</h3> <table><thead><tr><th>命令</th> <th>作用</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/14014705.html" target="_blank" rel="noopener noreferrer">getCookies()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>获取所有 Cookies</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14014706.html" target="_blank" rel="noopener noreferrer">setCookie()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>设置一个 Cookie</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14014709.html" target="_blank" rel="noopener noreferrer">clearCookie()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>清除指定名称的 Cookie</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14014713.html" target="_blank" rel="noopener noreferrer">clearCookies()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>清除所有 Cookie</td></tr></tbody></table> <h3 id="cypress-api-命令大全"><a href="#cypress-api-命令大全" class="header-anchor">#</a> Cypress API 命令大全</h3> <table><thead><tr><th>命令</th></tr></thead> <tbody><tr><td><a href="https://www.cnblogs.com/poloyy/p/13808675.html" target="_blank" rel="noopener noreferrer">Cypress.Commands<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14023979.html" target="_blank" rel="noopener noreferrer">Cypress.Cookies<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14030243.html" target="_blank" rel="noopener noreferrer">Cypress.config<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14031174.html" target="_blank" rel="noopener noreferrer">Cypress.env<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>Cypress.dom</td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14024311.html" target="_blank" rel="noopener noreferrer">Cypress.platform<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14024356.html" target="_blank" rel="noopener noreferrer">Cypress.version<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14024183.html" target="_blank" rel="noopener noreferrer">Cypress.arch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14024741.html" target="_blank" rel="noopener noreferrer">Cypress.spec<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14024553.html" target="_blank" rel="noopener noreferrer">Cypress.browser<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><a href="https://www.cnblogs.com/poloyy/p/14025013.html" target="_blank" rel="noopener noreferrer">Cypress.log<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <h2 id="练习cypress"><a href="#练习cypress" class="header-anchor">#</a> 练习cypress</h2> <p>下载github的开源：https://github.com/cypress-io/cypress-realworld-app</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/MaLunan/press/edit/dev-mln/docs/cypress/cypress.md" target="_blank" rel="noopener noreferrer">在GitHub 上编辑此页！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">1/19/2021, 1:41:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fdd7a502.js" defer></script><script src="/assets/js/16.375b747e.js" defer></script><script src="/assets/js/32.d8f4f116.js" defer></script>
  </body>
</html>
